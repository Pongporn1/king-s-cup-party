var BM=Object.defineProperty;var Sb=t=>{throw TypeError(t)};var zM=(t,e,n)=>e in t?BM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ku=(t,e,n)=>zM(t,typeof e!="symbol"?e+"":e,n),om=(t,e,n)=>e.has(t)||Sb("Cannot "+n);var O=(t,e,n)=>(om(t,e,"read from private field"),n?n.call(t):e.get(t)),Ne=(t,e,n)=>e.has(t)?Sb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ue=(t,e,n,r)=>(om(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Pt=(t,e,n)=>(om(t,e,"access private method"),n);var Yu=(t,e,n,r)=>({set _(s){ue(t,e,s,n)},get _(){return O(t,e,r)}});function WM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ES(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kS={exports:{}},Of={},TS={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uu=Symbol.for("react.element"),HM=Symbol.for("react.portal"),GM=Symbol.for("react.fragment"),qM=Symbol.for("react.strict_mode"),KM=Symbol.for("react.profiler"),YM=Symbol.for("react.provider"),QM=Symbol.for("react.context"),XM=Symbol.for("react.forward_ref"),JM=Symbol.for("react.suspense"),ZM=Symbol.for("react.memo"),eO=Symbol.for("react.lazy"),Eb=Symbol.iterator;function tO(t){return t===null||typeof t!="object"?null:(t=Eb&&t[Eb]||t["@@iterator"],typeof t=="function"?t:null)}var jS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RS=Object.assign,IS={};function sl(t,e,n){this.props=t,this.context=e,this.refs=IS,this.updater=n||jS}sl.prototype.isReactComponent={};sl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function PS(){}PS.prototype=sl.prototype;function rx(t,e,n){this.props=t,this.context=e,this.refs=IS,this.updater=n||jS}var sx=rx.prototype=new PS;sx.constructor=rx;RS(sx,sl.prototype);sx.isPureReactComponent=!0;var kb=Array.isArray,AS=Object.prototype.hasOwnProperty,ix={current:null},DS={key:!0,ref:!0,__self:!0,__source:!0};function MS(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)AS.call(e,r)&&!DS.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:uu,type:t,key:i,ref:o,props:s,_owner:ix.current}}function nO(t,e){return{$$typeof:uu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ox(t){return typeof t=="object"&&t!==null&&t.$$typeof===uu}function rO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Tb=/\/+/g;function am(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rO(""+t.key):e.toString(36)}function Md(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case uu:case HM:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+am(o,0):r,kb(s)?(n="",t!=null&&(n=t.replace(Tb,"$&/")+"/"),Md(s,e,n,"",function(u){return u})):s!=null&&(ox(s)&&(s=nO(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Tb,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",kb(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+am(i,l);o+=Md(i,e,n,c,s)}else if(c=tO(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+am(i,l++),o+=Md(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Qu(t,e,n){if(t==null)return t;var r=[],s=0;return Md(t,r,"","",function(i){return e.call(n,i,s++)}),r}function sO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},Od={transition:null},iO={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:Od,ReactCurrentOwner:ix};function OS(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:Qu,forEach:function(t,e,n){Qu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qu(t,function(){e++}),e},toArray:function(t){return Qu(t,function(e){return e})||[]},only:function(t){if(!ox(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=sl;we.Fragment=GM;we.Profiler=KM;we.PureComponent=rx;we.StrictMode=qM;we.Suspense=JM;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iO;we.act=OS;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=RS({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ix.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)AS.call(e,c)&&!DS.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:uu,type:t.type,key:s,ref:i,props:r,_owner:o}};we.createContext=function(t){return t={$$typeof:QM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:YM,_context:t},t.Consumer=t};we.createElement=MS;we.createFactory=function(t){var e=MS.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:XM,render:t}};we.isValidElement=ox;we.lazy=function(t){return{$$typeof:eO,_payload:{_status:-1,_result:t},_init:sO}};we.memo=function(t,e){return{$$typeof:ZM,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=Od.transition;Od.transition={};try{t()}finally{Od.transition=e}};we.unstable_act=OS;we.useCallback=function(t,e){return Qt.current.useCallback(t,e)};we.useContext=function(t){return Qt.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};we.useEffect=function(t,e){return Qt.current.useEffect(t,e)};we.useId=function(){return Qt.current.useId()};we.useImperativeHandle=function(t,e,n){return Qt.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return Qt.current.useMemo(t,e)};we.useReducer=function(t,e,n){return Qt.current.useReducer(t,e,n)};we.useRef=function(t){return Qt.current.useRef(t)};we.useState=function(t){return Qt.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return Qt.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return Qt.current.useTransition()};we.version="18.3.1";TS.exports=we;var p=TS.exports;const H=ES(p),ax=WM({__proto__:null,default:H},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oO=p,aO=Symbol.for("react.element"),lO=Symbol.for("react.fragment"),cO=Object.prototype.hasOwnProperty,uO=oO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dO={key:!0,ref:!0,__self:!0,__source:!0};function LS(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)cO.call(e,r)&&!dO.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:aO,type:t,key:i,ref:o,props:s,_owner:uO.current}}Of.Fragment=lO;Of.jsx=LS;Of.jsxs=LS;kS.exports=Of;var a=kS.exports,FS={exports:{}},_n={},VS={exports:{}},$S={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,M){var j=A.length;A.push(M);e:for(;0<j;){var W=j-1>>>1,K=A[W];if(0<s(K,M))A[W]=M,A[j]=K,j=W;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var M=A[0],j=A.pop();if(j!==M){A[0]=j;e:for(var W=0,K=A.length,re=K>>>1;W<re;){var ae=2*(W+1)-1,Te=A[ae],Re=ae+1,Q=A[Re];if(0>s(Te,j))Re<K&&0>s(Q,Te)?(A[W]=Q,A[Re]=j,W=Re):(A[W]=Te,A[ae]=j,W=ae);else if(Re<K&&0>s(Q,j))A[W]=Q,A[Re]=j,W=Re;else break e}}return M}function s(A,M){var j=A.sortIndex-M.sortIndex;return j!==0?j:A.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,w=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(A){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=A)r(u),M.sortIndex=M.expirationTime,e(c,M);else break;M=n(u)}}function N(A){if(g=!1,b(A),!w)if(n(c)!==null)w=!0,V(_);else{var M=n(u);M!==null&&z(N,M.startTime-A)}}function _(A,M){w=!1,g&&(g=!1,x(E),E=-1),m=!0;var j=f;try{for(b(M),h=n(c);h!==null&&(!(h.expirationTime>M)||A&&!R());){var W=h.callback;if(typeof W=="function"){h.callback=null,f=h.priorityLevel;var K=W(h.expirationTime<=M);M=t.unstable_now(),typeof K=="function"?h.callback=K:h===n(c)&&r(c),b(M)}else r(c);h=n(c)}if(h!==null)var re=!0;else{var ae=n(u);ae!==null&&z(N,ae.startTime-M),re=!1}return re}finally{h=null,f=j,m=!1}}var C=!1,S=null,E=-1,k=5,T=-1;function R(){return!(t.unstable_now()-T<k)}function I(){if(S!==null){var A=t.unstable_now();T=A;var M=!0;try{M=S(!0,A)}finally{M?F():(C=!1,S=null)}}else C=!1}var F;if(typeof v=="function")F=function(){v(I)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,$=P.port2;P.port1.onmessage=I,F=function(){$.postMessage(null)}}else F=function(){y(I,0)};function V(A){S=A,C||(C=!0,F())}function z(A,M){E=y(function(){A(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,V(_))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(A){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var j=f;f=M;try{return A()}finally{f=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,M){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var j=f;f=A;try{return M()}finally{f=j}},t.unstable_scheduleCallback=function(A,M,j){var W=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?W+j:W):j=W,A){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=j+K,A={id:d++,callback:M,priorityLevel:A,startTime:j,expirationTime:K,sortIndex:-1},j>W?(A.sortIndex=j,e(u,A),n(c)===null&&A===n(u)&&(g?(x(E),E=-1):g=!0,z(N,j-W))):(A.sortIndex=K,e(c,A),w||m||(w=!0,V(_))),A},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(A){var M=f;return function(){var j=f;f=M;try{return A.apply(this,arguments)}finally{f=j}}}})($S);VS.exports=$S;var hO=VS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fO=p,bn=hO;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var US=new Set,Cc={};function Ro(t,e){Ma(t,e),Ma(t+"Capture",e)}function Ma(t,e){for(Cc[t]=e,t=0;t<e.length;t++)US.add(e[t])}var ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rg=Object.prototype.hasOwnProperty,pO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jb={},Rb={};function mO(t){return Rg.call(Rb,t)?!0:Rg.call(jb,t)?!1:pO.test(t)?Rb[t]=!0:(jb[t]=!0,!1)}function gO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vO(t,e,n,r){if(e===null||typeof e>"u"||gO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jt[t]=new Xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jt[e]=new Xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jt[t]=new Xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jt[t]=new Xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jt[t]=new Xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jt[t]=new Xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jt[t]=new Xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jt[t]=new Xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jt[t]=new Xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var lx=/[\-:]([a-z])/g;function cx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(lx,cx);jt[e]=new Xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(lx,cx);jt[e]=new Xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(lx,cx);jt[e]=new Xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!1,!1)});jt.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ux(t,e,n,r){var s=jt.hasOwnProperty(e)?jt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vO(e,n,s,r)&&(n=null),r||s===null?mO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Cs=fO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xu=Symbol.for("react.element"),Wo=Symbol.for("react.portal"),Ho=Symbol.for("react.fragment"),dx=Symbol.for("react.strict_mode"),Ig=Symbol.for("react.profiler"),BS=Symbol.for("react.provider"),zS=Symbol.for("react.context"),hx=Symbol.for("react.forward_ref"),Pg=Symbol.for("react.suspense"),Ag=Symbol.for("react.suspense_list"),fx=Symbol.for("react.memo"),Ds=Symbol.for("react.lazy"),WS=Symbol.for("react.offscreen"),Ib=Symbol.iterator;function Rl(t){return t===null||typeof t!="object"?null:(t=Ib&&t[Ib]||t["@@iterator"],typeof t=="function"?t:null)}var Qe=Object.assign,lm;function ql(t){if(lm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lm=e&&e[1]||""}return`
`+lm+t}var cm=!1;function um(t,e){if(!t||cm)return"";cm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{cm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ql(t):""}function yO(t){switch(t.tag){case 5:return ql(t.type);case 16:return ql("Lazy");case 13:return ql("Suspense");case 19:return ql("SuspenseList");case 0:case 2:case 15:return t=um(t.type,!1),t;case 11:return t=um(t.type.render,!1),t;case 1:return t=um(t.type,!0),t;default:return""}}function Dg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ho:return"Fragment";case Wo:return"Portal";case Ig:return"Profiler";case dx:return"StrictMode";case Pg:return"Suspense";case Ag:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case zS:return(t.displayName||"Context")+".Consumer";case BS:return(t._context.displayName||"Context")+".Provider";case hx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fx:return e=t.displayName||null,e!==null?e:Dg(t.type)||"Memo";case Ds:e=t._payload,t=t._init;try{return Dg(t(e))}catch{}}return null}function xO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dg(e);case 8:return e===dx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function mi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function HS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wO(t){var e=HS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ju(t){t._valueTracker||(t._valueTracker=wO(t))}function GS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=HS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mg(t,e){var n=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Pb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=mi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qS(t,e){e=e.checked,e!=null&&ux(t,"checked",e,!1)}function Og(t,e){qS(t,e);var n=mi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Lg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Lg(t,e.type,mi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ab(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Lg(t,e,n){(e!=="number"||dh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Kl=Array.isArray;function ua(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Fg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Db(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Kl(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:mi(n)}}function KS(t,e){var n=mi(e.value),r=mi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Mb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function YS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?YS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zu,QS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zu=Zu||document.createElement("div"),Zu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Nc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var tc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bO=["Webkit","ms","Moz","O"];Object.keys(tc).forEach(function(t){bO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),tc[e]=tc[t]})});function XS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||tc.hasOwnProperty(t)&&tc[t]?(""+e).trim():e+"px"}function JS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=XS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var _O=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $g(t,e){if(e){if(_O[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function Ug(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bg=null;function px(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zg=null,da=null,ha=null;function Ob(t){if(t=fu(t)){if(typeof zg!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Uf(e),zg(t.stateNode,t.type,e))}}function ZS(t){da?ha?ha.push(t):ha=[t]:da=t}function eE(){if(da){var t=da,e=ha;if(ha=da=null,Ob(t),e)for(t=0;t<e.length;t++)Ob(e[t])}}function tE(t,e){return t(e)}function nE(){}var dm=!1;function rE(t,e,n){if(dm)return t(e,n);dm=!0;try{return tE(t,e,n)}finally{dm=!1,(da!==null||ha!==null)&&(nE(),eE())}}function Sc(t,e){var n=t.stateNode;if(n===null)return null;var r=Uf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var Wg=!1;if(ds)try{var Il={};Object.defineProperty(Il,"passive",{get:function(){Wg=!0}}),window.addEventListener("test",Il,Il),window.removeEventListener("test",Il,Il)}catch{Wg=!1}function CO(t,e,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var nc=!1,hh=null,fh=!1,Hg=null,NO={onError:function(t){nc=!0,hh=t}};function SO(t,e,n,r,s,i,o,l,c){nc=!1,hh=null,CO.apply(NO,arguments)}function EO(t,e,n,r,s,i,o,l,c){if(SO.apply(this,arguments),nc){if(nc){var u=hh;nc=!1,hh=null}else throw Error(q(198));fh||(fh=!0,Hg=u)}}function Io(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Lb(t){if(Io(t)!==t)throw Error(q(188))}function kO(t){var e=t.alternate;if(!e){if(e=Io(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Lb(s),t;if(i===r)return Lb(s),e;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function iE(t){return t=kO(t),t!==null?oE(t):null}function oE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=oE(t);if(e!==null)return e;t=t.sibling}return null}var aE=bn.unstable_scheduleCallback,Fb=bn.unstable_cancelCallback,TO=bn.unstable_shouldYield,jO=bn.unstable_requestPaint,rt=bn.unstable_now,RO=bn.unstable_getCurrentPriorityLevel,mx=bn.unstable_ImmediatePriority,lE=bn.unstable_UserBlockingPriority,ph=bn.unstable_NormalPriority,IO=bn.unstable_LowPriority,cE=bn.unstable_IdlePriority,Lf=null,Rr=null;function PO(t){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(Lf,t,void 0,(t.current.flags&128)===128)}catch{}}var ir=Math.clz32?Math.clz32:MO,AO=Math.log,DO=Math.LN2;function MO(t){return t>>>=0,t===0?32:31-(AO(t)/DO|0)|0}var ed=64,td=4194304;function Yl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Yl(l):(i&=o,i!==0&&(r=Yl(i)))}else o=n&~s,o!==0?r=Yl(o):i!==0&&(r=Yl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ir(e),s=1<<n,r|=t[n],e&=~s;return r}function OO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ir(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=OO(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Gg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function uE(){var t=ed;return ed<<=1,!(ed&4194240)&&(ed=64),t}function hm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function du(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ir(e),t[e]=n}function FO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ir(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function gx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ir(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var je=0;function dE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var hE,vx,fE,pE,mE,qg=!1,nd=[],ei=null,ti=null,ni=null,Ec=new Map,kc=new Map,Os=[],VO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vb(t,e){switch(t){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":Ec.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kc.delete(e.pointerId)}}function Pl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=fu(e),e!==null&&vx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function $O(t,e,n,r,s){switch(e){case"focusin":return ei=Pl(ei,t,e,n,r,s),!0;case"dragenter":return ti=Pl(ti,t,e,n,r,s),!0;case"mouseover":return ni=Pl(ni,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ec.set(i,Pl(Ec.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,kc.set(i,Pl(kc.get(i)||null,t,e,n,r,s)),!0}return!1}function gE(t){var e=Hi(t.target);if(e!==null){var n=Io(e);if(n!==null){if(e=n.tag,e===13){if(e=sE(n),e!==null){t.blockedOn=e,mE(t.priority,function(){fE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ld(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Kg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bg=r,n.target.dispatchEvent(r),Bg=null}else return e=fu(n),e!==null&&vx(e),t.blockedOn=n,!1;e.shift()}return!0}function $b(t,e,n){Ld(t)&&n.delete(e)}function UO(){qg=!1,ei!==null&&Ld(ei)&&(ei=null),ti!==null&&Ld(ti)&&(ti=null),ni!==null&&Ld(ni)&&(ni=null),Ec.forEach($b),kc.forEach($b)}function Al(t,e){t.blockedOn===e&&(t.blockedOn=null,qg||(qg=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,UO)))}function Tc(t){function e(s){return Al(s,t)}if(0<nd.length){Al(nd[0],t);for(var n=1;n<nd.length;n++){var r=nd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ei!==null&&Al(ei,t),ti!==null&&Al(ti,t),ni!==null&&Al(ni,t),Ec.forEach(e),kc.forEach(e),n=0;n<Os.length;n++)r=Os[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Os.length&&(n=Os[0],n.blockedOn===null);)gE(n),n.blockedOn===null&&Os.shift()}var fa=Cs.ReactCurrentBatchConfig,gh=!0;function BO(t,e,n,r){var s=je,i=fa.transition;fa.transition=null;try{je=1,yx(t,e,n,r)}finally{je=s,fa.transition=i}}function zO(t,e,n,r){var s=je,i=fa.transition;fa.transition=null;try{je=4,yx(t,e,n,r)}finally{je=s,fa.transition=i}}function yx(t,e,n,r){if(gh){var s=Kg(t,e,n,r);if(s===null)_m(t,e,r,vh,n),Vb(t,r);else if($O(s,t,e,n,r))r.stopPropagation();else if(Vb(t,r),e&4&&-1<VO.indexOf(t)){for(;s!==null;){var i=fu(s);if(i!==null&&hE(i),i=Kg(t,e,n,r),i===null&&_m(t,e,r,vh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else _m(t,e,r,null,n)}}var vh=null;function Kg(t,e,n,r){if(vh=null,t=px(r),t=Hi(t),t!==null)if(e=Io(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vh=t,null}function vE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RO()){case mx:return 1;case lE:return 4;case ph:case IO:return 16;case cE:return 536870912;default:return 16}default:return 16}}var Qs=null,xx=null,Fd=null;function yE(){if(Fd)return Fd;var t,e=xx,n=e.length,r,s="value"in Qs?Qs.value:Qs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Fd=s.slice(t,1<r?1-r:void 0)}function Vd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rd(){return!0}function Ub(){return!1}function Cn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?rd:Ub,this.isPropagationStopped=Ub,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rd)},persist:function(){},isPersistent:rd}),e}var il={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wx=Cn(il),hu=Qe({},il,{view:0,detail:0}),WO=Cn(hu),fm,pm,Dl,Ff=Qe({},hu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dl&&(Dl&&t.type==="mousemove"?(fm=t.screenX-Dl.screenX,pm=t.screenY-Dl.screenY):pm=fm=0,Dl=t),fm)},movementY:function(t){return"movementY"in t?t.movementY:pm}}),Bb=Cn(Ff),HO=Qe({},Ff,{dataTransfer:0}),GO=Cn(HO),qO=Qe({},hu,{relatedTarget:0}),mm=Cn(qO),KO=Qe({},il,{animationName:0,elapsedTime:0,pseudoElement:0}),YO=Cn(KO),QO=Qe({},il,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),XO=Cn(QO),JO=Qe({},il,{data:0}),zb=Cn(JO),ZO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=t4[t])?!!e[t]:!1}function bx(){return n4}var r4=Qe({},hu,{key:function(t){if(t.key){var e=ZO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?e4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bx,charCode:function(t){return t.type==="keypress"?Vd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),s4=Cn(r4),i4=Qe({},Ff,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wb=Cn(i4),o4=Qe({},hu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bx}),a4=Cn(o4),l4=Qe({},il,{propertyName:0,elapsedTime:0,pseudoElement:0}),c4=Cn(l4),u4=Qe({},Ff,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),d4=Cn(u4),h4=[9,13,27,32],_x=ds&&"CompositionEvent"in window,rc=null;ds&&"documentMode"in document&&(rc=document.documentMode);var f4=ds&&"TextEvent"in window&&!rc,xE=ds&&(!_x||rc&&8<rc&&11>=rc),Hb=" ",Gb=!1;function wE(t,e){switch(t){case"keyup":return h4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Go=!1;function p4(t,e){switch(t){case"compositionend":return bE(e);case"keypress":return e.which!==32?null:(Gb=!0,Hb);case"textInput":return t=e.data,t===Hb&&Gb?null:t;default:return null}}function m4(t,e){if(Go)return t==="compositionend"||!_x&&wE(t,e)?(t=yE(),Fd=xx=Qs=null,Go=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xE&&e.locale!=="ko"?null:e.data;default:return null}}var g4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!g4[t.type]:e==="textarea"}function _E(t,e,n,r){ZS(r),e=yh(e,"onChange"),0<e.length&&(n=new wx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var sc=null,jc=null;function v4(t){AE(t,0)}function Vf(t){var e=Yo(t);if(GS(e))return t}function y4(t,e){if(t==="change")return e}var CE=!1;if(ds){var gm;if(ds){var vm="oninput"in document;if(!vm){var Kb=document.createElement("div");Kb.setAttribute("oninput","return;"),vm=typeof Kb.oninput=="function"}gm=vm}else gm=!1;CE=gm&&(!document.documentMode||9<document.documentMode)}function Yb(){sc&&(sc.detachEvent("onpropertychange",NE),jc=sc=null)}function NE(t){if(t.propertyName==="value"&&Vf(jc)){var e=[];_E(e,jc,t,px(t)),rE(v4,e)}}function x4(t,e,n){t==="focusin"?(Yb(),sc=e,jc=n,sc.attachEvent("onpropertychange",NE)):t==="focusout"&&Yb()}function w4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vf(jc)}function b4(t,e){if(t==="click")return Vf(e)}function _4(t,e){if(t==="input"||t==="change")return Vf(e)}function C4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lr=typeof Object.is=="function"?Object.is:C4;function Rc(t,e){if(lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Rg.call(e,s)||!lr(t[s],e[s]))return!1}return!0}function Qb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xb(t,e){var n=Qb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qb(n)}}function SE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?SE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function EE(){for(var t=window,e=dh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dh(t.document)}return e}function Cx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function N4(t){var e=EE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&SE(n.ownerDocument.documentElement,n)){if(r!==null&&Cx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Xb(n,i);var o=Xb(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var S4=ds&&"documentMode"in document&&11>=document.documentMode,qo=null,Yg=null,ic=null,Qg=!1;function Jb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qg||qo==null||qo!==dh(r)||(r=qo,"selectionStart"in r&&Cx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ic&&Rc(ic,r)||(ic=r,r=yh(Yg,"onSelect"),0<r.length&&(e=new wx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qo)))}function sd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ko={animationend:sd("Animation","AnimationEnd"),animationiteration:sd("Animation","AnimationIteration"),animationstart:sd("Animation","AnimationStart"),transitionend:sd("Transition","TransitionEnd")},ym={},kE={};ds&&(kE=document.createElement("div").style,"AnimationEvent"in window||(delete Ko.animationend.animation,delete Ko.animationiteration.animation,delete Ko.animationstart.animation),"TransitionEvent"in window||delete Ko.transitionend.transition);function $f(t){if(ym[t])return ym[t];if(!Ko[t])return t;var e=Ko[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in kE)return ym[t]=e[n];return t}var TE=$f("animationend"),jE=$f("animationiteration"),RE=$f("animationstart"),IE=$f("transitionend"),PE=new Map,Zb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(t,e){PE.set(t,e),Ro(e,[t])}for(var xm=0;xm<Zb.length;xm++){var wm=Zb[xm],E4=wm.toLowerCase(),k4=wm[0].toUpperCase()+wm.slice(1);Si(E4,"on"+k4)}Si(TE,"onAnimationEnd");Si(jE,"onAnimationIteration");Si(RE,"onAnimationStart");Si("dblclick","onDoubleClick");Si("focusin","onFocus");Si("focusout","onBlur");Si(IE,"onTransitionEnd");Ma("onMouseEnter",["mouseout","mouseover"]);Ma("onMouseLeave",["mouseout","mouseover"]);Ma("onPointerEnter",["pointerout","pointerover"]);Ma("onPointerLeave",["pointerout","pointerover"]);Ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ql));function e_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,EO(r,e,void 0,t),t.currentTarget=null}function AE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;e_(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;e_(s,l,u),i=c}}}if(fh)throw t=Hg,fh=!1,Hg=null,t}function Ve(t,e){var n=e[tv];n===void 0&&(n=e[tv]=new Set);var r=t+"__bubble";n.has(r)||(DE(e,t,2,!1),n.add(r))}function bm(t,e,n){var r=0;e&&(r|=4),DE(n,t,r,e)}var id="_reactListening"+Math.random().toString(36).slice(2);function Ic(t){if(!t[id]){t[id]=!0,US.forEach(function(n){n!=="selectionchange"&&(T4.has(n)||bm(n,!1,t),bm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[id]||(e[id]=!0,bm("selectionchange",!1,e))}}function DE(t,e,n,r){switch(vE(e)){case 1:var s=BO;break;case 4:s=zO;break;default:s=yx}n=s.bind(null,e,n,t),s=void 0,!Wg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function _m(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Hi(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}rE(function(){var u=i,d=px(n),h=[];e:{var f=PE.get(t);if(f!==void 0){var m=wx,w=t;switch(t){case"keypress":if(Vd(n)===0)break e;case"keydown":case"keyup":m=s4;break;case"focusin":w="focus",m=mm;break;case"focusout":w="blur",m=mm;break;case"beforeblur":case"afterblur":m=mm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Bb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=GO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=a4;break;case TE:case jE:case RE:m=YO;break;case IE:m=c4;break;case"scroll":m=WO;break;case"wheel":m=d4;break;case"copy":case"cut":case"paste":m=XO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Wb}var g=(e&4)!==0,y=!g&&t==="scroll",x=g?f!==null?f+"Capture":null:f;g=[];for(var v=u,b;v!==null;){b=v;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,x!==null&&(N=Sc(v,x),N!=null&&g.push(Pc(v,N,b)))),y)break;v=v.return}0<g.length&&(f=new m(f,w,null,n,d),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Bg&&(w=n.relatedTarget||n.fromElement)&&(Hi(w)||w[hs]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?Hi(w):null,w!==null&&(y=Io(w),w!==y||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(g=Bb,N="onMouseLeave",x="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=Wb,N="onPointerLeave",x="onPointerEnter",v="pointer"),y=m==null?f:Yo(m),b=w==null?f:Yo(w),f=new g(N,v+"leave",m,n,d),f.target=y,f.relatedTarget=b,N=null,Hi(d)===u&&(g=new g(x,v+"enter",w,n,d),g.target=b,g.relatedTarget=y,N=g),y=N,m&&w)t:{for(g=m,x=w,v=0,b=g;b;b=Fo(b))v++;for(b=0,N=x;N;N=Fo(N))b++;for(;0<v-b;)g=Fo(g),v--;for(;0<b-v;)x=Fo(x),b--;for(;v--;){if(g===x||x!==null&&g===x.alternate)break t;g=Fo(g),x=Fo(x)}g=null}else g=null;m!==null&&t_(h,f,m,g,!1),w!==null&&y!==null&&t_(h,y,w,g,!0)}}e:{if(f=u?Yo(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var _=y4;else if(qb(f))if(CE)_=_4;else{_=w4;var C=x4}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=b4);if(_&&(_=_(t,u))){_E(h,_,n,d);break e}C&&C(t,f,u),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Lg(f,"number",f.value)}switch(C=u?Yo(u):window,t){case"focusin":(qb(C)||C.contentEditable==="true")&&(qo=C,Yg=u,ic=null);break;case"focusout":ic=Yg=qo=null;break;case"mousedown":Qg=!0;break;case"contextmenu":case"mouseup":case"dragend":Qg=!1,Jb(h,n,d);break;case"selectionchange":if(S4)break;case"keydown":case"keyup":Jb(h,n,d)}var S;if(_x)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Go?wE(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(xE&&n.locale!=="ko"&&(Go||E!=="onCompositionStart"?E==="onCompositionEnd"&&Go&&(S=yE()):(Qs=d,xx="value"in Qs?Qs.value:Qs.textContent,Go=!0)),C=yh(u,E),0<C.length&&(E=new zb(E,t,null,n,d),h.push({event:E,listeners:C}),S?E.data=S:(S=bE(n),S!==null&&(E.data=S)))),(S=f4?p4(t,n):m4(t,n))&&(u=yh(u,"onBeforeInput"),0<u.length&&(d=new zb("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=S))}AE(h,e)})}function Pc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Sc(t,n),i!=null&&r.unshift(Pc(t,i,s)),i=Sc(t,e),i!=null&&r.push(Pc(t,i,s))),t=t.return}return r}function Fo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function t_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Sc(n,i),c!=null&&o.unshift(Pc(n,c,l))):s||(c=Sc(n,i),c!=null&&o.push(Pc(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var j4=/\r\n?/g,R4=/\u0000|\uFFFD/g;function n_(t){return(typeof t=="string"?t:""+t).replace(j4,`
`).replace(R4,"")}function od(t,e,n){if(e=n_(e),n_(t)!==e&&n)throw Error(q(425))}function xh(){}var Xg=null,Jg=null;function Zg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ev=typeof setTimeout=="function"?setTimeout:void 0,I4=typeof clearTimeout=="function"?clearTimeout:void 0,r_=typeof Promise=="function"?Promise:void 0,P4=typeof queueMicrotask=="function"?queueMicrotask:typeof r_<"u"?function(t){return r_.resolve(null).then(t).catch(A4)}:ev;function A4(t){setTimeout(function(){throw t})}function Cm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Tc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Tc(e)}function ri(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function s_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ol=Math.random().toString(36).slice(2),Sr="__reactFiber$"+ol,Ac="__reactProps$"+ol,hs="__reactContainer$"+ol,tv="__reactEvents$"+ol,D4="__reactListeners$"+ol,M4="__reactHandles$"+ol;function Hi(t){var e=t[Sr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[hs]||n[Sr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=s_(t);t!==null;){if(n=t[Sr])return n;t=s_(t)}return e}t=n,n=t.parentNode}return null}function fu(t){return t=t[Sr]||t[hs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Uf(t){return t[Ac]||null}var nv=[],Qo=-1;function Ei(t){return{current:t}}function $e(t){0>Qo||(t.current=nv[Qo],nv[Qo]=null,Qo--)}function Le(t,e){Qo++,nv[Qo]=t.current,t.current=e}var gi={},$t=Ei(gi),sn=Ei(!1),fo=gi;function Oa(t,e){var n=t.type.contextTypes;if(!n)return gi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function on(t){return t=t.childContextTypes,t!=null}function wh(){$e(sn),$e($t)}function i_(t,e,n){if($t.current!==gi)throw Error(q(168));Le($t,e),Le(sn,n)}function ME(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(q(108,xO(t)||"Unknown",s));return Qe({},n,r)}function bh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gi,fo=$t.current,Le($t,t),Le(sn,sn.current),!0}function o_(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=ME(t,e,fo),r.__reactInternalMemoizedMergedChildContext=t,$e(sn),$e($t),Le($t,t)):$e(sn),Le(sn,n)}var ns=null,Bf=!1,Nm=!1;function OE(t){ns===null?ns=[t]:ns.push(t)}function O4(t){Bf=!0,OE(t)}function ki(){if(!Nm&&ns!==null){Nm=!0;var t=0,e=je;try{var n=ns;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ns=null,Bf=!1}catch(s){throw ns!==null&&(ns=ns.slice(t+1)),aE(mx,ki),s}finally{je=e,Nm=!1}}return null}var Xo=[],Jo=0,_h=null,Ch=0,jn=[],Rn=0,po=null,ss=1,is="";function Vi(t,e){Xo[Jo++]=Ch,Xo[Jo++]=_h,_h=t,Ch=e}function LE(t,e,n){jn[Rn++]=ss,jn[Rn++]=is,jn[Rn++]=po,po=t;var r=ss;t=is;var s=32-ir(r)-1;r&=~(1<<s),n+=1;var i=32-ir(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ss=1<<32-ir(e)+s|n<<s|r,is=i+t}else ss=1<<i|n<<s|r,is=t}function Nx(t){t.return!==null&&(Vi(t,1),LE(t,1,0))}function Sx(t){for(;t===_h;)_h=Xo[--Jo],Xo[Jo]=null,Ch=Xo[--Jo],Xo[Jo]=null;for(;t===po;)po=jn[--Rn],jn[Rn]=null,is=jn[--Rn],jn[Rn]=null,ss=jn[--Rn],jn[Rn]=null}var xn=null,yn=null,We=!1,er=null;function FE(t,e){var n=Pn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function a_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xn=t,yn=ri(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xn=t,yn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=po!==null?{id:ss,overflow:is}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xn=t,yn=null,!0):!1;default:return!1}}function rv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sv(t){if(We){var e=yn;if(e){var n=e;if(!a_(t,e)){if(rv(t))throw Error(q(418));e=ri(n.nextSibling);var r=xn;e&&a_(t,e)?FE(r,n):(t.flags=t.flags&-4097|2,We=!1,xn=t)}}else{if(rv(t))throw Error(q(418));t.flags=t.flags&-4097|2,We=!1,xn=t}}}function l_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xn=t}function ad(t){if(t!==xn)return!1;if(!We)return l_(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zg(t.type,t.memoizedProps)),e&&(e=yn)){if(rv(t))throw VE(),Error(q(418));for(;e;)FE(t,e),e=ri(e.nextSibling)}if(l_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){yn=ri(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}yn=null}}else yn=xn?ri(t.stateNode.nextSibling):null;return!0}function VE(){for(var t=yn;t;)t=ri(t.nextSibling)}function La(){yn=xn=null,We=!1}function Ex(t){er===null?er=[t]:er.push(t)}var L4=Cs.ReactCurrentBatchConfig;function Ml(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function ld(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function c_(t){var e=t._init;return e(t._payload)}function $E(t){function e(x,v){if(t){var b=x.deletions;b===null?(x.deletions=[v],x.flags|=16):b.push(v)}}function n(x,v){if(!t)return null;for(;v!==null;)e(x,v),v=v.sibling;return null}function r(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function s(x,v){return x=ai(x,v),x.index=0,x.sibling=null,x}function i(x,v,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<v?(x.flags|=2,v):b):(x.flags|=2,v)):(x.flags|=1048576,v)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,v,b,N){return v===null||v.tag!==6?(v=Im(b,x.mode,N),v.return=x,v):(v=s(v,b),v.return=x,v)}function c(x,v,b,N){var _=b.type;return _===Ho?d(x,v,b.props.children,N,b.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ds&&c_(_)===v.type)?(N=s(v,b.props),N.ref=Ml(x,v,b),N.return=x,N):(N=Gd(b.type,b.key,b.props,null,x.mode,N),N.ref=Ml(x,v,b),N.return=x,N)}function u(x,v,b,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Pm(b,x.mode,N),v.return=x,v):(v=s(v,b.children||[]),v.return=x,v)}function d(x,v,b,N,_){return v===null||v.tag!==7?(v=so(b,x.mode,N,_),v.return=x,v):(v=s(v,b),v.return=x,v)}function h(x,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Im(""+v,x.mode,b),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Xu:return b=Gd(v.type,v.key,v.props,null,x.mode,b),b.ref=Ml(x,null,v),b.return=x,b;case Wo:return v=Pm(v,x.mode,b),v.return=x,v;case Ds:var N=v._init;return h(x,N(v._payload),b)}if(Kl(v)||Rl(v))return v=so(v,x.mode,b,null),v.return=x,v;ld(x,v)}return null}function f(x,v,b,N){var _=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:l(x,v,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Xu:return b.key===_?c(x,v,b,N):null;case Wo:return b.key===_?u(x,v,b,N):null;case Ds:return _=b._init,f(x,v,_(b._payload),N)}if(Kl(b)||Rl(b))return _!==null?null:d(x,v,b,N,null);ld(x,b)}return null}function m(x,v,b,N,_){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(b)||null,l(v,x,""+N,_);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Xu:return x=x.get(N.key===null?b:N.key)||null,c(v,x,N,_);case Wo:return x=x.get(N.key===null?b:N.key)||null,u(v,x,N,_);case Ds:var C=N._init;return m(x,v,b,C(N._payload),_)}if(Kl(N)||Rl(N))return x=x.get(b)||null,d(v,x,N,_,null);ld(v,N)}return null}function w(x,v,b,N){for(var _=null,C=null,S=v,E=v=0,k=null;S!==null&&E<b.length;E++){S.index>E?(k=S,S=null):k=S.sibling;var T=f(x,S,b[E],N);if(T===null){S===null&&(S=k);break}t&&S&&T.alternate===null&&e(x,S),v=i(T,v,E),C===null?_=T:C.sibling=T,C=T,S=k}if(E===b.length)return n(x,S),We&&Vi(x,E),_;if(S===null){for(;E<b.length;E++)S=h(x,b[E],N),S!==null&&(v=i(S,v,E),C===null?_=S:C.sibling=S,C=S);return We&&Vi(x,E),_}for(S=r(x,S);E<b.length;E++)k=m(S,x,E,b[E],N),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?E:k.key),v=i(k,v,E),C===null?_=k:C.sibling=k,C=k);return t&&S.forEach(function(R){return e(x,R)}),We&&Vi(x,E),_}function g(x,v,b,N){var _=Rl(b);if(typeof _!="function")throw Error(q(150));if(b=_.call(b),b==null)throw Error(q(151));for(var C=_=null,S=v,E=v=0,k=null,T=b.next();S!==null&&!T.done;E++,T=b.next()){S.index>E?(k=S,S=null):k=S.sibling;var R=f(x,S,T.value,N);if(R===null){S===null&&(S=k);break}t&&S&&R.alternate===null&&e(x,S),v=i(R,v,E),C===null?_=R:C.sibling=R,C=R,S=k}if(T.done)return n(x,S),We&&Vi(x,E),_;if(S===null){for(;!T.done;E++,T=b.next())T=h(x,T.value,N),T!==null&&(v=i(T,v,E),C===null?_=T:C.sibling=T,C=T);return We&&Vi(x,E),_}for(S=r(x,S);!T.done;E++,T=b.next())T=m(S,x,E,T.value,N),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?E:T.key),v=i(T,v,E),C===null?_=T:C.sibling=T,C=T);return t&&S.forEach(function(I){return e(x,I)}),We&&Vi(x,E),_}function y(x,v,b,N){if(typeof b=="object"&&b!==null&&b.type===Ho&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Xu:e:{for(var _=b.key,C=v;C!==null;){if(C.key===_){if(_=b.type,_===Ho){if(C.tag===7){n(x,C.sibling),v=s(C,b.props.children),v.return=x,x=v;break e}}else if(C.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ds&&c_(_)===C.type){n(x,C.sibling),v=s(C,b.props),v.ref=Ml(x,C,b),v.return=x,x=v;break e}n(x,C);break}else e(x,C);C=C.sibling}b.type===Ho?(v=so(b.props.children,x.mode,N,b.key),v.return=x,x=v):(N=Gd(b.type,b.key,b.props,null,x.mode,N),N.ref=Ml(x,v,b),N.return=x,x=N)}return o(x);case Wo:e:{for(C=b.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(x,v.sibling),v=s(v,b.children||[]),v.return=x,x=v;break e}else{n(x,v);break}else e(x,v);v=v.sibling}v=Pm(b,x.mode,N),v.return=x,x=v}return o(x);case Ds:return C=b._init,y(x,v,C(b._payload),N)}if(Kl(b))return w(x,v,b,N);if(Rl(b))return g(x,v,b,N);ld(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(x,v.sibling),v=s(v,b),v.return=x,x=v):(n(x,v),v=Im(b,x.mode,N),v.return=x,x=v),o(x)):n(x,v)}return y}var Fa=$E(!0),UE=$E(!1),Nh=Ei(null),Sh=null,Zo=null,kx=null;function Tx(){kx=Zo=Sh=null}function jx(t){var e=Nh.current;$e(Nh),t._currentValue=e}function iv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function pa(t,e){Sh=t,kx=Zo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tn=!0),t.firstContext=null)}function Ln(t){var e=t._currentValue;if(kx!==t)if(t={context:t,memoizedValue:e,next:null},Zo===null){if(Sh===null)throw Error(q(308));Zo=t,Sh.dependencies={lanes:0,firstContext:t}}else Zo=Zo.next=t;return e}var Gi=null;function Rx(t){Gi===null?Gi=[t]:Gi.push(t)}function BE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Rx(e)):(n.next=s.next,s.next=n),e.interleaved=n,fs(t,r)}function fs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ms=!1;function Ix(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function cs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function si(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,fs(t,n)}return s=r.interleaved,s===null?(e.next=e,Rx(r)):(e.next=s.next,s.next=e),r.interleaved=e,fs(t,n)}function $d(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gx(t,n)}}function u_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Eh(t,e,n,r){var s=t.updateQueue;Ms=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,g=l;switch(f=e,m=n,g.tag){case 1:if(w=g.payload,typeof w=="function"){h=w.call(m,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,f=typeof w=="function"?w.call(m,h,f):w,f==null)break e;h=Qe({},h,f);break e;case 2:Ms=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);go|=o,t.lanes=o,t.memoizedState=h}}function d_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var pu={},Ir=Ei(pu),Dc=Ei(pu),Mc=Ei(pu);function qi(t){if(t===pu)throw Error(q(174));return t}function Px(t,e){switch(Le(Mc,e),Le(Dc,t),Le(Ir,pu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vg(e,t)}$e(Ir),Le(Ir,e)}function Va(){$e(Ir),$e(Dc),$e(Mc)}function WE(t){qi(Mc.current);var e=qi(Ir.current),n=Vg(e,t.type);e!==n&&(Le(Dc,t),Le(Ir,n))}function Ax(t){Dc.current===t&&($e(Ir),$e(Dc))}var qe=Ei(0);function kh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sm=[];function Dx(){for(var t=0;t<Sm.length;t++)Sm[t]._workInProgressVersionPrimary=null;Sm.length=0}var Ud=Cs.ReactCurrentDispatcher,Em=Cs.ReactCurrentBatchConfig,mo=0,Ye=null,ct=null,vt=null,Th=!1,oc=!1,Oc=0,F4=0;function At(){throw Error(q(321))}function Mx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!lr(t[n],e[n]))return!1;return!0}function Ox(t,e,n,r,s,i){if(mo=i,Ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ud.current=t===null||t.memoizedState===null?B4:z4,t=n(r,s),oc){i=0;do{if(oc=!1,Oc=0,25<=i)throw Error(q(301));i+=1,vt=ct=null,e.updateQueue=null,Ud.current=W4,t=n(r,s)}while(oc)}if(Ud.current=jh,e=ct!==null&&ct.next!==null,mo=0,vt=ct=Ye=null,Th=!1,e)throw Error(q(300));return t}function Lx(){var t=Oc!==0;return Oc=0,t}function br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ye.memoizedState=vt=t:vt=vt.next=t,vt}function Fn(){if(ct===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var e=vt===null?Ye.memoizedState:vt.next;if(e!==null)vt=e,ct=t;else{if(t===null)throw Error(q(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},vt===null?Ye.memoizedState=vt=t:vt=vt.next=t}return vt}function Lc(t,e){return typeof e=="function"?e(t):e}function km(t){var e=Fn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=ct,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((mo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,Ye.lanes|=d,go|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,lr(r,e.memoizedState)||(tn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ye.lanes|=i,go|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Tm(t){var e=Fn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);lr(i,e.memoizedState)||(tn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function HE(){}function GE(t,e){var n=Ye,r=Fn(),s=e(),i=!lr(r.memoizedState,s);if(i&&(r.memoizedState=s,tn=!0),r=r.queue,Fx(YE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,Fc(9,KE.bind(null,n,r,s,e),void 0,null),xt===null)throw Error(q(349));mo&30||qE(n,e,s)}return s}function qE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function KE(t,e,n,r){e.value=n,e.getSnapshot=r,QE(e)&&XE(t)}function YE(t,e,n){return n(function(){QE(e)&&XE(t)})}function QE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!lr(t,n)}catch{return!0}}function XE(t){var e=fs(t,1);e!==null&&or(e,t,1,-1)}function h_(t){var e=br();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lc,lastRenderedState:t},e.queue=t,t=t.dispatch=U4.bind(null,Ye,t),[e.memoizedState,t]}function Fc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function JE(){return Fn().memoizedState}function Bd(t,e,n,r){var s=br();Ye.flags|=t,s.memoizedState=Fc(1|e,n,void 0,r===void 0?null:r)}function zf(t,e,n,r){var s=Fn();r=r===void 0?null:r;var i=void 0;if(ct!==null){var o=ct.memoizedState;if(i=o.destroy,r!==null&&Mx(r,o.deps)){s.memoizedState=Fc(e,n,i,r);return}}Ye.flags|=t,s.memoizedState=Fc(1|e,n,i,r)}function f_(t,e){return Bd(8390656,8,t,e)}function Fx(t,e){return zf(2048,8,t,e)}function ZE(t,e){return zf(4,2,t,e)}function ek(t,e){return zf(4,4,t,e)}function tk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nk(t,e,n){return n=n!=null?n.concat([t]):null,zf(4,4,tk.bind(null,e,t),n)}function Vx(){}function rk(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Mx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sk(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Mx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ik(t,e,n){return mo&21?(lr(n,e)||(n=uE(),Ye.lanes|=n,go|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tn=!0),t.memoizedState=n)}function V4(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=Em.transition;Em.transition={};try{t(!1),e()}finally{je=n,Em.transition=r}}function ok(){return Fn().memoizedState}function $4(t,e,n){var r=oi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ak(t))lk(e,n);else if(n=BE(t,e,n,r),n!==null){var s=qt();or(n,t,r,s),ck(n,e,r)}}function U4(t,e,n){var r=oi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ak(t))lk(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,lr(l,o)){var c=e.interleaved;c===null?(s.next=s,Rx(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=BE(t,e,s,r),n!==null&&(s=qt(),or(n,t,r,s),ck(n,e,r))}}function ak(t){var e=t.alternate;return t===Ye||e!==null&&e===Ye}function lk(t,e){oc=Th=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ck(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gx(t,n)}}var jh={readContext:Ln,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},B4={readContext:Ln,useCallback:function(t,e){return br().memoizedState=[t,e===void 0?null:e],t},useContext:Ln,useEffect:f_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Bd(4194308,4,tk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bd(4,2,t,e)},useMemo:function(t,e){var n=br();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=br();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$4.bind(null,Ye,t),[r.memoizedState,t]},useRef:function(t){var e=br();return t={current:t},e.memoizedState=t},useState:h_,useDebugValue:Vx,useDeferredValue:function(t){return br().memoizedState=t},useTransition:function(){var t=h_(!1),e=t[0];return t=V4.bind(null,t[1]),br().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ye,s=br();if(We){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),xt===null)throw Error(q(349));mo&30||qE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,f_(YE.bind(null,r,i,t),[t]),r.flags|=2048,Fc(9,KE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=br(),e=xt.identifierPrefix;if(We){var n=is,r=ss;n=(r&~(1<<32-ir(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Oc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=F4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},z4={readContext:Ln,useCallback:rk,useContext:Ln,useEffect:Fx,useImperativeHandle:nk,useInsertionEffect:ZE,useLayoutEffect:ek,useMemo:sk,useReducer:km,useRef:JE,useState:function(){return km(Lc)},useDebugValue:Vx,useDeferredValue:function(t){var e=Fn();return ik(e,ct.memoizedState,t)},useTransition:function(){var t=km(Lc)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:HE,useSyncExternalStore:GE,useId:ok,unstable_isNewReconciler:!1},W4={readContext:Ln,useCallback:rk,useContext:Ln,useEffect:Fx,useImperativeHandle:nk,useInsertionEffect:ZE,useLayoutEffect:ek,useMemo:sk,useReducer:Tm,useRef:JE,useState:function(){return Tm(Lc)},useDebugValue:Vx,useDeferredValue:function(t){var e=Fn();return ct===null?e.memoizedState=t:ik(e,ct.memoizedState,t)},useTransition:function(){var t=Tm(Lc)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:HE,useSyncExternalStore:GE,useId:ok,unstable_isNewReconciler:!1};function Kn(t,e){if(t&&t.defaultProps){e=Qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ov(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wf={isMounted:function(t){return(t=t._reactInternals)?Io(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=qt(),s=oi(t),i=cs(r,s);i.payload=e,n!=null&&(i.callback=n),e=si(t,i,s),e!==null&&(or(e,t,s,r),$d(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=qt(),s=oi(t),i=cs(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=si(t,i,s),e!==null&&(or(e,t,s,r),$d(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=qt(),r=oi(t),s=cs(n,r);s.tag=2,e!=null&&(s.callback=e),e=si(t,s,r),e!==null&&(or(e,t,r,n),$d(e,t,r))}};function p_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Rc(n,r)||!Rc(s,i):!0}function uk(t,e,n){var r=!1,s=gi,i=e.contextType;return typeof i=="object"&&i!==null?i=Ln(i):(s=on(e)?fo:$t.current,r=e.contextTypes,i=(r=r!=null)?Oa(t,s):gi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function m_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Wf.enqueueReplaceState(e,e.state,null)}function av(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ix(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ln(i):(i=on(e)?fo:$t.current,s.context=Oa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ov(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Wf.enqueueReplaceState(s,s.state,null),Eh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function $a(t,e){try{var n="",r=e;do n+=yO(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function jm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function lv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var H4=typeof WeakMap=="function"?WeakMap:Map;function dk(t,e,n){n=cs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ih||(Ih=!0,yv=r),lv(t,e)},n}function hk(t,e,n){n=cs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){lv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){lv(t,e),typeof r!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function g_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new H4;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=iL.bind(null,t,e,n),e.then(t,t))}function v_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function y_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=cs(-1,1),e.tag=2,si(n,e,1))),n.lanes|=1),t)}var G4=Cs.ReactCurrentOwner,tn=!1;function zt(t,e,n,r){e.child=t===null?UE(e,null,n,r):Fa(e,t.child,n,r)}function x_(t,e,n,r,s){n=n.render;var i=e.ref;return pa(e,s),r=Ox(t,e,n,r,i,s),n=Lx(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ps(t,e,s)):(We&&n&&Nx(e),e.flags|=1,zt(t,e,r,s),e.child)}function w_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!qx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,fk(t,e,i,r,s)):(t=Gd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Rc,n(o,r)&&t.ref===e.ref)return ps(t,e,s)}return e.flags|=1,t=ai(i,r),t.ref=e.ref,t.return=e,e.child=t}function fk(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Rc(i,r)&&t.ref===e.ref)if(tn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(tn=!0);else return e.lanes=t.lanes,ps(t,e,s)}return cv(t,e,n,r,s)}function pk(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(ta,gn),gn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(ta,gn),gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Le(ta,gn),gn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Le(ta,gn),gn|=r;return zt(t,e,s,n),e.child}function mk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cv(t,e,n,r,s){var i=on(n)?fo:$t.current;return i=Oa(e,i),pa(e,s),n=Ox(t,e,n,r,i,s),r=Lx(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ps(t,e,s)):(We&&r&&Nx(e),e.flags|=1,zt(t,e,n,s),e.child)}function b_(t,e,n,r,s){if(on(n)){var i=!0;bh(e)}else i=!1;if(pa(e,s),e.stateNode===null)zd(t,e),uk(e,n,r),av(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ln(u):(u=on(n)?fo:$t.current,u=Oa(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&m_(e,o,r,u),Ms=!1;var f=e.memoizedState;o.state=f,Eh(e,r,o,s),c=e.memoizedState,l!==r||f!==c||sn.current||Ms?(typeof d=="function"&&(ov(e,n,d,r),c=e.memoizedState),(l=Ms||p_(e,n,l,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,zE(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Kn(e.type,l),o.props=u,h=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ln(c):(c=on(n)?fo:$t.current,c=Oa(e,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&m_(e,o,r,c),Ms=!1,f=e.memoizedState,o.state=f,Eh(e,r,o,s);var w=e.memoizedState;l!==h||f!==w||sn.current||Ms?(typeof m=="function"&&(ov(e,n,m,r),w=e.memoizedState),(u=Ms||p_(e,n,u,r,f,w,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return uv(t,e,n,r,i,s)}function uv(t,e,n,r,s,i){mk(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&o_(e,n,!1),ps(t,e,i);r=e.stateNode,G4.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fa(e,t.child,null,i),e.child=Fa(e,null,l,i)):zt(t,e,l,i),e.memoizedState=r.state,s&&o_(e,n,!0),e.child}function gk(t){var e=t.stateNode;e.pendingContext?i_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&i_(t,e.context,!1),Px(t,e.containerInfo)}function __(t,e,n,r,s){return La(),Ex(s),e.flags|=256,zt(t,e,n,r),e.child}var dv={dehydrated:null,treeContext:null,retryLane:0};function hv(t){return{baseLanes:t,cachePool:null,transitions:null}}function vk(t,e,n){var r=e.pendingProps,s=qe.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Le(qe,s&1),t===null)return sv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=qf(o,r,0,null),t=so(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=hv(n),e.memoizedState=dv,t):$x(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return q4(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ai(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ai(l,i):(i=so(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?hv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=dv,r}return i=t.child,t=i.sibling,r=ai(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $x(t,e){return e=qf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cd(t,e,n,r){return r!==null&&Ex(r),Fa(e,t.child,null,n),t=$x(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function q4(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=jm(Error(q(422))),cd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=qf({mode:"visible",children:r.children},s,0,null),i=so(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Fa(e,t.child,null,o),e.child.memoizedState=hv(o),e.memoizedState=dv,i);if(!(e.mode&1))return cd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(q(419)),r=jm(i,r,void 0),cd(t,e,o,r)}if(l=(o&t.childLanes)!==0,tn||l){if(r=xt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,fs(t,s),or(r,t,s,-1))}return Gx(),r=jm(Error(q(421))),cd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=oL.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,yn=ri(s.nextSibling),xn=e,We=!0,er=null,t!==null&&(jn[Rn++]=ss,jn[Rn++]=is,jn[Rn++]=po,ss=t.id,is=t.overflow,po=e),e=$x(e,r.children),e.flags|=4096,e)}function C_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),iv(t.return,e,n)}function Rm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function yk(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(zt(t,e,r.children,n),r=qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&C_(t,n,e);else if(t.tag===19)C_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(qe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&kh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Rm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&kh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Rm(e,!0,n,null,i);break;case"together":Rm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ps(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),go|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=ai(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ai(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function K4(t,e,n){switch(e.tag){case 3:gk(e),La();break;case 5:WE(e);break;case 1:on(e.type)&&bh(e);break;case 4:Px(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Le(Nh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(qe,qe.current&1),e.flags|=128,null):n&e.child.childLanes?vk(t,e,n):(Le(qe,qe.current&1),t=ps(t,e,n),t!==null?t.sibling:null);Le(qe,qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return yk(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Le(qe,qe.current),r)break;return null;case 22:case 23:return e.lanes=0,pk(t,e,n)}return ps(t,e,n)}var xk,fv,wk,bk;xk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fv=function(){};wk=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,qi(Ir.current);var i=null;switch(n){case"input":s=Mg(t,s),r=Mg(t,r),i=[];break;case"select":s=Qe({},s,{value:void 0}),r=Qe({},r,{value:void 0}),i=[];break;case"textarea":s=Fg(t,s),r=Fg(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xh)}$g(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ve("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};bk=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ol(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Y4(t,e,n){var r=e.pendingProps;switch(Sx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(e),null;case 1:return on(e.type)&&wh(),Dt(e),null;case 3:return r=e.stateNode,Va(),$e(sn),$e($t),Dx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ad(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,er!==null&&(bv(er),er=null))),fv(t,e),Dt(e),null;case 5:Ax(e);var s=qi(Mc.current);if(n=e.type,t!==null&&e.stateNode!=null)wk(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Dt(e),null}if(t=qi(Ir.current),ad(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Sr]=e,r[Ac]=i,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(s=0;s<Ql.length;s++)Ve(Ql[s],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":Pb(r,i),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ve("invalid",r);break;case"textarea":Db(r,i),Ve("invalid",r)}$g(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&od(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&od(r.textContent,l,t),s=["children",""+l]):Cc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ve("scroll",r)}switch(n){case"input":Ju(r),Ab(r,i,!0);break;case"textarea":Ju(r),Mb(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=xh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=YS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Sr]=e,t[Ac]=r,xk(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ug(n,r),n){case"dialog":Ve("cancel",t),Ve("close",t),s=r;break;case"iframe":case"object":case"embed":Ve("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ql.length;s++)Ve(Ql[s],t);s=r;break;case"source":Ve("error",t),s=r;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),s=r;break;case"details":Ve("toggle",t),s=r;break;case"input":Pb(t,r),s=Mg(t,r),Ve("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Qe({},r,{value:void 0}),Ve("invalid",t);break;case"textarea":Db(t,r),s=Fg(t,r),Ve("invalid",t);break;default:s=r}$g(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?JS(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&QS(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Nc(t,c):typeof c=="number"&&Nc(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Cc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ve("scroll",t):c!=null&&ux(t,i,c,o))}switch(n){case"input":Ju(t),Ab(t,r,!1);break;case"textarea":Ju(t),Mb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+mi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ua(t,!!r.multiple,i,!1):r.defaultValue!=null&&ua(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=xh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dt(e),null;case 6:if(t&&e.stateNode!=null)bk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=qi(Mc.current),qi(Ir.current),ad(e)){if(r=e.stateNode,n=e.memoizedProps,r[Sr]=e,(i=r.nodeValue!==n)&&(t=xn,t!==null))switch(t.tag){case 3:od(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&od(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sr]=e,e.stateNode=r}return Dt(e),null;case 13:if($e(qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&yn!==null&&e.mode&1&&!(e.flags&128))VE(),La(),e.flags|=98560,i=!1;else if(i=ad(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[Sr]=e}else La(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dt(e),i=!1}else er!==null&&(bv(er),er=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||qe.current&1?ft===0&&(ft=3):Gx())),e.updateQueue!==null&&(e.flags|=4),Dt(e),null);case 4:return Va(),fv(t,e),t===null&&Ic(e.stateNode.containerInfo),Dt(e),null;case 10:return jx(e.type._context),Dt(e),null;case 17:return on(e.type)&&wh(),Dt(e),null;case 19:if($e(qe),i=e.memoizedState,i===null)return Dt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ol(i,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=kh(t),o!==null){for(e.flags|=128,Ol(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(qe,qe.current&1|2),e.child}t=t.sibling}i.tail!==null&&rt()>Ua&&(e.flags|=128,r=!0,Ol(i,!1),e.lanes=4194304)}else{if(!r)if(t=kh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ol(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!We)return Dt(e),null}else 2*rt()-i.renderingStartTime>Ua&&n!==1073741824&&(e.flags|=128,r=!0,Ol(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=rt(),e.sibling=null,n=qe.current,Le(qe,r?n&1|2:n&1),e):(Dt(e),null);case 22:case 23:return Hx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gn&1073741824&&(Dt(e),e.subtreeFlags&6&&(e.flags|=8192)):Dt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function Q4(t,e){switch(Sx(e),e.tag){case 1:return on(e.type)&&wh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Va(),$e(sn),$e($t),Dx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ax(e),null;case 13:if($e(qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));La()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(qe),null;case 4:return Va(),null;case 10:return jx(e.type._context),null;case 22:case 23:return Hx(),null;case 24:return null;default:return null}}var ud=!1,Ft=!1,X4=typeof WeakSet=="function"?WeakSet:Set,Z=null;function ea(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(t,e,r)}else n.current=null}function pv(t,e,n){try{n()}catch(r){Ze(t,e,r)}}var N_=!1;function J4(t,e){if(Xg=gh,t=EE(),Cx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===s&&(l=o),f===i&&++d===r&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jg={focusedElem:t,selectionRange:n},gh=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,y=w.memoizedState,x=e.stateNode,v=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:Kn(e.type,g),y);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(N){Ze(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return w=N_,N_=!1,w}function ac(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&pv(e,n,i)}s=s.next}while(s!==r)}}function Hf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function mv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _k(t){var e=t.alternate;e!==null&&(t.alternate=null,_k(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Sr],delete e[Ac],delete e[tv],delete e[D4],delete e[M4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ck(t){return t.tag===5||t.tag===3||t.tag===4}function S_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ck(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xh));else if(r!==4&&(t=t.child,t!==null))for(gv(t,e,n),t=t.sibling;t!==null;)gv(t,e,n),t=t.sibling}function vv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(vv(t,e,n),t=t.sibling;t!==null;)vv(t,e,n),t=t.sibling}var Nt=null,Jn=!1;function ks(t,e,n){for(n=n.child;n!==null;)Nk(t,e,n),n=n.sibling}function Nk(t,e,n){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(Lf,n)}catch{}switch(n.tag){case 5:Ft||ea(n,e);case 6:var r=Nt,s=Jn;Nt=null,ks(t,e,n),Nt=r,Jn=s,Nt!==null&&(Jn?(t=Nt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Nt.removeChild(n.stateNode));break;case 18:Nt!==null&&(Jn?(t=Nt,n=n.stateNode,t.nodeType===8?Cm(t.parentNode,n):t.nodeType===1&&Cm(t,n),Tc(t)):Cm(Nt,n.stateNode));break;case 4:r=Nt,s=Jn,Nt=n.stateNode.containerInfo,Jn=!0,ks(t,e,n),Nt=r,Jn=s;break;case 0:case 11:case 14:case 15:if(!Ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&pv(n,e,o),s=s.next}while(s!==r)}ks(t,e,n);break;case 1:if(!Ft&&(ea(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ze(n,e,l)}ks(t,e,n);break;case 21:ks(t,e,n);break;case 22:n.mode&1?(Ft=(r=Ft)||n.memoizedState!==null,ks(t,e,n),Ft=r):ks(t,e,n);break;default:ks(t,e,n)}}function E_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new X4),e.forEach(function(r){var s=aL.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function zn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Nt=l.stateNode,Jn=!1;break e;case 3:Nt=l.stateNode.containerInfo,Jn=!0;break e;case 4:Nt=l.stateNode.containerInfo,Jn=!0;break e}l=l.return}if(Nt===null)throw Error(q(160));Nk(i,o,s),Nt=null,Jn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ze(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Sk(e,t),e=e.sibling}function Sk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zn(e,t),wr(t),r&4){try{ac(3,t,t.return),Hf(3,t)}catch(g){Ze(t,t.return,g)}try{ac(5,t,t.return)}catch(g){Ze(t,t.return,g)}}break;case 1:zn(e,t),wr(t),r&512&&n!==null&&ea(n,n.return);break;case 5:if(zn(e,t),wr(t),r&512&&n!==null&&ea(n,n.return),t.flags&32){var s=t.stateNode;try{Nc(s,"")}catch(g){Ze(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&qS(s,i),Ug(l,o);var u=Ug(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?JS(s,h):d==="dangerouslySetInnerHTML"?QS(s,h):d==="children"?Nc(s,h):ux(s,d,h,u)}switch(l){case"input":Og(s,i);break;case"textarea":KS(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ua(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?ua(s,!!i.multiple,i.defaultValue,!0):ua(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ac]=i}catch(g){Ze(t,t.return,g)}}break;case 6:if(zn(e,t),wr(t),r&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){Ze(t,t.return,g)}}break;case 3:if(zn(e,t),wr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tc(e.containerInfo)}catch(g){Ze(t,t.return,g)}break;case 4:zn(e,t),wr(t);break;case 13:zn(e,t),wr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(zx=rt())),r&4&&E_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ft=(u=Ft)||d,zn(e,t),Ft=u):zn(e,t),wr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Z=t,d=t.child;d!==null;){for(h=Z=d;Z!==null;){switch(f=Z,m=f.child,f.tag){case 0:case 11:case 14:case 15:ac(4,f,f.return);break;case 1:ea(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(g){Ze(r,n,g)}}break;case 5:ea(f,f.return);break;case 22:if(f.memoizedState!==null){T_(h);continue}}m!==null?(m.return=f,Z=m):T_(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=XS("display",o))}catch(g){Ze(t,t.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ze(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:zn(e,t),wr(t),r&4&&E_(t);break;case 21:break;default:zn(e,t),wr(t)}}function wr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ck(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Nc(s,""),r.flags&=-33);var i=S_(t);vv(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=S_(t);gv(t,l,o);break;default:throw Error(q(161))}}catch(c){Ze(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Z4(t,e,n){Z=t,Ek(t)}function Ek(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var s=Z,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ud;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ft;l=ud;var u=Ft;if(ud=o,(Ft=c)&&!u)for(Z=s;Z!==null;)o=Z,c=o.child,o.tag===22&&o.memoizedState!==null?j_(s):c!==null?(c.return=o,Z=c):j_(s);for(;i!==null;)Z=i,Ek(i),i=i.sibling;Z=s,ud=l,Ft=u}k_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Z=i):k_(t)}}function k_(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ft||Hf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ft)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Kn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&d_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}d_(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Tc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Ft||e.flags&512&&mv(e)}catch(f){Ze(e,e.return,f)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function T_(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function j_(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hf(4,e)}catch(c){Ze(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Ze(e,s,c)}}var i=e.return;try{mv(e)}catch(c){Ze(e,i,c)}break;case 5:var o=e.return;try{mv(e)}catch(c){Ze(e,o,c)}}}catch(c){Ze(e,e.return,c)}if(e===t){Z=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Z=l;break}Z=e.return}}var eL=Math.ceil,Rh=Cs.ReactCurrentDispatcher,Ux=Cs.ReactCurrentOwner,Mn=Cs.ReactCurrentBatchConfig,Ce=0,xt=null,ot=null,Tt=0,gn=0,ta=Ei(0),ft=0,Vc=null,go=0,Gf=0,Bx=0,lc=null,en=null,zx=0,Ua=1/0,ts=null,Ih=!1,yv=null,ii=null,dd=!1,Xs=null,Ph=0,cc=0,xv=null,Wd=-1,Hd=0;function qt(){return Ce&6?rt():Wd!==-1?Wd:Wd=rt()}function oi(t){return t.mode&1?Ce&2&&Tt!==0?Tt&-Tt:L4.transition!==null?(Hd===0&&(Hd=uE()),Hd):(t=je,t!==0||(t=window.event,t=t===void 0?16:vE(t.type)),t):1}function or(t,e,n,r){if(50<cc)throw cc=0,xv=null,Error(q(185));du(t,n,r),(!(Ce&2)||t!==xt)&&(t===xt&&(!(Ce&2)&&(Gf|=n),ft===4&&Ls(t,Tt)),an(t,r),n===1&&Ce===0&&!(e.mode&1)&&(Ua=rt()+500,Bf&&ki()))}function an(t,e){var n=t.callbackNode;LO(t,e);var r=mh(t,t===xt?Tt:0);if(r===0)n!==null&&Fb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Fb(n),e===1)t.tag===0?O4(R_.bind(null,t)):OE(R_.bind(null,t)),P4(function(){!(Ce&6)&&ki()}),n=null;else{switch(dE(r)){case 1:n=mx;break;case 4:n=lE;break;case 16:n=ph;break;case 536870912:n=cE;break;default:n=ph}n=Dk(n,kk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function kk(t,e){if(Wd=-1,Hd=0,Ce&6)throw Error(q(327));var n=t.callbackNode;if(ma()&&t.callbackNode!==n)return null;var r=mh(t,t===xt?Tt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ah(t,r);else{e=r;var s=Ce;Ce|=2;var i=jk();(xt!==t||Tt!==e)&&(ts=null,Ua=rt()+500,ro(t,e));do try{rL();break}catch(l){Tk(t,l)}while(!0);Tx(),Rh.current=i,Ce=s,ot!==null?e=0:(xt=null,Tt=0,e=ft)}if(e!==0){if(e===2&&(s=Gg(t),s!==0&&(r=s,e=wv(t,s))),e===1)throw n=Vc,ro(t,0),Ls(t,r),an(t,rt()),n;if(e===6)Ls(t,r);else{if(s=t.current.alternate,!(r&30)&&!tL(s)&&(e=Ah(t,r),e===2&&(i=Gg(t),i!==0&&(r=i,e=wv(t,i))),e===1))throw n=Vc,ro(t,0),Ls(t,r),an(t,rt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:$i(t,en,ts);break;case 3:if(Ls(t,r),(r&130023424)===r&&(e=zx+500-rt(),10<e)){if(mh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){qt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ev($i.bind(null,t,en,ts),e);break}$i(t,en,ts);break;case 4:if(Ls(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ir(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*eL(r/1960))-r,10<r){t.timeoutHandle=ev($i.bind(null,t,en,ts),r);break}$i(t,en,ts);break;case 5:$i(t,en,ts);break;default:throw Error(q(329))}}}return an(t,rt()),t.callbackNode===n?kk.bind(null,t):null}function wv(t,e){var n=lc;return t.current.memoizedState.isDehydrated&&(ro(t,e).flags|=256),t=Ah(t,e),t!==2&&(e=en,en=n,e!==null&&bv(e)),t}function bv(t){en===null?en=t:en.push.apply(en,t)}function tL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!lr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ls(t,e){for(e&=~Bx,e&=~Gf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ir(e),r=1<<n;t[n]=-1,e&=~r}}function R_(t){if(Ce&6)throw Error(q(327));ma();var e=mh(t,0);if(!(e&1))return an(t,rt()),null;var n=Ah(t,e);if(t.tag!==0&&n===2){var r=Gg(t);r!==0&&(e=r,n=wv(t,r))}if(n===1)throw n=Vc,ro(t,0),Ls(t,e),an(t,rt()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$i(t,en,ts),an(t,rt()),null}function Wx(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(Ua=rt()+500,Bf&&ki())}}function vo(t){Xs!==null&&Xs.tag===0&&!(Ce&6)&&ma();var e=Ce;Ce|=1;var n=Mn.transition,r=je;try{if(Mn.transition=null,je=1,t)return t()}finally{je=r,Mn.transition=n,Ce=e,!(Ce&6)&&ki()}}function Hx(){gn=ta.current,$e(ta)}function ro(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,I4(n)),ot!==null)for(n=ot.return;n!==null;){var r=n;switch(Sx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wh();break;case 3:Va(),$e(sn),$e($t),Dx();break;case 5:Ax(r);break;case 4:Va();break;case 13:$e(qe);break;case 19:$e(qe);break;case 10:jx(r.type._context);break;case 22:case 23:Hx()}n=n.return}if(xt=t,ot=t=ai(t.current,null),Tt=gn=e,ft=0,Vc=null,Bx=Gf=go=0,en=lc=null,Gi!==null){for(e=0;e<Gi.length;e++)if(n=Gi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Gi=null}return t}function Tk(t,e){do{var n=ot;try{if(Tx(),Ud.current=jh,Th){for(var r=Ye.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Th=!1}if(mo=0,vt=ct=Ye=null,oc=!1,Oc=0,Ux.current=null,n===null||n.return===null){ft=1,Vc=e,ot=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=Tt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=v_(o);if(m!==null){m.flags&=-257,y_(m,o,l,i,e),m.mode&1&&g_(i,u,e),e=m,c=u;var w=e.updateQueue;if(w===null){var g=new Set;g.add(c),e.updateQueue=g}else w.add(c);break e}else{if(!(e&1)){g_(i,u,e),Gx();break e}c=Error(q(426))}}else if(We&&l.mode&1){var y=v_(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),y_(y,o,l,i,e),Ex($a(c,l));break e}}i=c=$a(c,l),ft!==4&&(ft=2),lc===null?lc=[i]:lc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=dk(i,c,e);u_(i,x);break e;case 1:l=c;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ii===null||!ii.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=hk(i,l,e);u_(i,N);break e}}i=i.return}while(i!==null)}Ik(n)}catch(_){e=_,ot===n&&n!==null&&(ot=n=n.return);continue}break}while(!0)}function jk(){var t=Rh.current;return Rh.current=jh,t===null?jh:t}function Gx(){(ft===0||ft===3||ft===2)&&(ft=4),xt===null||!(go&268435455)&&!(Gf&268435455)||Ls(xt,Tt)}function Ah(t,e){var n=Ce;Ce|=2;var r=jk();(xt!==t||Tt!==e)&&(ts=null,ro(t,e));do try{nL();break}catch(s){Tk(t,s)}while(!0);if(Tx(),Ce=n,Rh.current=r,ot!==null)throw Error(q(261));return xt=null,Tt=0,ft}function nL(){for(;ot!==null;)Rk(ot)}function rL(){for(;ot!==null&&!TO();)Rk(ot)}function Rk(t){var e=Ak(t.alternate,t,gn);t.memoizedProps=t.pendingProps,e===null?Ik(t):ot=e,Ux.current=null}function Ik(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Q4(n,e),n!==null){n.flags&=32767,ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,ot=null;return}}else if(n=Y4(n,e,gn),n!==null){ot=n;return}if(e=e.sibling,e!==null){ot=e;return}ot=e=t}while(e!==null);ft===0&&(ft=5)}function $i(t,e,n){var r=je,s=Mn.transition;try{Mn.transition=null,je=1,sL(t,e,n,r)}finally{Mn.transition=s,je=r}return null}function sL(t,e,n,r){do ma();while(Xs!==null);if(Ce&6)throw Error(q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(FO(t,i),t===xt&&(ot=xt=null,Tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dd||(dd=!0,Dk(ph,function(){return ma(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Mn.transition,Mn.transition=null;var o=je;je=1;var l=Ce;Ce|=4,Ux.current=null,J4(t,n),Sk(n,t),N4(Jg),gh=!!Xg,Jg=Xg=null,t.current=n,Z4(n),jO(),Ce=l,je=o,Mn.transition=i}else t.current=n;if(dd&&(dd=!1,Xs=t,Ph=s),i=t.pendingLanes,i===0&&(ii=null),PO(n.stateNode),an(t,rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ih)throw Ih=!1,t=yv,yv=null,t;return Ph&1&&t.tag!==0&&ma(),i=t.pendingLanes,i&1?t===xv?cc++:(cc=0,xv=t):cc=0,ki(),null}function ma(){if(Xs!==null){var t=dE(Ph),e=Mn.transition,n=je;try{if(Mn.transition=null,je=16>t?16:t,Xs===null)var r=!1;else{if(t=Xs,Xs=null,Ph=0,Ce&6)throw Error(q(331));var s=Ce;for(Ce|=4,Z=t.current;Z!==null;){var i=Z,o=i.child;if(Z.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:ac(8,d,i)}var h=d.child;if(h!==null)h.return=d,Z=h;else for(;Z!==null;){d=Z;var f=d.sibling,m=d.return;if(_k(d),d===u){Z=null;break}if(f!==null){f.return=m,Z=f;break}Z=m}}}var w=i.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Z=o;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ac(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Z=x;break e}Z=i.return}}var v=t.current;for(Z=v;Z!==null;){o=Z;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Z=b;else e:for(o=v;Z!==null;){if(l=Z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Hf(9,l)}}catch(_){Ze(l,l.return,_)}if(l===o){Z=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Z=N;break e}Z=l.return}}if(Ce=s,ki(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(Lf,t)}catch{}r=!0}return r}finally{je=n,Mn.transition=e}}return!1}function I_(t,e,n){e=$a(n,e),e=dk(t,e,1),t=si(t,e,1),e=qt(),t!==null&&(du(t,1,e),an(t,e))}function Ze(t,e,n){if(t.tag===3)I_(t,t,n);else for(;e!==null;){if(e.tag===3){I_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ii===null||!ii.has(r))){t=$a(n,t),t=hk(e,t,1),e=si(e,t,1),t=qt(),e!==null&&(du(e,1,t),an(e,t));break}}e=e.return}}function iL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=qt(),t.pingedLanes|=t.suspendedLanes&n,xt===t&&(Tt&n)===n&&(ft===4||ft===3&&(Tt&130023424)===Tt&&500>rt()-zx?ro(t,0):Bx|=n),an(t,e)}function Pk(t,e){e===0&&(t.mode&1?(e=td,td<<=1,!(td&130023424)&&(td=4194304)):e=1);var n=qt();t=fs(t,e),t!==null&&(du(t,e,n),an(t,n))}function oL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Pk(t,n)}function aL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),Pk(t,n)}var Ak;Ak=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sn.current)tn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tn=!1,K4(t,e,n);tn=!!(t.flags&131072)}else tn=!1,We&&e.flags&1048576&&LE(e,Ch,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zd(t,e),t=e.pendingProps;var s=Oa(e,$t.current);pa(e,n),s=Ox(null,e,r,t,s,n);var i=Lx();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(r)?(i=!0,bh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ix(e),s.updater=Wf,e.stateNode=s,s._reactInternals=e,av(e,r,t,n),e=uv(null,e,r,!0,i,n)):(e.tag=0,We&&i&&Nx(e),zt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(zd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=cL(r),t=Kn(r,t),s){case 0:e=cv(null,e,r,t,n);break e;case 1:e=b_(null,e,r,t,n);break e;case 11:e=x_(null,e,r,t,n);break e;case 14:e=w_(null,e,r,Kn(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kn(r,s),cv(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kn(r,s),b_(t,e,r,s,n);case 3:e:{if(gk(e),t===null)throw Error(q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,zE(t,e),Eh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=$a(Error(q(423)),e),e=__(t,e,r,n,s);break e}else if(r!==s){s=$a(Error(q(424)),e),e=__(t,e,r,n,s);break e}else for(yn=ri(e.stateNode.containerInfo.firstChild),xn=e,We=!0,er=null,n=UE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(La(),r===s){e=ps(t,e,n);break e}zt(t,e,r,n)}e=e.child}return e;case 5:return WE(e),t===null&&sv(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Zg(r,s)?o=null:i!==null&&Zg(r,i)&&(e.flags|=32),mk(t,e),zt(t,e,o,n),e.child;case 6:return t===null&&sv(e),null;case 13:return vk(t,e,n);case 4:return Px(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fa(e,null,r,n):zt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kn(r,s),x_(t,e,r,s,n);case 7:return zt(t,e,e.pendingProps,n),e.child;case 8:return zt(t,e,e.pendingProps.children,n),e.child;case 12:return zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Le(Nh,r._currentValue),r._currentValue=o,i!==null)if(lr(i.value,o)){if(i.children===s.children&&!sn.current){e=ps(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=cs(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),iv(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(q(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),iv(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}zt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,pa(e,n),s=Ln(s),r=r(s),e.flags|=1,zt(t,e,r,n),e.child;case 14:return r=e.type,s=Kn(r,e.pendingProps),s=Kn(r.type,s),w_(t,e,r,s,n);case 15:return fk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kn(r,s),zd(t,e),e.tag=1,on(r)?(t=!0,bh(e)):t=!1,pa(e,n),uk(e,r,s),av(e,r,s,n),uv(null,e,r,!0,t,n);case 19:return yk(t,e,n);case 22:return pk(t,e,n)}throw Error(q(156,e.tag))};function Dk(t,e){return aE(t,e)}function lL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,e,n,r){return new lL(t,e,n,r)}function qx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cL(t){if(typeof t=="function")return qx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hx)return 11;if(t===fx)return 14}return 2}function ai(t,e){var n=t.alternate;return n===null?(n=Pn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")qx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ho:return so(n.children,s,i,e);case dx:o=8,s|=8;break;case Ig:return t=Pn(12,n,e,s|2),t.elementType=Ig,t.lanes=i,t;case Pg:return t=Pn(13,n,e,s),t.elementType=Pg,t.lanes=i,t;case Ag:return t=Pn(19,n,e,s),t.elementType=Ag,t.lanes=i,t;case WS:return qf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case BS:o=10;break e;case zS:o=9;break e;case hx:o=11;break e;case fx:o=14;break e;case Ds:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Pn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function so(t,e,n,r){return t=Pn(7,t,r,e),t.lanes=n,t}function qf(t,e,n,r){return t=Pn(22,t,r,e),t.elementType=WS,t.lanes=n,t.stateNode={isHidden:!1},t}function Im(t,e,n){return t=Pn(6,t,null,e),t.lanes=n,t}function Pm(t,e,n){return e=Pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function uL(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hm(0),this.expirationTimes=hm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Kx(t,e,n,r,s,i,o,l,c){return t=new uL(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Pn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ix(i),t}function dL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Mk(t){if(!t)return gi;t=t._reactInternals;e:{if(Io(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(on(n))return ME(t,n,e)}return e}function Ok(t,e,n,r,s,i,o,l,c){return t=Kx(n,r,!0,t,s,i,o,l,c),t.context=Mk(null),n=t.current,r=qt(),s=oi(n),i=cs(r,s),i.callback=e??null,si(n,i,s),t.current.lanes=s,du(t,s,r),an(t,r),t}function Kf(t,e,n,r){var s=e.current,i=qt(),o=oi(s);return n=Mk(n),e.context===null?e.context=n:e.pendingContext=n,e=cs(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=si(s,e,o),t!==null&&(or(t,s,o,i),$d(t,s,o)),o}function Dh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function P_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Yx(t,e){P_(t,e),(t=t.alternate)&&P_(t,e)}function hL(){return null}var Lk=typeof reportError=="function"?reportError:function(t){console.error(t)};function Qx(t){this._internalRoot=t}Yf.prototype.render=Qx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Kf(t,e,null,null)};Yf.prototype.unmount=Qx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vo(function(){Kf(null,t,null,null)}),e[hs]=null}};function Yf(t){this._internalRoot=t}Yf.prototype.unstable_scheduleHydration=function(t){if(t){var e=pE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Os.length&&e!==0&&e<Os[n].priority;n++);Os.splice(n,0,t),n===0&&gE(t)}};function Xx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function A_(){}function fL(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Dh(o);i.call(u)}}var o=Ok(e,r,t,0,null,!1,!1,"",A_);return t._reactRootContainer=o,t[hs]=o.current,Ic(t.nodeType===8?t.parentNode:t),vo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Dh(c);l.call(u)}}var c=Kx(t,0,!1,null,null,!1,!1,"",A_);return t._reactRootContainer=c,t[hs]=c.current,Ic(t.nodeType===8?t.parentNode:t),vo(function(){Kf(e,c,n,r)}),c}function Xf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Dh(o);l.call(c)}}Kf(e,o,t,s)}else o=fL(n,e,t,s,r);return Dh(o)}hE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yl(e.pendingLanes);n!==0&&(gx(e,n|1),an(e,rt()),!(Ce&6)&&(Ua=rt()+500,ki()))}break;case 13:vo(function(){var r=fs(t,1);if(r!==null){var s=qt();or(r,t,1,s)}}),Yx(t,1)}};vx=function(t){if(t.tag===13){var e=fs(t,134217728);if(e!==null){var n=qt();or(e,t,134217728,n)}Yx(t,134217728)}};fE=function(t){if(t.tag===13){var e=oi(t),n=fs(t,e);if(n!==null){var r=qt();or(n,t,e,r)}Yx(t,e)}};pE=function(){return je};mE=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};zg=function(t,e,n){switch(e){case"input":if(Og(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Uf(r);if(!s)throw Error(q(90));GS(r),Og(r,s)}}}break;case"textarea":KS(t,n);break;case"select":e=n.value,e!=null&&ua(t,!!n.multiple,e,!1)}};tE=Wx;nE=vo;var pL={usingClientEntryPoint:!1,Events:[fu,Yo,Uf,ZS,eE,Wx]},Ll={findFiberByHostInstance:Hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mL={bundleType:Ll.bundleType,version:Ll.version,rendererPackageName:Ll.rendererPackageName,rendererConfig:Ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=iE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ll.findFiberByHostInstance||hL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{Lf=hd.inject(mL),Rr=hd}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pL;_n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xx(e))throw Error(q(200));return dL(t,e,null,n)};_n.createRoot=function(t,e){if(!Xx(t))throw Error(q(299));var n=!1,r="",s=Lk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Kx(t,1,!1,null,null,n,!1,r,s),t[hs]=e.current,Ic(t.nodeType===8?t.parentNode:t),new Qx(e)};_n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=iE(e),t=t===null?null:t.stateNode,t};_n.flushSync=function(t){return vo(t)};_n.hydrate=function(t,e,n){if(!Qf(e))throw Error(q(200));return Xf(null,t,e,!0,n)};_n.hydrateRoot=function(t,e,n){if(!Xx(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Lk;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ok(e,null,t,1,n??null,s,!1,i,o),t[hs]=e.current,Ic(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Yf(e)};_n.render=function(t,e,n){if(!Qf(e))throw Error(q(200));return Xf(null,t,e,!1,n)};_n.unmountComponentAtNode=function(t){if(!Qf(t))throw Error(q(40));return t._reactRootContainer?(vo(function(){Xf(null,null,t,!1,function(){t._reactRootContainer=null,t[hs]=null})}),!0):!1};_n.unstable_batchedUpdates=Wx;_n.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qf(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Xf(t,e,n,!1,r)};_n.version="18.3.1-next-f1338f8080-20240426";function Fk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fk)}catch(t){console.error(t)}}Fk(),FS.exports=_n;var Po=FS.exports;const Jx=ES(Po);var Vk,D_=Po;Vk=D_.createRoot,D_.hydrateRoot;const gL=1,vL=1e6;let Am=0;function yL(){return Am=(Am+1)%Number.MAX_SAFE_INTEGER,Am.toString()}const Dm=new Map,M_=t=>{if(Dm.has(t))return;const e=setTimeout(()=>{Dm.delete(t),uc({type:"REMOVE_TOAST",toastId:t})},vL);Dm.set(t,e)},xL=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,gL)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?M_(n):t.toasts.forEach(r=>{M_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},qd=[];let Kd={toasts:[]};function uc(t){Kd=xL(Kd,t),qd.forEach(e=>{e(Kd)})}function wL({...t}){const e=yL(),n=s=>uc({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>uc({type:"DISMISS_TOAST",toastId:e});return uc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function wt(){const[t,e]=p.useState(Kd);return p.useEffect(()=>(qd.push(e),()=>{const n=qd.indexOf(e);n>-1&&qd.splice(n,1)}),[t]),{...t,toast:wL,dismiss:n=>uc({type:"DISMISS_TOAST",toastId:n})}}function ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function O_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function $k(...t){return e=>{let n=!1;const r=t.map(s=>{const i=O_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():O_(t[s],null)}}}}function ge(...t){return p.useCallback($k(...t),t)}function bL(t,e){const n=p.createContext(e),r=i=>{const{children:o,...l}=i,c=p.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=p.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function cn(t,e=[]){let n=[];function r(i,o){const l=p.createContext(o),c=n.length;n=[...n,o];const u=h=>{var x;const{scope:f,children:m,...w}=h,g=((x=f==null?void 0:f[t])==null?void 0:x[c])||l,y=p.useMemo(()=>w,Object.values(w));return a.jsx(g.Provider,{value:y,children:m})};u.displayName=i+"Provider";function d(h,f){var g;const m=((g=f==null?void 0:f[t])==null?void 0:g[c])||l,w=p.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,_L(s,...e)]}function _L(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Ba(t){const e=NL(t),n=p.forwardRef((r,s)=>{const{children:i,...o}=r,l=p.Children.toArray(i),c=l.find(EL);if(c){const u=c.props.children,d=l.map(h=>h===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:h);return a.jsx(e,{...o,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var CL=Ba("Slot");function NL(t){const e=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const o=TL(s),l=kL(i,s.props);return s.type!==p.Fragment&&(l.ref=r?$k(r,o):o),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Uk=Symbol("radix.slottable");function SL(t){const e=({children:n})=>a.jsx(a.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Uk,e}function EL(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Uk}function kL(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function TL(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Jf(t){const e=t+"CollectionProvider",[n,r]=cn(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:x}=g,v=H.useRef(null),b=H.useRef(new Map).current;return a.jsx(s,{scope:y,itemMap:b,collectionRef:v,children:x})};o.displayName=e;const l=t+"CollectionSlot",c=Ba(l),u=H.forwardRef((g,y)=>{const{scope:x,children:v}=g,b=i(l,x),N=ge(y,b.collectionRef);return a.jsx(c,{ref:N,children:v})});u.displayName=l;const d=t+"CollectionItemSlot",h="data-radix-collection-item",f=Ba(d),m=H.forwardRef((g,y)=>{const{scope:x,children:v,...b}=g,N=H.useRef(null),_=ge(y,N),C=i(d,x);return H.useEffect(()=>(C.itemMap.set(N,{ref:N,...b}),()=>void C.itemMap.delete(N))),a.jsx(f,{[h]:"",ref:_,children:v})});m.displayName=d;function w(g){const y=i(t+"CollectionConsumer",g);return H.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((C,S)=>b.indexOf(C.ref.current)-b.indexOf(S.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},w,r]}var jL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ne=jL.reduce((t,e)=>{const n=Ba(`Primitive.${e}`),r=p.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Bk(t,e){t&&Po.flushSync(()=>t.dispatchEvent(e))}function dt(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function RL(t,e=globalThis==null?void 0:globalThis.document){const n=dt(t);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var IL="DismissableLayer",_v="dismissableLayer.update",PL="dismissableLayer.pointerDownOutside",AL="dismissableLayer.focusOutside",L_,zk=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mu=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,u=p.useContext(zk),[d,h]=p.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),w=ge(e,S=>h(S)),g=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(y),v=d?g.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,N=v>=x,_=ML(S=>{const E=S.target,k=[...u.branches].some(T=>T.contains(E));!N||k||(s==null||s(S),o==null||o(S),S.defaultPrevented||l==null||l())},f),C=OL(S=>{const E=S.target;[...u.branches].some(T=>T.contains(E))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},f);return RL(S=>{v===u.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},f),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(L_=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),F_(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=L_)}},[d,f,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),F_())},[d,u]),p.useEffect(()=>{const S=()=>m({});return document.addEventListener(_v,S),()=>document.removeEventListener(_v,S)},[]),a.jsx(ne.div,{...c,ref:w,style:{pointerEvents:b?N?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,C.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,_.onPointerDownCapture)})});mu.displayName=IL;var DL="DismissableLayerBranch",Wk=p.forwardRef((t,e)=>{const n=p.useContext(zk),r=p.useRef(null),s=ge(e,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(ne.div,{...t,ref:s})});Wk.displayName=DL;function ML(t,e=globalThis==null?void 0:globalThis.document){const n=dt(t),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){Hk(PL,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function OL(t,e=globalThis==null?void 0:globalThis.document){const n=dt(t),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&Hk(AL,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function F_(){const t=new CustomEvent(_v);document.dispatchEvent(t)}function Hk(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Bk(s,i):s.dispatchEvent(i)}var LL=mu,FL=Wk,mt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},VL="Portal",Zf=p.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=p.useState(!1);mt(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Jx.createPortal(a.jsx(ne.div,{...r,ref:e}),o):null});Zf.displayName=VL;function $L(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var Nn=t=>{const{present:e,children:n}=t,r=UL(e),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=ge(r.ref,BL(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};Nn.displayName="Presence";function UL(t){const[e,n]=p.useState(),r=p.useRef(null),s=p.useRef(t),i=p.useRef("none"),o=t?"mounted":"unmounted",[l,c]=$L(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=fd(r.current);i.current=l==="mounted"?u:"none"},[l]),mt(()=>{const u=r.current,d=s.current;if(d!==t){const f=i.current,m=fd(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),mt(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=m=>{const g=fd(r.current).includes(m.animationName);if(m.target===e&&g&&(c("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},f=m=>{m.target===e&&(i.current=fd(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function fd(t){return(t==null?void 0:t.animationName)||"none"}function BL(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var zL=ax[" useInsertionEffect ".trim().toString()]||mt;function cr({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=WL({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const d=p.useRef(t!==void 0);p.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=p.useCallback(d=>{var h;if(l){const f=HL(d)?d(t):d;f!==t&&((h=o.current)==null||h.call(o,f))}else i(d)},[l,t,i,o]);return[c,u]}function WL({defaultProp:t,onChange:e}){const[n,r]=p.useState(t),s=p.useRef(n),i=p.useRef(e);return zL(()=>{i.current=e},[e]),p.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function HL(t){return typeof t=="function"}var Gk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),GL="VisuallyHidden",ep=p.forwardRef((t,e)=>a.jsx(ne.span,{...t,ref:e,style:{...Gk,...t.style}}));ep.displayName=GL;var qL=ep,Zx="ToastProvider",[e0,KL,YL]=Jf("Toast"),[qk,VZ]=cn("Toast",[YL]),[QL,tp]=qk(Zx),Kk=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[l,c]=p.useState(null),[u,d]=p.useState(0),h=p.useRef(!1),f=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Zx}\`. Expected non-empty \`string\`.`),a.jsx(e0.Provider,{scope:e,children:a.jsx(QL,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>d(m=>m+1),[]),onToastRemove:p.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};Kk.displayName=Zx;var Yk="ToastViewport",XL=["F8"],Cv="toast.viewportPause",Nv="toast.viewportResume",Qk=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=XL,label:s="Notifications ({hotkey})",...i}=t,o=tp(Yk,n),l=KL(n),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),h=p.useRef(null),f=ge(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;p.useEffect(()=>{const y=x=>{var b;r.length!==0&&r.every(N=>x[N]||x.code===N)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),p.useEffect(()=>{const y=c.current,x=h.current;if(w&&y&&x){const v=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(Cv);x.dispatchEvent(C),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(Nv);x.dispatchEvent(C),o.isClosePausedRef.current=!1}},N=C=>{!y.contains(C.relatedTarget)&&b()},_=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",v),y.addEventListener("focusout",N),y.addEventListener("pointermove",v),y.addEventListener("pointerleave",_),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",v),y.removeEventListener("focusout",N),y.removeEventListener("pointermove",v),y.removeEventListener("pointerleave",_),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[w,o.isClosePausedRef]);const g=p.useCallback(({tabbingDirection:y})=>{const v=l().map(b=>{const N=b.ref.current,_=[N,...u5(N)];return y==="forwards"?_:_.reverse()});return(y==="forwards"?v.reverse():v).flat()},[l]);return p.useEffect(()=>{const y=h.current;if(y){const x=v=>{var _,C,S;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const E=document.activeElement,k=v.shiftKey;if(v.target===y&&k){(_=u.current)==null||_.focus();return}const I=g({tabbingDirection:k?"backwards":"forwards"}),F=I.findIndex(P=>P===E);Mm(I.slice(F+1))?v.preventDefault():k?(C=u.current)==null||C.focus():(S=d.current)==null||S.focus()}};return y.addEventListener("keydown",x),()=>y.removeEventListener("keydown",x)}},[l,g]),a.jsxs(FL,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&a.jsx(Sv,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});Mm(y)}}),a.jsx(e0.Slot,{scope:n,children:a.jsx(ne.ol,{tabIndex:-1,...i,ref:f})}),w&&a.jsx(Sv,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});Mm(y)}})]})});Qk.displayName=Yk;var Xk="ToastFocusProxy",Sv=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=tp(Xk,n);return a.jsx(ep,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});Sv.displayName=Xk;var gu="Toast",JL="toast.swipeStart",ZL="toast.swipeMove",e5="toast.swipeCancel",t5="toast.swipeEnd",Jk=p.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[l,c]=cr({prop:r,defaultProp:s??!0,onChange:i,caller:gu});return a.jsx(Nn,{present:n||l,children:a.jsx(s5,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:dt(t.onPause),onResume:dt(t.onResume),onSwipeStart:ee(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ee(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ee(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ee(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});Jk.displayName=gu;var[n5,r5]=qk(gu,{onClose(){}}),s5=p.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...w}=t,g=tp(gu,n),[y,x]=p.useState(null),v=ge(e,P=>x(P)),b=p.useRef(null),N=p.useRef(null),_=s||g.duration,C=p.useRef(0),S=p.useRef(_),E=p.useRef(0),{onToastAdd:k,onToastRemove:T}=g,R=dt(()=>{var $;(y==null?void 0:y.contains(document.activeElement))&&(($=g.viewport)==null||$.focus()),o()}),I=p.useCallback(P=>{!P||P===1/0||(window.clearTimeout(E.current),C.current=new Date().getTime(),E.current=window.setTimeout(R,P))},[R]);p.useEffect(()=>{const P=g.viewport;if(P){const $=()=>{I(S.current),u==null||u()},V=()=>{const z=new Date().getTime()-C.current;S.current=S.current-z,window.clearTimeout(E.current),c==null||c()};return P.addEventListener(Cv,V),P.addEventListener(Nv,$),()=>{P.removeEventListener(Cv,V),P.removeEventListener(Nv,$)}}},[g.viewport,_,c,u,I]),p.useEffect(()=>{i&&!g.isClosePausedRef.current&&I(_)},[i,_,g.isClosePausedRef,I]),p.useEffect(()=>(k(),()=>T()),[k,T]);const F=p.useMemo(()=>y?iT(y):null,[y]);return g.viewport?a.jsxs(a.Fragment,{children:[F&&a.jsx(i5,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),a.jsx(n5,{scope:n,onClose:R,children:Po.createPortal(a.jsx(e0.ItemSlot,{scope:n,children:a.jsx(LL,{asChild:!0,onEscapeKeyDown:ee(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||R(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(ne.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...w,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ee(t.onKeyDown,P=>{P.key==="Escape"&&(l==null||l(P.nativeEvent),P.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:ee(t.onPointerDown,P=>{P.button===0&&(b.current={x:P.clientX,y:P.clientY})}),onPointerMove:ee(t.onPointerMove,P=>{if(!b.current)return;const $=P.clientX-b.current.x,V=P.clientY-b.current.y,z=!!N.current,A=["left","right"].includes(g.swipeDirection),M=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,j=A?M(0,$):0,W=A?0:M(0,V),K=P.pointerType==="touch"?10:2,re={x:j,y:W},ae={originalEvent:P,delta:re};z?(N.current=re,pd(ZL,h,ae,{discrete:!1})):V_(re,g.swipeDirection,K)?(N.current=re,pd(JL,d,ae,{discrete:!1}),P.target.setPointerCapture(P.pointerId)):(Math.abs($)>K||Math.abs(V)>K)&&(b.current=null)}),onPointerUp:ee(t.onPointerUp,P=>{const $=N.current,V=P.target;if(V.hasPointerCapture(P.pointerId)&&V.releasePointerCapture(P.pointerId),N.current=null,b.current=null,$){const z=P.currentTarget,A={originalEvent:P,delta:$};V_($,g.swipeDirection,g.swipeThreshold)?pd(t5,m,A,{discrete:!0}):pd(e5,f,A,{discrete:!0}),z.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),i5=t=>{const{__scopeToast:e,children:n,...r}=t,s=tp(gu,e),[i,o]=p.useState(!1),[l,c]=p.useState(!1);return l5(()=>o(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(Zf,{asChild:!0,children:a.jsx(ep,{...r,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},o5="ToastTitle",Zk=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(ne.div,{...r,ref:e})});Zk.displayName=o5;var a5="ToastDescription",eT=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(ne.div,{...r,ref:e})});eT.displayName=a5;var tT="ToastAction",nT=p.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?a.jsx(sT,{altText:n,asChild:!0,children:a.jsx(t0,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${tT}\`. Expected non-empty \`string\`.`),null)});nT.displayName=tT;var rT="ToastClose",t0=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=r5(rT,n);return a.jsx(sT,{asChild:!0,children:a.jsx(ne.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,s.onClose)})})});t0.displayName=rT;var sT=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return a.jsx(ne.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function iT(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),c5(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...iT(r))}}),e}function pd(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Bk(s,i):s.dispatchEvent(i)}var V_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function l5(t=()=>{}){const e=dt(t);mt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function c5(t){return t.nodeType===t.ELEMENT_NODE}function u5(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Mm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var d5=Kk,oT=Qk,aT=Jk,lT=Zk,cT=eT,uT=nT,dT=t0;function hT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=hT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function fT(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=hT(t))&&(r&&(r+=" "),r+=e);return r}const $_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,U_=fT,np=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return U_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=$_(d)||$_(h);return s[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(w=>{let[g,y]=w;return Array.isArray(y)?y.includes({...i,...l}[g]):{...i,...l}[g]===y})?[...u,h,f]:u},[]);return U_(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var f5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...f5,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:pT("lucide",s),...l},[...o.map(([u,d])=>p.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(t,e)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(p5,{ref:i,iconNode:e,className:pT(`lucide-${h5(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=de("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=de("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=de("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=de("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=de("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=de("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=de("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=de("CloudSun",[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=de("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=de("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=de("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=de("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=de("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=de("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=de("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=de("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=de("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=de("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=de("Paintbrush",[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=de("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=de("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=de("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=de("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=de("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=de("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=de("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=de("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=de("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=de("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=de("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=de("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=de("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=de("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=de("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),s0="-",E5=t=>{const e=T5(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(s0);return l[0]===""&&l.length!==1&&l.shift(),yT(l,e)||k5(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},yT=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?yT(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(s0);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},G_=/^\[(.+)\]$/,k5=t=>{if(G_.test(t)){const e=G_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},T5=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return R5(Object.entries(t.classGroups),n).forEach(([i,o])=>{jv(o,r,i,e)}),r},jv=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:q_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(j5(s)){jv(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{jv(o,q_(e,i),n,r)})})},q_=(t,e)=>{let n=t;return e.split(s0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},j5=t=>t.isThemeGetter,R5=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[n,s]}):t,I5=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},xT="!",P5=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=l=>{const c=[];let u=0,d=0,h;for(let y=0;y<l.length;y++){let x=l[y];if(u===0){if(x===s&&(r||l.slice(y,y+i)===e)){c.push(l.slice(d,y)),d=y+i;continue}if(x==="/"){h=y;continue}}x==="["?u++:x==="]"&&u--}const f=c.length===0?l:l.substring(d),m=f.startsWith(xT),w=m?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:o}):o},A5=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},D5=t=>({cache:I5(t.cacheSize),parseClassName:P5(t),...E5(t)}),M5=/\s+/,O5=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(M5);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let w=!!m,g=r(w?f.substring(0,m):f);if(!g){if(!w){l=u+(l.length>0?" "+l:l);continue}if(g=r(f),!g){l=u+(l.length>0?" "+l:l);continue}w=!1}const y=A5(d).join(":"),x=h?y+xT:y,v=x+g;if(i.includes(v))continue;i.push(v);const b=s(g,w);for(let N=0;N<b.length;++N){const _=b[N];i.push(x+_)}l=u+(l.length>0?" "+l:l)}return l};function L5(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=wT(e))&&(r&&(r+=" "),r+=n);return r}const wT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=wT(t[r]))&&(n&&(n+=" "),n+=e);return n};function F5(t,...e){let n,r,s,i=o;function o(c){const u=e.reduce((d,h)=>h(d),t());return n=D5(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=O5(c,n);return s(c,d),d}return function(){return i(L5.apply(null,arguments))}}const Fe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},bT=/^\[(?:([a-z-]+):)?(.+)\]$/i,V5=/^\d+\/\d+$/,$5=new Set(["px","full","screen"]),U5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,B5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,z5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,W5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,H5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jr=t=>va(t)||$5.has(t)||V5.test(t),Ts=t=>ll(t,"length",Z5),va=t=>!!t&&!Number.isNaN(Number(t)),Lm=t=>ll(t,"number",va),Fl=t=>!!t&&Number.isInteger(Number(t)),G5=t=>t.endsWith("%")&&va(t.slice(0,-1)),he=t=>bT.test(t),js=t=>U5.test(t),q5=new Set(["length","size","percentage"]),K5=t=>ll(t,q5,_T),Y5=t=>ll(t,"position",_T),Q5=new Set(["image","url"]),X5=t=>ll(t,Q5,t3),J5=t=>ll(t,"",e3),Vl=()=>!0,ll=(t,e,n)=>{const r=bT.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Z5=t=>B5.test(t)&&!z5.test(t),_T=()=>!1,e3=t=>W5.test(t),t3=t=>H5.test(t),n3=()=>{const t=Fe("colors"),e=Fe("spacing"),n=Fe("blur"),r=Fe("brightness"),s=Fe("borderColor"),i=Fe("borderRadius"),o=Fe("borderSpacing"),l=Fe("borderWidth"),c=Fe("contrast"),u=Fe("grayscale"),d=Fe("hueRotate"),h=Fe("invert"),f=Fe("gap"),m=Fe("gradientColorStops"),w=Fe("gradientColorStopPositions"),g=Fe("inset"),y=Fe("margin"),x=Fe("opacity"),v=Fe("padding"),b=Fe("saturate"),N=Fe("scale"),_=Fe("sepia"),C=Fe("skew"),S=Fe("space"),E=Fe("translate"),k=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",he,e],I=()=>[he,e],F=()=>["",Jr,Ts],P=()=>["auto",va,he],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",he],j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[va,he];return{cacheSize:500,separator:":",theme:{colors:[Vl],spacing:[Jr,Ts],blur:["none","",js,he],brightness:W(),borderColor:[t],borderRadius:["none","","full",js,he],borderSpacing:I(),borderWidth:F(),contrast:W(),grayscale:M(),hueRotate:W(),invert:M(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[G5,Ts],inset:R(),margin:R(),opacity:W(),padding:I(),saturate:W(),scale:W(),sepia:M(),skew:W(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[js]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),he]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fl,he]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",Fl,he]}],"grid-cols":[{"grid-cols":[Vl]}],"col-start-end":[{col:["auto",{span:["full",Fl,he]},he]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[Vl]}],"row-start-end":[{row:["auto",{span:[Fl,he]},he]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,e]}],"min-w":[{"min-w":[he,e,"min","max","fit"]}],"max-w":[{"max-w":[he,e,"none","full","min","max","fit","prose",{screen:[js]},js]}],h:[{h:[he,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,e,"auto","min","max","fit"]}],"font-size":[{text:["base",js,Ts]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Lm]}],"font-family":[{font:[Vl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",va,Lm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Jr,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Jr,Ts]}],"underline-offset":[{"underline-offset":["auto",Jr,he]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),Y5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",K5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},X5]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:V()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Jr,he]}],"outline-w":[{outline:[Jr,Ts]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Jr,Ts]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",js,J5]}],"shadow-color":[{shadow:[Vl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",js,he]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Fl,he]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Jr,Ts,Lm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},r3=F5(n3);function L(...t){return r3(fT(t))}const s3=d5,CT=p.forwardRef(({className:t,...e},n)=>a.jsx(oT,{ref:n,className:L("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));CT.displayName=oT.displayName;const i3=np("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),NT=p.forwardRef(({className:t,variant:e,...n},r)=>a.jsx(aT,{ref:r,className:L(i3({variant:e}),t),...n}));NT.displayName=aT.displayName;const o3=p.forwardRef(({className:t,...e},n)=>a.jsx(uT,{ref:n,className:L("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));o3.displayName=uT.displayName;const ST=p.forwardRef(({className:t,...e},n)=>a.jsx(dT,{ref:n,className:L("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(Tr,{className:"h-4 w-4"})}));ST.displayName=dT.displayName;const ET=p.forwardRef(({className:t,...e},n)=>a.jsx(lT,{ref:n,className:L("text-sm font-semibold",t),...e}));ET.displayName=lT.displayName;const kT=p.forwardRef(({className:t,...e},n)=>a.jsx(cT,{ref:n,className:L("text-sm opacity-90",t),...e}));kT.displayName=cT.displayName;function a3(){const{toasts:t}=wt();return a.jsxs(s3,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return a.jsxs(NT,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(ET,{children:n}),r&&a.jsx(kT,{children:r})]}),s,a.jsx(ST,{})]},e)}),a.jsx(CT,{})]})}var K_=["light","dark"],l3="(prefers-color-scheme: dark)",c3=p.createContext(void 0),u3={setTheme:t=>{},themes:[]},d3=()=>{var t;return(t=p.useContext(c3))!=null?t:u3};p.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?K_.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(w,g=!1,y=!0)=>{let x=o?o[w]:w,v=g?w+"|| ''":`'${x}'`,b="";return s&&y&&!g&&K_.includes(w)&&(b+=`d.style.colorScheme = '${w}';`),n==="class"?g||x?b+=`c.add(${v})`:b+="null":x&&(b+=`d[s](n,${v})`),b},m=t?`!function(){${d}${f(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${l3}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var h3=t=>{switch(t){case"success":return m3;case"info":return v3;case"warning":return g3;case"error":return y3;default:return null}},f3=Array(12).fill(0),p3=({visible:t,className:e})=>H.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},H.createElement("div",{className:"sonner-spinner"},f3.map((n,r)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),m3=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),g3=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),v3=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),y3=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),x3=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),w3=()=>{let[t,e]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Rv=1,b3=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Rv++,i=this.toasts.find(l=>l.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...t,id:s,title:n}),{...l,...t,id:s,dismissible:o,title:n}):l):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async c=>{if(i=["resolve",c],H.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(C3(c)&&!c.ok){s=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:n,type:"error",message:u,description:d})}else if(e.success!==void 0){s=!1;let u=typeof e.success=="function"?await e.success(c):e.success,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],e.error!==void 0){s=!1;let u=typeof e.error=="function"?await e.error(c):e.error,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=e.finally)==null||c.call(e)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Rv++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Zt=new b3,_3=(t,e)=>{let n=(e==null?void 0:e.id)||Rv++;return Zt.addToast({title:t,...e,id:n}),n},C3=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",N3=_3,S3=()=>Zt.toasts,E3=()=>Zt.getActiveToasts(),st=Object.assign(N3,{success:Zt.success,info:Zt.info,warning:Zt.warning,error:Zt.error,custom:Zt.custom,message:Zt.message,promise:Zt.promise,dismiss:Zt.dismiss,loading:Zt.loading},{getHistory:S3,getToasts:E3});function k3(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}k3(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function md(t){return t.label!==void 0}var T3=3,j3="32px",R3="16px",Y_=4e3,I3=356,P3=14,A3=20,D3=200;function Wn(...t){return t.filter(Boolean).join(" ")}function M3(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var O3=t=>{var e,n,r,s,i,o,l,c,u,d,h;let{invert:f,toast:m,unstyled:w,interacting:g,setHeights:y,visibleToasts:x,heights:v,index:b,toasts:N,expanded:_,removeToast:C,defaultRichColors:S,closeButton:E,style:k,cancelButtonStyle:T,actionButtonStyle:R,className:I="",descriptionClassName:F="",duration:P,position:$,gap:V,loadingIcon:z,expandByDefault:A,classNames:M,icons:j,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:K}=t,[re,ae]=H.useState(null),[Te,Re]=H.useState(null),[Q,_e]=H.useState(!1),[Ae,be]=H.useState(!1),[G,fe]=H.useState(!1),[Ue,It]=H.useState(!1),[qr,vr]=H.useState(!1),[Sn,Ss]=H.useState(0),[Kr,Uu]=H.useState(0),Di=H.useRef(m.duration||P||Y_),Sl=H.useRef(null),Bn=H.useRef(null),tm=b===0,gb=b+1<=x,hn=m.type,Mi=m.dismissible!==!1,vb=m.className||"",yb=m.descriptionClassName||"",Oo=H.useMemo(()=>v.findIndex(ie=>ie.toastId===m.id)||0,[v,m.id]),Bu=H.useMemo(()=>{var ie;return(ie=m.closeButton)!=null?ie:E},[m.closeButton,E]),Oi=H.useMemo(()=>m.duration||P||Y_,[m.duration,P]),Lo=H.useRef(0),Yr=H.useRef(0),zu=H.useRef(0),Es=H.useRef(null),[Wu,El]=$.split("-"),Hu=H.useMemo(()=>v.reduce((ie,Ee,De)=>De>=Oo?ie:ie+Ee.height,0),[v,Oo]),Gu=w3(),nm=m.invert||f,kl=hn==="loading";Yr.current=H.useMemo(()=>Oo*V+Hu,[Oo,Hu]),H.useEffect(()=>{Di.current=Oi},[Oi]),H.useEffect(()=>{_e(!0)},[]),H.useEffect(()=>{let ie=Bn.current;if(ie){let Ee=ie.getBoundingClientRect().height;return Uu(Ee),y(De=>[{toastId:m.id,height:Ee,position:m.position},...De]),()=>y(De=>De.filter(fn=>fn.toastId!==m.id))}},[y,m.id]),H.useLayoutEffect(()=>{if(!Q)return;let ie=Bn.current,Ee=ie.style.height;ie.style.height="auto";let De=ie.getBoundingClientRect().height;ie.style.height=Ee,Uu(De),y(fn=>fn.find(Jt=>Jt.toastId===m.id)?fn.map(Jt=>Jt.toastId===m.id?{...Jt,height:De}:Jt):[{toastId:m.id,height:De,position:m.position},...fn])},[Q,m.title,m.description,y,m.id]);let yr=H.useCallback(()=>{be(!0),Ss(Yr.current),y(ie=>ie.filter(Ee=>Ee.toastId!==m.id)),setTimeout(()=>{C(m)},D3)},[m,C,y,Yr]);H.useEffect(()=>{if(m.promise&&hn==="loading"||m.duration===1/0||m.type==="loading")return;let ie;return _||g||K&&Gu?(()=>{if(zu.current<Lo.current){let Ee=new Date().getTime()-Lo.current;Di.current=Di.current-Ee}zu.current=new Date().getTime()})():Di.current!==1/0&&(Lo.current=new Date().getTime(),ie=setTimeout(()=>{var Ee;(Ee=m.onAutoClose)==null||Ee.call(m,m),yr()},Di.current)),()=>clearTimeout(ie)},[_,g,m,hn,K,Gu,yr]),H.useEffect(()=>{m.delete&&yr()},[yr,m.delete]);function qu(){var ie,Ee,De;return j!=null&&j.loading?H.createElement("div",{className:Wn(M==null?void 0:M.loader,(ie=m==null?void 0:m.classNames)==null?void 0:ie.loader,"sonner-loader"),"data-visible":hn==="loading"},j.loading):z?H.createElement("div",{className:Wn(M==null?void 0:M.loader,(Ee=m==null?void 0:m.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":hn==="loading"},z):H.createElement(p3,{className:Wn(M==null?void 0:M.loader,(De=m==null?void 0:m.classNames)==null?void 0:De.loader),visible:hn==="loading"})}return H.createElement("li",{tabIndex:0,ref:Bn,className:Wn(I,vb,M==null?void 0:M.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,M==null?void 0:M.default,M==null?void 0:M[hn],(n=m==null?void 0:m.classNames)==null?void 0:n[hn]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:S,"data-styled":!(m.jsx||m.unstyled||w),"data-mounted":Q,"data-promise":!!m.promise,"data-swiped":qr,"data-removed":Ae,"data-visible":gb,"data-y-position":Wu,"data-x-position":El,"data-index":b,"data-front":tm,"data-swiping":G,"data-dismissible":Mi,"data-type":hn,"data-invert":nm,"data-swipe-out":Ue,"data-swipe-direction":Te,"data-expanded":!!(_||A&&Q),style:{"--index":b,"--toasts-before":b,"--z-index":N.length-b,"--offset":`${Ae?Sn:Yr.current}px`,"--initial-height":A?"auto":`${Kr}px`,...k,...m.style},onDragEnd:()=>{fe(!1),ae(null),Es.current=null},onPointerDown:ie=>{kl||!Mi||(Sl.current=new Date,Ss(Yr.current),ie.target.setPointerCapture(ie.pointerId),ie.target.tagName!=="BUTTON"&&(fe(!0),Es.current={x:ie.clientX,y:ie.clientY}))},onPointerUp:()=>{var ie,Ee,De,fn;if(Ue||!Mi)return;Es.current=null;let Jt=Number(((ie=Bn.current)==null?void 0:ie.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),En=Number(((Ee=Bn.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Qr=new Date().getTime()-((De=Sl.current)==null?void 0:De.getTime()),pn=re==="x"?Jt:En,xr=Math.abs(pn)/Qr;if(Math.abs(pn)>=A3||xr>.11){Ss(Yr.current),(fn=m.onDismiss)==null||fn.call(m,m),Re(re==="x"?Jt>0?"right":"left":En>0?"down":"up"),yr(),It(!0),vr(!1);return}fe(!1),ae(null)},onPointerMove:ie=>{var Ee,De,fn,Jt;if(!Es.current||!Mi||((Ee=window.getSelection())==null?void 0:Ee.toString().length)>0)return;let En=ie.clientY-Es.current.y,Qr=ie.clientX-Es.current.x,pn=(De=t.swipeDirections)!=null?De:M3($);!re&&(Math.abs(Qr)>1||Math.abs(En)>1)&&ae(Math.abs(Qr)>Math.abs(En)?"x":"y");let xr={x:0,y:0};re==="y"?(pn.includes("top")||pn.includes("bottom"))&&(pn.includes("top")&&En<0||pn.includes("bottom")&&En>0)&&(xr.y=En):re==="x"&&(pn.includes("left")||pn.includes("right"))&&(pn.includes("left")&&Qr<0||pn.includes("right")&&Qr>0)&&(xr.x=Qr),(Math.abs(xr.x)>0||Math.abs(xr.y)>0)&&vr(!0),(fn=Bn.current)==null||fn.style.setProperty("--swipe-amount-x",`${xr.x}px`),(Jt=Bn.current)==null||Jt.style.setProperty("--swipe-amount-y",`${xr.y}px`)}},Bu&&!m.jsx?H.createElement("button",{"aria-label":W,"data-disabled":kl,"data-close-button":!0,onClick:kl||!Mi?()=>{}:()=>{var ie;yr(),(ie=m.onDismiss)==null||ie.call(m,m)},className:Wn(M==null?void 0:M.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=j==null?void 0:j.close)!=null?i:x3):null,m.jsx||p.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:H.createElement(H.Fragment,null,hn||m.icon||m.promise?H.createElement("div",{"data-icon":"",className:Wn(M==null?void 0:M.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||qu():null,m.type!=="loading"?m.icon||(j==null?void 0:j[hn])||h3(hn):null):null,H.createElement("div",{"data-content":"",className:Wn(M==null?void 0:M.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},H.createElement("div",{"data-title":"",className:Wn(M==null?void 0:M.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?H.createElement("div",{"data-description":"",className:Wn(F,yb,M==null?void 0:M.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),p.isValidElement(m.cancel)?m.cancel:m.cancel&&md(m.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||T,onClick:ie=>{var Ee,De;md(m.cancel)&&Mi&&((De=(Ee=m.cancel).onClick)==null||De.call(Ee,ie),yr())},className:Wn(M==null?void 0:M.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,p.isValidElement(m.action)?m.action:m.action&&md(m.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||R,onClick:ie=>{var Ee,De;md(m.action)&&((De=(Ee=m.action).onClick)==null||De.call(Ee,ie),!ie.defaultPrevented&&yr())},className:Wn(M==null?void 0:M.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function Q_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function L3(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?R3:j3;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var F3=p.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:m,visibleToasts:w=T3,toastOptions:g,dir:y=Q_(),gap:x=P3,loadingIcon:v,icons:b,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:_}=t,[C,S]=H.useState([]),E=H.useMemo(()=>Array.from(new Set([r].concat(C.filter(K=>K.position).map(K=>K.position)))),[C,r]),[k,T]=H.useState([]),[R,I]=H.useState(!1),[F,P]=H.useState(!1),[$,V]=H.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=H.useRef(null),A=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=H.useRef(null),j=H.useRef(!1),W=H.useCallback(K=>{S(re=>{var ae;return(ae=re.find(Te=>Te.id===K.id))!=null&&ae.delete||Zt.dismiss(K.id),re.filter(({id:Te})=>Te!==K.id)})},[]);return H.useEffect(()=>Zt.subscribe(K=>{if(K.dismiss){S(re=>re.map(ae=>ae.id===K.id?{...ae,delete:!0}:ae));return}setTimeout(()=>{Jx.flushSync(()=>{S(re=>{let ae=re.findIndex(Te=>Te.id===K.id);return ae!==-1?[...re.slice(0,ae),{...re[ae],...K},...re.slice(ae+1)]:[K,...re]})})})}),[]),H.useEffect(()=>{if(d!=="system"){V(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?V("dark"):V("light")),typeof window>"u")return;let K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:re})=>{V(re?"dark":"light")})}catch{K.addListener(({matches:ae})=>{try{V(ae?"dark":"light")}catch(Te){console.error(Te)}})}},[d]),H.useEffect(()=>{C.length<=1&&I(!1)},[C]),H.useEffect(()=>{let K=re=>{var ae,Te;s.every(Re=>re[Re]||re.code===Re)&&(I(!0),(ae=z.current)==null||ae.focus()),re.code==="Escape"&&(document.activeElement===z.current||(Te=z.current)!=null&&Te.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[s]),H.useEffect(()=>{if(z.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,j.current=!1)}},[z.current]),H.createElement("section",{ref:e,"aria-label":`${N} ${A}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((K,re)=>{var ae;let[Te,Re]=K.split("-");return C.length?H.createElement("ol",{key:K,dir:y==="auto"?Q_():y,tabIndex:-1,ref:z,className:l,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":Te,"data-lifted":R&&C.length>1&&!i,"data-x-position":Re,style:{"--front-toast-height":`${((ae=k[0])==null?void 0:ae.height)||0}px`,"--width":`${I3}px`,"--gap":`${x}px`,...m,...L3(c,u)},onBlur:Q=>{j.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(j.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||j.current||(j.current=!0,M.current=Q.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{F||I(!1)},onDragEnd:()=>I(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},C.filter(Q=>!Q.position&&re===0||Q.position===K).map((Q,_e)=>{var Ae,be;return H.createElement(O3,{key:Q.id,icons:b,index:_e,toast:Q,defaultRichColors:h,duration:(Ae=g==null?void 0:g.duration)!=null?Ae:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:w,closeButton:(be=g==null?void 0:g.closeButton)!=null?be:o,interacting:F,position:K,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:W,toasts:C.filter(G=>G.position==Q.position),heights:k.filter(G=>G.position==Q.position),setHeights:T,expandByDefault:i,gap:x,loadingIcon:v,expanded:R,pauseWhenPageIsHidden:_,swipeDirections:t.swipeDirections})})):null}))});const V3=({...t})=>{const{theme:e="system"}=d3();return a.jsx(F3,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var $3=ax[" useId ".trim().toString()]||(()=>{}),U3=0;function Pr(t){const[e,n]=p.useState($3());return mt(()=>{t||n(r=>r??String(U3++))},[t]),t||(e?`radix-${e}`:"")}const B3=["top","right","bottom","left"],vi=Math.min,vn=Math.max,Vh=Math.round,gd=Math.floor,Ar=t=>({x:t,y:t}),z3={left:"right",right:"left",bottom:"top",top:"bottom"},W3={start:"end",end:"start"};function Iv(t,e,n){return vn(t,vi(e,n))}function ms(t,e){return typeof t=="function"?t(e):t}function gs(t){return t.split("-")[0]}function cl(t){return t.split("-")[1]}function i0(t){return t==="x"?"y":"x"}function o0(t){return t==="y"?"height":"width"}const H3=new Set(["top","bottom"]);function jr(t){return H3.has(gs(t))?"y":"x"}function a0(t){return i0(jr(t))}function G3(t,e,n){n===void 0&&(n=!1);const r=cl(t),s=a0(t),i=o0(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=$h(o)),[o,$h(o)]}function q3(t){const e=$h(t);return[Pv(t),e,Pv(e)]}function Pv(t){return t.replace(/start|end/g,e=>W3[e])}const X_=["left","right"],J_=["right","left"],K3=["top","bottom"],Y3=["bottom","top"];function Q3(t,e,n){switch(t){case"top":case"bottom":return n?e?J_:X_:e?X_:J_;case"left":case"right":return e?K3:Y3;default:return[]}}function X3(t,e,n,r){const s=cl(t);let i=Q3(gs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Pv)))),i}function $h(t){return t.replace(/left|right|bottom|top/g,e=>z3[e])}function J3(t){return{top:0,right:0,bottom:0,left:0,...t}}function TT(t){return typeof t!="number"?J3(t):{top:t,right:t,bottom:t,left:t}}function Uh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Z_(t,e,n){let{reference:r,floating:s}=t;const i=jr(e),o=a0(e),l=o0(o),c=gs(e),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(cl(e)){case"start":m[o]-=f*(n&&u?-1:1);break;case"end":m[o]+=f*(n&&u?-1:1);break}return m}const Z3=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=Z_(u,r,c),f=r,m={},w=0;for(let g=0;g<l.length;g++){const{name:y,fn:x}=l[g],{x:v,y:b,data:N,reset:_}=await x({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=v??d,h=b??h,m={...m,[y]:{...m[y],...N}},_&&w<=50&&(w++,typeof _=="object"&&(_.placement&&(f=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):_.rects),{x:d,y:h}=Z_(u,f,c)),g=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:m}};async function $c(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=ms(e,t),w=TT(m),y=l[f?h==="floating"?"reference":"floating":h],x=Uh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},_=Uh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(x.top-_.top+w.top)/N.y,bottom:(_.bottom-x.bottom+w.bottom)/N.y,left:(x.left-_.left+w.left)/N.x,right:(_.right-x.right+w.right)/N.x}}const eF=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=ms(t,e)||{};if(u==null)return{};const h=TT(d),f={x:n,y:r},m=a0(s),w=o0(m),g=await o.getDimensions(u),y=m==="y",x=y?"top":"left",v=y?"bottom":"right",b=y?"clientHeight":"clientWidth",N=i.reference[w]+i.reference[m]-f[m]-i.floating[w],_=f[m]-i.reference[m],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=C?C[b]:0;(!S||!await(o.isElement==null?void 0:o.isElement(C)))&&(S=l.floating[b]||i.floating[w]);const E=N/2-_/2,k=S/2-g[w]/2-1,T=vi(h[x],k),R=vi(h[v],k),I=T,F=S-g[w]-R,P=S/2-g[w]/2+E,$=Iv(I,P,F),V=!c.arrow&&cl(s)!=null&&P!==$&&i.reference[w]/2-(P<I?T:R)-g[w]/2<0,z=V?P<I?P-I:P-F:0;return{[m]:f[m]+z,data:{[m]:$,centerOffset:P-$-z,...V&&{alignmentOffset:z}},reset:V}}}),tF=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:g=!0,...y}=ms(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=gs(s),v=jr(l),b=gs(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=f||(b||!g?[$h(l)]:q3(l)),C=w!=="none";!f&&C&&_.push(...X3(l,g,w,N));const S=[l,..._],E=await $c(e,y),k=[];let T=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&k.push(E[x]),h){const P=G3(s,o,N);k.push(E[P[0]],E[P[1]])}if(T=[...T,{placement:s,overflows:k}],!k.every(P=>P<=0)){var R,I;const P=(((R=i.flip)==null?void 0:R.index)||0)+1,$=S[P];if($&&(!(h==="alignment"?v!==jr($):!1)||T.every(A=>A.overflows[0]>0&&jr(A.placement)===v)))return{data:{index:P,overflows:T},reset:{placement:$}};let V=(I=T.filter(z=>z.overflows[0]<=0).sort((z,A)=>z.overflows[1]-A.overflows[1])[0])==null?void 0:I.placement;if(!V)switch(m){case"bestFit":{var F;const z=(F=T.filter(A=>{if(C){const M=jr(A.placement);return M===v||M==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(M=>M>0).reduce((M,j)=>M+j,0)]).sort((A,M)=>A[1]-M[1])[0])==null?void 0:F[0];z&&(V=z);break}case"initialPlacement":V=l;break}if(s!==V)return{reset:{placement:V}}}return{}}}};function e1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function t1(t){return B3.some(e=>t[e]>=0)}const nF=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ms(t,e);switch(r){case"referenceHidden":{const i=await $c(e,{...s,elementContext:"reference"}),o=e1(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:t1(o)}}}case"escaped":{const i=await $c(e,{...s,altBoundary:!0}),o=e1(i,n.floating);return{data:{escapedOffsets:o,escaped:t1(o)}}}default:return{}}}}},jT=new Set(["left","top"]);async function rF(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=gs(n),l=cl(n),c=jr(n)==="y",u=jT.has(o)?-1:1,d=i&&c?-1:1,h=ms(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof w=="number"&&(m=l==="end"?w*-1:w),c?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const sF=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=e,c=await rF(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},iF=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x,y:v}=y;return{x,y:v}}},...c}=ms(t,e),u={x:n,y:r},d=await $c(e,c),h=jr(gs(s)),f=i0(h);let m=u[f],w=u[h];if(i){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",v=m+d[y],b=m-d[x];m=Iv(v,m,b)}if(o){const y=h==="y"?"top":"left",x=h==="y"?"bottom":"right",v=w+d[y],b=w-d[x];w=Iv(v,w,b)}const g=l.fn({...e,[f]:m,[h]:w});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:i,[h]:o}}}}}},oF=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ms(t,e),d={x:n,y:r},h=jr(s),f=i0(h);let m=d[f],w=d[h];const g=ms(l,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=f==="y"?"height":"width",N=i.reference[f]-i.floating[b]+y.mainAxis,_=i.reference[f]+i.reference[b]-y.mainAxis;m<N?m=N:m>_&&(m=_)}if(u){var x,v;const b=f==="y"?"width":"height",N=jT.has(gs(s)),_=i.reference[h]-i.floating[b]+(N&&((x=o.offset)==null?void 0:x[h])||0)+(N?0:y.crossAxis),C=i.reference[h]+i.reference[b]+(N?0:((v=o.offset)==null?void 0:v[h])||0)-(N?y.crossAxis:0);w<_?w=_:w>C&&(w=C)}return{[f]:m,[h]:w}}}},aF=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...u}=ms(t,e),d=await $c(e,u),h=gs(s),f=cl(s),m=jr(s)==="y",{width:w,height:g}=i.floating;let y,x;h==="top"||h==="bottom"?(y=h,x=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=h,y=f==="end"?"top":"bottom");const v=g-d.top-d.bottom,b=w-d.left-d.right,N=vi(g-d[y],v),_=vi(w-d[x],b),C=!e.middlewareData.shift;let S=N,E=_;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=v),C&&!f){const T=vn(d.left,0),R=vn(d.right,0),I=vn(d.top,0),F=vn(d.bottom,0);m?E=w-2*(T!==0||R!==0?T+R:vn(d.left,d.right)):S=g-2*(I!==0||F!==0?I+F:vn(d.top,d.bottom))}await c({...e,availableWidth:E,availableHeight:S});const k=await o.getDimensions(l.floating);return w!==k.width||g!==k.height?{reset:{rects:!0}}:{}}}};function rp(){return typeof window<"u"}function ul(t){return RT(t)?(t.nodeName||"").toLowerCase():"#document"}function wn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ur(t){var e;return(e=(RT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function RT(t){return rp()?t instanceof Node||t instanceof wn(t).Node:!1}function ur(t){return rp()?t instanceof Element||t instanceof wn(t).Element:!1}function Vr(t){return rp()?t instanceof HTMLElement||t instanceof wn(t).HTMLElement:!1}function n1(t){return!rp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof wn(t).ShadowRoot}const lF=new Set(["inline","contents"]);function bu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=dr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!lF.has(s)}const cF=new Set(["table","td","th"]);function uF(t){return cF.has(ul(t))}const dF=[":popover-open",":modal"];function sp(t){return dF.some(e=>{try{return t.matches(e)}catch{return!1}})}const hF=["transform","translate","scale","rotate","perspective"],fF=["transform","translate","scale","rotate","perspective","filter"],pF=["paint","layout","strict","content"];function l0(t){const e=c0(),n=ur(t)?dr(t):t;return hF.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||fF.some(r=>(n.willChange||"").includes(r))||pF.some(r=>(n.contain||"").includes(r))}function mF(t){let e=yi(t);for(;Vr(e)&&!Wa(e);){if(l0(e))return e;if(sp(e))return null;e=yi(e)}return null}function c0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const gF=new Set(["html","body","#document"]);function Wa(t){return gF.has(ul(t))}function dr(t){return wn(t).getComputedStyle(t)}function ip(t){return ur(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function yi(t){if(ul(t)==="html")return t;const e=t.assignedSlot||t.parentNode||n1(t)&&t.host||Ur(t);return n1(e)?e.host:e}function IT(t){const e=yi(t);return Wa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Vr(e)&&bu(e)?e:IT(e)}function Uc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=IT(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=wn(s);if(i){const l=Av(o);return e.concat(o,o.visualViewport||[],bu(s)?s:[],l&&n?Uc(l):[])}return e.concat(s,Uc(s,[],n))}function Av(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function PT(t){const e=dr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Vr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,l=Vh(n)!==i||Vh(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function u0(t){return ur(t)?t:t.contextElement}function ya(t){const e=u0(t);if(!Vr(e))return Ar(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=PT(e);let o=(i?Vh(n.width):n.width)/r,l=(i?Vh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const vF=Ar(0);function AT(t){const e=wn(t);return!c0()||!e.visualViewport?vF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function yF(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==wn(t)?!1:e}function wo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=u0(t);let o=Ar(1);e&&(r?ur(r)&&(o=ya(r)):o=ya(t));const l=yF(i,n,r)?AT(i):Ar(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const f=wn(i),m=r&&ur(r)?wn(r):r;let w=f,g=Av(w);for(;g&&r&&m!==w;){const y=ya(g),x=g.getBoundingClientRect(),v=dr(g),b=x.left+(g.clientLeft+parseFloat(v.paddingLeft))*y.x,N=x.top+(g.clientTop+parseFloat(v.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,h*=y.y,c+=b,u+=N,w=wn(g),g=Av(w)}}return Uh({width:d,height:h,x:c,y:u})}function d0(t,e){const n=ip(t).scrollLeft;return e?e.left+n:wo(Ur(t)).left+n}function DT(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:d0(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function xF(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Ur(r),l=e?sp(e.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Ar(1);const d=Ar(0),h=Vr(r);if((h||!h&&!i)&&((ul(r)!=="body"||bu(o))&&(c=ip(r)),Vr(r))){const m=wo(r);u=ya(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=o&&!h&&!i?DT(o,c,!0):Ar(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-c.scrollTop*u.y+d.y+f.y}}function wF(t){return Array.from(t.getClientRects())}function bF(t){const e=Ur(t),n=ip(t),r=t.ownerDocument.body,s=vn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=vn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+d0(t);const l=-n.scrollTop;return dr(r).direction==="rtl"&&(o+=vn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}function _F(t,e){const n=wn(t),r=Ur(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const u=c0();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}const CF=new Set(["absolute","fixed"]);function NF(t,e){const n=wo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Vr(t)?ya(t):Ar(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function r1(t,e,n){let r;if(e==="viewport")r=_F(t,n);else if(e==="document")r=bF(Ur(t));else if(ur(e))r=NF(e,n);else{const s=AT(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Uh(r)}function MT(t,e){const n=yi(t);return n===e||!ur(n)||Wa(n)?!1:dr(n).position==="fixed"||MT(n,e)}function SF(t,e){const n=e.get(t);if(n)return n;let r=Uc(t,[],!1).filter(l=>ur(l)&&ul(l)!=="body"),s=null;const i=dr(t).position==="fixed";let o=i?yi(t):t;for(;ur(o)&&!Wa(o);){const l=dr(o),c=l0(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&CF.has(s.position)||bu(o)&&!c&&MT(t,o))?r=r.filter(d=>d!==o):s=l,o=yi(o)}return e.set(t,r),r}function EF(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?sp(e)?[]:SF(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const h=r1(e,d,s);return u.top=vn(h.top,u.top),u.right=vi(h.right,u.right),u.bottom=vi(h.bottom,u.bottom),u.left=vn(h.left,u.left),u},r1(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function kF(t){const{width:e,height:n}=PT(t);return{width:e,height:n}}function TF(t,e,n){const r=Vr(e),s=Ur(e),i=n==="fixed",o=wo(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=Ar(0);function u(){c.x=d0(s)}if(r||!r&&!i)if((ul(e)!=="body"||bu(s))&&(l=ip(e)),r){const m=wo(e,!0,i,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?DT(s,l):Ar(0),h=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function Fm(t){return dr(t).position==="static"}function s1(t,e){if(!Vr(t)||dr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ur(t)===n&&(n=n.ownerDocument.body),n}function OT(t,e){const n=wn(t);if(sp(t))return n;if(!Vr(t)){let s=yi(t);for(;s&&!Wa(s);){if(ur(s)&&!Fm(s))return s;s=yi(s)}return n}let r=s1(t,e);for(;r&&uF(r)&&Fm(r);)r=s1(r,e);return r&&Wa(r)&&Fm(r)&&!l0(r)?n:r||mF(t)||n}const jF=async function(t){const e=this.getOffsetParent||OT,n=this.getDimensions,r=await n(t.floating);return{reference:TF(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function RF(t){return dr(t).direction==="rtl"}const IF={convertOffsetParentRelativeRectToViewportRelativeRect:xF,getDocumentElement:Ur,getClippingRect:EF,getOffsetParent:OT,getElementRects:jF,getClientRects:wF,getDimensions:kF,getScale:ya,isElement:ur,isRTL:RF};function LT(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function PF(t,e){let n=null,r;const s=Ur(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=u;if(l||e(),!f||!m)return;const w=gd(h),g=gd(s.clientWidth-(d+f)),y=gd(s.clientHeight-(h+m)),x=gd(d),b={rootMargin:-w+"px "+-g+"px "+-y+"px "+-x+"px",threshold:vn(0,vi(1,c))||1};let N=!0;function _(C){const S=C[0].intersectionRatio;if(S!==c){if(!N)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!LT(u,t.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(_,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(_,b)}n.observe(t)}return o(!0),i}function AF(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=u0(t),d=s||i?[...u?Uc(u):[],...Uc(e)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const h=u&&l?PF(u,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(x=>{let[v]=x;v&&v.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),n()}),u&&!c&&m.observe(u),m.observe(e));let w,g=c?wo(t):null;c&&y();function y(){const x=wo(t);g&&!LT(g,x)&&n(),g=x,w=requestAnimationFrame(y)}return n(),()=>{var x;d.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),h==null||h(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(w)}}const DF=sF,MF=iF,OF=tF,LF=aF,FF=nF,i1=eF,VF=oF,$F=(t,e,n)=>{const r=new Map,s={platform:IF,...n},i={...s.platform,_c:r};return Z3(t,e,{...s,platform:i})};var UF=typeof document<"u",BF=function(){},Yd=UF?p.useLayoutEffect:BF;function Bh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Bh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Bh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function FT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function o1(t,e){const n=FT(t);return Math.round(e*n)/n}function Vm(t){const e=p.useRef(t);return Yd(()=>{e.current=t}),e}function zF(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,h]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=p.useState(r);Bh(f,r)||m(r);const[w,g]=p.useState(null),[y,x]=p.useState(null),v=p.useCallback(A=>{A!==C.current&&(C.current=A,g(A))},[]),b=p.useCallback(A=>{A!==S.current&&(S.current=A,x(A))},[]),N=i||w,_=o||y,C=p.useRef(null),S=p.useRef(null),E=p.useRef(d),k=c!=null,T=Vm(c),R=Vm(s),I=Vm(u),F=p.useCallback(()=>{if(!C.current||!S.current)return;const A={placement:e,strategy:n,middleware:f};R.current&&(A.platform=R.current),$F(C.current,S.current,A).then(M=>{const j={...M,isPositioned:I.current!==!1};P.current&&!Bh(E.current,j)&&(E.current=j,Po.flushSync(()=>{h(j)}))})},[f,e,n,R,I]);Yd(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(A=>({...A,isPositioned:!1})))},[u]);const P=p.useRef(!1);Yd(()=>(P.current=!0,()=>{P.current=!1}),[]),Yd(()=>{if(N&&(C.current=N),_&&(S.current=_),N&&_){if(T.current)return T.current(N,_,F);F()}},[N,_,F,T,k]);const $=p.useMemo(()=>({reference:C,floating:S,setReference:v,setFloating:b}),[v,b]),V=p.useMemo(()=>({reference:N,floating:_}),[N,_]),z=p.useMemo(()=>{const A={position:n,left:0,top:0};if(!V.floating)return A;const M=o1(V.floating,d.x),j=o1(V.floating,d.y);return l?{...A,transform:"translate("+M+"px, "+j+"px)",...FT(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:M,top:j}},[n,l,V.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:F,refs:$,elements:V,floatingStyles:z}),[d,F,$,V,z])}const WF=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?i1({element:r.current,padding:s}).fn(n):{}:r?i1({element:r,padding:s}).fn(n):{}}}},HF=(t,e)=>({...DF(t),options:[t,e]}),GF=(t,e)=>({...MF(t),options:[t,e]}),qF=(t,e)=>({...VF(t),options:[t,e]}),KF=(t,e)=>({...OF(t),options:[t,e]}),YF=(t,e)=>({...LF(t),options:[t,e]}),QF=(t,e)=>({...FF(t),options:[t,e]}),XF=(t,e)=>({...WF(t),options:[t,e]});var JF="Arrow",VT=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return a.jsx(ne.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});VT.displayName=JF;var ZF=VT;function h0(t){const[e,n]=p.useState(void 0);return mt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var f0="Popper",[$T,op]=cn(f0),[e6,UT]=$T(f0),BT=t=>{const{__scopePopper:e,children:n}=t,[r,s]=p.useState(null);return a.jsx(e6,{scope:e,anchor:r,onAnchorChange:s,children:n})};BT.displayName=f0;var zT="PopperAnchor",WT=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=UT(zT,n),o=p.useRef(null),l=ge(e,o);return p.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:a.jsx(ne.div,{...s,ref:l})});WT.displayName=zT;var p0="PopperContent",[t6,n6]=$T(p0),HT=p.forwardRef((t,e)=>{var Q,_e,Ae,be,G,fe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:w,...g}=t,y=UT(p0,n),[x,v]=p.useState(null),b=ge(e,Ue=>v(Ue)),[N,_]=p.useState(null),C=h0(N),S=(C==null?void 0:C.width)??0,E=(C==null?void 0:C.height)??0,k=r+(i!=="center"?"-"+i:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(u)?u:[u],I=R.length>0,F={padding:T,boundary:R.filter(s6),altBoundary:I},{refs:P,floatingStyles:$,placement:V,isPositioned:z,middlewareData:A}=zF({strategy:"fixed",placement:k,whileElementsMounted:(...Ue)=>AF(...Ue,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[HF({mainAxis:s+E,alignmentAxis:o}),c&&GF({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?qF():void 0,...F}),c&&KF({...F}),YF({...F,apply:({elements:Ue,rects:It,availableWidth:qr,availableHeight:vr})=>{const{width:Sn,height:Ss}=It.reference,Kr=Ue.floating.style;Kr.setProperty("--radix-popper-available-width",`${qr}px`),Kr.setProperty("--radix-popper-available-height",`${vr}px`),Kr.setProperty("--radix-popper-anchor-width",`${Sn}px`),Kr.setProperty("--radix-popper-anchor-height",`${Ss}px`)}}),N&&XF({element:N,padding:l}),i6({arrowWidth:S,arrowHeight:E}),f&&QF({strategy:"referenceHidden",...F})]}),[M,j]=KT(V),W=dt(w);mt(()=>{z&&(W==null||W())},[z,W]);const K=(Q=A.arrow)==null?void 0:Q.x,re=(_e=A.arrow)==null?void 0:_e.y,ae=((Ae=A.arrow)==null?void 0:Ae.centerOffset)!==0,[Te,Re]=p.useState();return mt(()=>{x&&Re(window.getComputedStyle(x).zIndex)},[x]),a.jsx("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:z?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Te,"--radix-popper-transform-origin":[(be=A.transformOrigin)==null?void 0:be.x,(G=A.transformOrigin)==null?void 0:G.y].join(" "),...((fe=A.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(t6,{scope:n,placedSide:M,onArrowChange:_,arrowX:K,arrowY:re,shouldHideArrow:ae,children:a.jsx(ne.div,{"data-side":M,"data-align":j,...g,ref:b,style:{...g.style,animation:z?void 0:"none"}})})})});HT.displayName=p0;var GT="PopperArrow",r6={top:"bottom",right:"left",bottom:"top",left:"right"},qT=p.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=n6(GT,r),o=r6[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(ZF,{...s,ref:n,style:{...s.style,display:"block"}})})});qT.displayName=GT;function s6(t){return t!==null}var i6=t=>({name:"transformOrigin",options:t,fn(e){var y,x,v;const{placement:n,rects:r,middlewareData:s}=e,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=KT(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let w="",g="";return u==="bottom"?(w=o?h:`${f}px`,g=`${-c}px`):u==="top"?(w=o?h:`${f}px`,g=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,g=o?h:`${m}px`):u==="left"&&(w=`${r.floating.width+c}px`,g=o?h:`${m}px`),{data:{x:w,y:g}}}});function KT(t){const[e,n="center"]=t.split("-");return[e,n]}var o6=BT,YT=WT,QT=HT,XT=qT,[ap,$Z]=cn("Tooltip",[op]),m0=op(),JT="TooltipProvider",a6=700,a1="tooltip.open",[l6,ZT]=ap(JT),ej=t=>{const{__scopeTooltip:e,delayDuration:n=a6,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(l6,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};ej.displayName=JT;var tj="Tooltip",[UZ,lp]=ap(tj),Dv="TooltipTrigger",c6=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=lp(Dv,n),i=ZT(Dv,n),o=m0(n),l=p.useRef(null),c=ge(e,l,s.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),h=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),a.jsx(YT,{asChild:!0,...o,children:a.jsx(ne.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:ee(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ee(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ee(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ee(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:ee(t.onBlur,s.onClose),onClick:ee(t.onClick,s.onClose)})})});c6.displayName=Dv;var u6="TooltipPortal",[BZ,d6]=ap(u6,{forceMount:void 0}),Ha="TooltipContent",nj=p.forwardRef((t,e)=>{const n=d6(Ha,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=lp(Ha,t.__scopeTooltip);return a.jsx(Nn,{present:r||o.open,children:o.disableHoverableContent?a.jsx(rj,{side:s,...i,ref:e}):a.jsx(h6,{side:s,...i,ref:e})})}),h6=p.forwardRef((t,e)=>{const n=lp(Ha,t.__scopeTooltip),r=ZT(Ha,t.__scopeTooltip),s=p.useRef(null),i=ge(e,s),[o,l]=p.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,f=p.useCallback(()=>{l(null),h(!1)},[h]),m=p.useCallback((w,g)=>{const y=w.currentTarget,x={x:w.clientX,y:w.clientY},v=v6(x,y.getBoundingClientRect()),b=y6(x,v),N=x6(g.getBoundingClientRect()),_=b6([...b,...N]);l(_),h(!0)},[h]);return p.useEffect(()=>()=>f(),[f]),p.useEffect(()=>{if(c&&d){const w=y=>m(y,d),g=y=>m(y,c);return c.addEventListener("pointerleave",w),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",g)}}},[c,d,m,f]),p.useEffect(()=>{if(o){const w=g=>{const y=g.target,x={x:g.clientX,y:g.clientY},v=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),b=!w6(x,o);v?f():b&&(f(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,d,o,u,f]),a.jsx(rj,{...t,ref:i})}),[f6,p6]=ap(tj,{isInside:!1}),m6=SL("TooltipContent"),rj=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,c=lp(Ha,n),u=m0(n),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(a1,d),()=>document.removeEventListener(a1,d)),[d]),p.useEffect(()=>{if(c.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),a.jsx(mu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:a.jsxs(QT,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(m6,{children:r}),a.jsx(f6,{scope:n,isInside:!0,children:a.jsx(qL,{id:c.contentId,role:"tooltip",children:s||r})})]})})});nj.displayName=Ha;var sj="TooltipArrow",g6=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=m0(n);return p6(sj,n).isInside?null:a.jsx(XT,{...s,...r,ref:e})});g6.displayName=sj;function v6(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function y6(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function x6(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function w6(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],c=e[o],u=l.x,d=l.y,h=c.x,f=c.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(s=!s)}return s}function b6(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),_6(e)}function _6(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var C6=ej,ij=nj;const N6=C6,S6=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(ij,{ref:r,sideOffset:e,className:L("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));S6.displayName=ij.displayName;var cp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},up=typeof window>"u"||"Deno"in globalThis;function Yn(){}function E6(t,e){return typeof t=="function"?t(e):t}function k6(t){return typeof t=="number"&&t>=0&&t!==1/0}function T6(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Mv(t,e){return typeof t=="function"?t(e):t}function j6(t,e){return typeof t=="function"?t(e):t}function l1(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==g0(o,e.options))return!1}else if(!zc(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function c1(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Bc(e.options.mutationKey)!==Bc(i))return!1}else if(!zc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function g0(t,e){return((e==null?void 0:e.queryKeyHashFn)||Bc)(t)}function Bc(t){return JSON.stringify(t,(e,n)=>Ov(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function zc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>zc(t[n],e[n])):!1}function oj(t,e){if(t===e)return t;const n=u1(t)&&u1(e);if(n||Ov(t)&&Ov(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,l=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&c.has(h)||n)&&t[h]===void 0&&e[h]===void 0?(l[h]=void 0,u++):(l[h]=oj(t[h],e[h]),l[h]===t[h]&&t[h]!==void 0&&u++)}return s===o&&u===s?t:l}return e}function u1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ov(t){if(!d1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!d1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function d1(t){return Object.prototype.toString.call(t)==="[object Object]"}function R6(t){return new Promise(e=>{setTimeout(e,t)})}function I6(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?oj(t,e):e}function P6(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function A6(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var v0=Symbol();function aj(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===v0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Xi,Hs,ka,yS,D6=(yS=class extends cp{constructor(){super();Ne(this,Xi);Ne(this,Hs);Ne(this,ka);ue(this,ka,e=>{if(!up&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){O(this,Hs)||this.setEventListener(O(this,ka))}onUnsubscribe(){var e;this.hasListeners()||((e=O(this,Hs))==null||e.call(this),ue(this,Hs,void 0))}setEventListener(e){var n;ue(this,ka,e),(n=O(this,Hs))==null||n.call(this),ue(this,Hs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){O(this,Xi)!==e&&(ue(this,Xi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof O(this,Xi)=="boolean"?O(this,Xi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Xi=new WeakMap,Hs=new WeakMap,ka=new WeakMap,yS),lj=new D6,Ta,Gs,ja,xS,M6=(xS=class extends cp{constructor(){super();Ne(this,Ta,!0);Ne(this,Gs);Ne(this,ja);ue(this,ja,e=>{if(!up&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){O(this,Gs)||this.setEventListener(O(this,ja))}onUnsubscribe(){var e;this.hasListeners()||((e=O(this,Gs))==null||e.call(this),ue(this,Gs,void 0))}setEventListener(e){var n;ue(this,ja,e),(n=O(this,Gs))==null||n.call(this),ue(this,Gs,e(this.setOnline.bind(this)))}setOnline(e){O(this,Ta)!==e&&(ue(this,Ta,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return O(this,Ta)}},Ta=new WeakMap,Gs=new WeakMap,ja=new WeakMap,xS),zh=new M6;function O6(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function L6(t){return Math.min(1e3*2**t,3e4)}function cj(t){return(t??"online")==="online"?zh.isOnline():!0}var uj=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function $m(t){return t instanceof uj}function dj(t){let e=!1,n=0,r=!1,s;const i=O6(),o=g=>{var y;r||(f(new uj(g)),(y=t.abort)==null||y.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>lj.isFocused()&&(t.networkMode==="always"||zh.isOnline())&&t.canRun(),d=()=>cj(t.networkMode)&&t.canRun(),h=g=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,g),s==null||s(),i.resolve(g))},f=g=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,g),s==null||s(),i.reject(g))},m=()=>new Promise(g=>{var y;s=x=>{(r||u())&&g(x)},(y=t.onPause)==null||y.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),w=()=>{if(r)return;let g;const y=n===0?t.initialPromise:void 0;try{g=y??t.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(h).catch(x=>{var C;if(r)return;const v=t.retry??(up?0:3),b=t.retryDelay??L6,N=typeof b=="function"?b(n,x):b,_=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,x);if(e||!_){f(x);return}n++,(C=t.onFail)==null||C.call(t,n,x),R6(N).then(()=>u()?void 0:m()).then(()=>{e?f(x):w()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?w():m().then(w),i)}}var F6=t=>setTimeout(t,0);function V6(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=F6;const i=l=>{e?t.push(l):s(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Wt=V6(),Ji,wS,hj=(wS=class{constructor(){Ne(this,Ji)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),k6(this.gcTime)&&ue(this,Ji,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(up?1/0:5*60*1e3))}clearGcTimeout(){O(this,Ji)&&(clearTimeout(O(this,Ji)),ue(this,Ji,void 0))}},Ji=new WeakMap,wS),Ra,Zi,Tn,eo,Ot,lu,to,Qn,es,bS,$6=(bS=class extends hj{constructor(e){super();Ne(this,Qn);Ne(this,Ra);Ne(this,Zi);Ne(this,Tn);Ne(this,eo);Ne(this,Ot);Ne(this,lu);Ne(this,to);ue(this,to,!1),ue(this,lu,e.defaultOptions),this.setOptions(e.options),this.observers=[],ue(this,eo,e.client),ue(this,Tn,O(this,eo).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ue(this,Ra,B6(this.options)),this.state=e.state??O(this,Ra),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=O(this,Ot))==null?void 0:e.promise}setOptions(e){this.options={...O(this,lu),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&O(this,Tn).remove(this)}setData(e,n){const r=I6(this.state.data,e,this.options);return Pt(this,Qn,es).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Pt(this,Qn,es).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=O(this,Ot))==null?void 0:r.promise;return(s=O(this,Ot))==null||s.cancel(e),n?n.then(Yn).catch(Yn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(O(this,Ra))}isActive(){return this.observers.some(e=>j6(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===v0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Mv(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!T6(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=O(this,Ot))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=O(this,Ot))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),O(this,Tn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(O(this,Ot)&&(O(this,to)?O(this,Ot).cancel({revert:!0}):O(this,Ot).cancelRetry()),this.scheduleGc()),O(this,Tn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Pt(this,Qn,es).call(this,{type:"invalidate"})}fetch(e,n){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(O(this,Ot))return O(this,Ot).continueRetry(),O(this,Ot).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ue(this,to,!0),r.signal)})},i=()=>{const f=aj(this.options,n),w=(()=>{const g={client:O(this,eo),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return ue(this,to,!1),this.options.persister?this.options.persister(f,w,this):f(w)},l=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:O(this,eo),state:this.state,fetchFn:i};return s(f),f})();(u=this.options.behavior)==null||u.onFetch(l,this),ue(this,Zi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Pt(this,Qn,es).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=f=>{var m,w,g,y;$m(f)&&f.silent||Pt(this,Qn,es).call(this,{type:"error",error:f}),$m(f)||((w=(m=O(this,Tn).config).onError)==null||w.call(m,f,this),(y=(g=O(this,Tn).config).onSettled)==null||y.call(g,this.state.data,f,this)),this.scheduleGc()};return ue(this,Ot,dj({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var m,w,g,y;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){c(x);return}(w=(m=O(this,Tn).config).onSuccess)==null||w.call(m,f,this),(y=(g=O(this,Tn).config).onSettled)==null||y.call(g,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,m)=>{Pt(this,Qn,es).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{Pt(this,Qn,es).call(this,{type:"pause"})},onContinue:()=>{Pt(this,Qn,es).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),O(this,Ot).start()}},Ra=new WeakMap,Zi=new WeakMap,Tn=new WeakMap,eo=new WeakMap,Ot=new WeakMap,lu=new WeakMap,to=new WeakMap,Qn=new WeakSet,es=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...U6(r.data,this.options),fetchMeta:e.meta??null};case"success":return ue(this,Zi,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return $m(s)&&s.revert&&O(this,Zi)?{...O(this,Zi),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Wt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),O(this,Tn).notify({query:this,type:"updated",action:e})})},bS);function U6(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:cj(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function B6(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var _r,_S,z6=(_S=class extends cp{constructor(e={}){super();Ne(this,_r);this.config=e,ue(this,_r,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??g0(s,n);let o=this.get(i);return o||(o=new $6({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){O(this,_r).has(e.queryHash)||(O(this,_r).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=O(this,_r).get(e.queryHash);n&&(e.destroy(),n===e&&O(this,_r).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Wt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return O(this,_r).get(e)}getAll(){return[...O(this,_r).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>l1(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>l1(e,r)):n}notify(e){Wt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Wt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Wt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},_r=new WeakMap,_S),Cr,Bt,no,Nr,Is,CS,W6=(CS=class extends hj{constructor(e){super();Ne(this,Nr);Ne(this,Cr);Ne(this,Bt);Ne(this,no);this.mutationId=e.mutationId,ue(this,Bt,e.mutationCache),ue(this,Cr,[]),this.state=e.state||H6(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){O(this,Cr).includes(e)||(O(this,Cr).push(e),this.clearGcTimeout(),O(this,Bt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ue(this,Cr,O(this,Cr).filter(n=>n!==e)),this.scheduleGc(),O(this,Bt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){O(this,Cr).length||(this.state.status==="pending"?this.scheduleGc():O(this,Bt).remove(this))}continue(){var e;return((e=O(this,no))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,l,c,u,d,h,f,m,w,g,y,x,v,b,N,_,C,S,E;const n=()=>{Pt(this,Nr,Is).call(this,{type:"continue"})};ue(this,no,dj({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(k,T)=>{Pt(this,Nr,Is).call(this,{type:"failed",failureCount:k,error:T})},onPause:()=>{Pt(this,Nr,Is).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>O(this,Bt).canRun(this)}));const r=this.state.status==="pending",s=!O(this,no).canStart();try{if(r)n();else{Pt(this,Nr,Is).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=O(this,Bt).config).onMutate)==null?void 0:o.call(i,e,this));const T=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e));T!==this.state.context&&Pt(this,Nr,Is).call(this,{type:"pending",context:T,variables:e,isPaused:s})}const k=await O(this,no).start();return await((d=(u=O(this,Bt).config).onSuccess)==null?void 0:d.call(u,k,e,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,k,e,this.state.context)),await((w=(m=O(this,Bt).config).onSettled)==null?void 0:w.call(m,k,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,k,null,e,this.state.context)),Pt(this,Nr,Is).call(this,{type:"success",data:k}),k}catch(k){try{throw await((v=(x=O(this,Bt).config).onError)==null?void 0:v.call(x,k,e,this.state.context,this)),await((N=(b=this.options).onError)==null?void 0:N.call(b,k,e,this.state.context)),await((C=(_=O(this,Bt).config).onSettled)==null?void 0:C.call(_,void 0,k,this.state.variables,this.state.context,this)),await((E=(S=this.options).onSettled)==null?void 0:E.call(S,void 0,k,e,this.state.context)),k}finally{Pt(this,Nr,Is).call(this,{type:"error",error:k})}}finally{O(this,Bt).runNext(this)}}},Cr=new WeakMap,Bt=new WeakMap,no=new WeakMap,Nr=new WeakSet,Is=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Wt.batch(()=>{O(this,Cr).forEach(r=>{r.onMutationUpdate(e)}),O(this,Bt).notify({mutation:this,type:"updated",action:e})})},CS);function H6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rs,Xn,cu,NS,G6=(NS=class extends cp{constructor(e={}){super();Ne(this,rs);Ne(this,Xn);Ne(this,cu);this.config=e,ue(this,rs,new Set),ue(this,Xn,new Map),ue(this,cu,0)}build(e,n,r){const s=new W6({mutationCache:this,mutationId:++Yu(this,cu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){O(this,rs).add(e);const n=vd(e);if(typeof n=="string"){const r=O(this,Xn).get(n);r?r.push(e):O(this,Xn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(O(this,rs).delete(e)){const n=vd(e);if(typeof n=="string"){const r=O(this,Xn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&O(this,Xn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=vd(e);if(typeof n=="string"){const r=O(this,Xn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=vd(e);if(typeof n=="string"){const s=(r=O(this,Xn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Wt.batch(()=>{O(this,rs).forEach(e=>{this.notify({type:"removed",mutation:e})}),O(this,rs).clear(),O(this,Xn).clear()})}getAll(){return Array.from(O(this,rs))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>c1(n,r))}findAll(e={}){return this.getAll().filter(n=>c1(e,n))}notify(e){Wt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Wt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Yn))))}},rs=new WeakMap,Xn=new WeakMap,cu=new WeakMap,NS);function vd(t){var e;return(e=t.options.scope)==null?void 0:e.id}function h1(t){return{onFetch:(e,n)=>{var d,h,f,m,w;const r=e.options,s=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},x=aj(e.options,e.fetchOptions),v=async(b,N,_)=>{if(g)return Promise.reject();if(N==null&&b.pages.length)return Promise.resolve(b);const S=(()=>{const R={client:e.client,queryKey:e.queryKey,pageParam:N,direction:_?"backward":"forward",meta:e.options.meta};return y(R),R})(),E=await x(S),{maxPages:k}=e.options,T=_?A6:P6;return{pages:T(b.pages,E,k),pageParams:T(b.pageParams,N,k)}};if(s&&i.length){const b=s==="backward",N=b?q6:f1,_={pages:i,pageParams:o},C=N(r,_);l=await v(_,C,b)}else{const b=t??i.length;do{const N=c===0?o[0]??r.initialPageParam:f1(r,l);if(c>0&&N==null)break;l=await v(l,N),c++}while(c<b)}return l};e.options.persister?e.fetchFn=()=>{var g,y;return(y=(g=e.options).persister)==null?void 0:y.call(g,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function f1(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function q6(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Xe,qs,Ks,Ia,Pa,Ys,Aa,Da,SS,K6=(SS=class{constructor(t={}){Ne(this,Xe);Ne(this,qs);Ne(this,Ks);Ne(this,Ia);Ne(this,Pa);Ne(this,Ys);Ne(this,Aa);Ne(this,Da);ue(this,Xe,t.queryCache||new z6),ue(this,qs,t.mutationCache||new G6),ue(this,Ks,t.defaultOptions||{}),ue(this,Ia,new Map),ue(this,Pa,new Map),ue(this,Ys,0)}mount(){Yu(this,Ys)._++,O(this,Ys)===1&&(ue(this,Aa,lj.subscribe(async t=>{t&&(await this.resumePausedMutations(),O(this,Xe).onFocus())})),ue(this,Da,zh.subscribe(async t=>{t&&(await this.resumePausedMutations(),O(this,Xe).onOnline())})))}unmount(){var t,e;Yu(this,Ys)._--,O(this,Ys)===0&&((t=O(this,Aa))==null||t.call(this),ue(this,Aa,void 0),(e=O(this,Da))==null||e.call(this),ue(this,Da,void 0))}isFetching(t){return O(this,Xe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return O(this,qs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=O(this,Xe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=O(this,Xe).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Mv(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return O(this,Xe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=O(this,Xe).get(r.queryHash),i=s==null?void 0:s.state.data,o=E6(e,i);if(o!==void 0)return O(this,Xe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Wt.batch(()=>O(this,Xe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=O(this,Xe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=O(this,Xe);Wt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=O(this,Xe);return Wt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Wt.batch(()=>O(this,Xe).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Yn).catch(Yn)}invalidateQueries(t,e={}){return Wt.batch(()=>(O(this,Xe).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Wt.batch(()=>O(this,Xe).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Yn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Yn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=O(this,Xe).build(this,e);return n.isStaleByTime(Mv(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Yn).catch(Yn)}fetchInfiniteQuery(t){return t.behavior=h1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Yn).catch(Yn)}ensureInfiniteQueryData(t){return t.behavior=h1(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return zh.isOnline()?O(this,qs).resumePausedMutations():Promise.resolve()}getQueryCache(){return O(this,Xe)}getMutationCache(){return O(this,qs)}getDefaultOptions(){return O(this,Ks)}setDefaultOptions(t){ue(this,Ks,t)}setQueryDefaults(t,e){O(this,Ia).set(Bc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...O(this,Ia).values()],n={};return e.forEach(r=>{zc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){O(this,Pa).set(Bc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...O(this,Pa).values()],n={};return e.forEach(r=>{zc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...O(this,Ks).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=g0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===v0&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...O(this,Ks).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){O(this,Xe).clear(),O(this,qs).clear()}},Xe=new WeakMap,qs=new WeakMap,Ks=new WeakMap,Ia=new WeakMap,Pa=new WeakMap,Ys=new WeakMap,Aa=new WeakMap,Da=new WeakMap,SS),Y6=p.createContext(void 0),Q6=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(Y6.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wh(){return Wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wh.apply(this,arguments)}var Js;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Js||(Js={}));const p1="popstate";function X6(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:l="",hash:c=""}=_u(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Lv("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:fj(i))}function r(s,i){y0(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Z6(e,n,r,t)}function ln(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function y0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function J6(){return Math.random().toString(36).substr(2,8)}function m1(t,e){return{usr:t.state,key:t.key,idx:e}}function Lv(t,e,n,r){return n===void 0&&(n=null),Wh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_u(e):e,{state:n,key:e&&e.key||r||J6()})}function fj(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _u(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Z6(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=Js.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Wh({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Js.Pop;let y=d(),x=y==null?null:y-u;u=y,c&&c({action:l,location:g.location,delta:x})}function f(y,x){l=Js.Push;let v=Lv(g.location,y,x);n&&n(v,y),u=d()+1;let b=m1(v,u),N=g.createHref(v);try{o.pushState(b,"",N)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(N)}i&&c&&c({action:l,location:g.location,delta:1})}function m(y,x){l=Js.Replace;let v=Lv(g.location,y,x);n&&n(v,y),u=d();let b=m1(v,u),N=g.createHref(v);o.replaceState(b,"",N),i&&c&&c({action:l,location:g.location,delta:0})}function w(y){let x=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof y=="string"?y:fj(y);return v=v.replace(/ $/,"%20"),ln(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let g={get action(){return l},get location(){return t(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(p1,h),c=y,()=>{s.removeEventListener(p1,h),c=null}},createHref(y){return e(s,y)},createURL:w,encodeLocation(y){let x=w(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:m,go(y){return o.go(y)}};return g}var g1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(g1||(g1={}));function eV(t,e,n){return n===void 0&&(n="/"),tV(t,e,n,!1)}function tV(t,e,n,r){let s=typeof e=="string"?_u(e):e,i=gj(s.pathname||"/",n);if(i==null)return null;let o=pj(t);nV(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=fV(i);l=dV(o[c],u,r)}return l}function pj(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ln(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=xa([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(ln(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),pj(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:cV(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of mj(i.path))s(i,o,c)}),e}function mj(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=mj(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function nV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rV=/^:[\w-]+$/,sV=3,iV=2,oV=1,aV=10,lV=-2,v1=t=>t==="*";function cV(t,e){let n=t.split("/"),r=n.length;return n.some(v1)&&(r+=lV),e&&(r+=iV),n.filter(s=>!v1(s)).reduce((s,i)=>s+(rV.test(i)?sV:i===""?oV:aV),r)}function uV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function dV(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=y1({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=y1({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:xa([i,h.pathname]),pathnameBase:pV(xa([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=xa([i,h.pathnameBase]))}return o}function y1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=hV(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let g=l[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const w=l[h];return m&&!w?u[f]=void 0:u[f]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function hV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),y0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function fV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return y0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function gj(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const xa=t=>t.join("/").replace(/\/\/+/g,"/"),pV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function mV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const vj=["post","put","patch","delete"];new Set(vj);const gV=["get",...vj];new Set(gV);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hh(){return Hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hh.apply(this,arguments)}const vV=p.createContext(null),yV=p.createContext(null),yj=p.createContext(null),dp=p.createContext(null),hp=p.createContext({outlet:null,matches:[],isDataRoute:!1}),xj=p.createContext(null);function x0(){return p.useContext(dp)!=null}function wj(){return x0()||ln(!1),p.useContext(dp).location}function xV(t,e){return wV(t,e)}function wV(t,e,n,r){x0()||ln(!1);let{navigator:s}=p.useContext(yj),{matches:i}=p.useContext(hp),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=wj(),d;if(e){var h;let y=typeof e=="string"?_u(e):e;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||ln(!1),d=y}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let w=eV(t,{pathname:m}),g=SV(w&&w.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:xa([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:xa([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return e&&g?p.createElement(dp.Provider,{value:{location:Hh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Js.Pop}},g):g}function bV(){let t=jV(),e=mV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:s},n):null,null)}const _V=p.createElement(bV,null);class CV extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(hp.Provider,{value:this.props.routeContext},p.createElement(xj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NV(t){let{routeContext:e,match:n,children:r}=t,s=p.useContext(vV);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(hp.Provider,{value:e},r)}function SV(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||ln(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,w=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||w){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,w=!1,g=null,y=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||_V,c&&(u<0&&f===0?(w=!0,y=null):u===f&&(w=!0,y=h.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,f+1)),v=()=>{let b;return m?b=g:w?b=y:h.route.Component?b=p.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,p.createElement(NV,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?p.createElement(CV,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var Fv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Fv||{});function EV(t){let e=p.useContext(yV);return e||ln(!1),e}function kV(t){let e=p.useContext(hp);return e||ln(!1),e}function TV(t){let e=kV(),n=e.matches[e.matches.length-1];return n.route.id||ln(!1),n.route.id}function jV(){var t;let e=p.useContext(xj),n=EV(Fv.UseRouteError),r=TV(Fv.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function RV(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Vv(t){ln(!1)}function IV(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Js.Pop,navigator:i,static:o=!1,future:l}=t;x0()&&ln(!1);let c=e.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:o,future:Hh({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=_u(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:w="default"}=r,g=p.useMemo(()=>{let y=gj(d,c);return y==null?null:{location:{pathname:y,search:h,hash:f,state:m,key:w},navigationType:s}},[c,d,h,f,m,w,s]);return g==null?null:p.createElement(yj.Provider,{value:u},p.createElement(dp.Provider,{children:n,value:g}))}function PV(t){let{children:e,location:n}=t;return xV($v(e),n)}new Promise(()=>{});function $v(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(r,s)=>{if(!p.isValidElement(r))return;let i=[...e,s];if(r.type===p.Fragment){n.push.apply(n,$v(r.props.children,i));return}r.type!==Vv&&ln(!1),!r.props.index||!r.props.children||ln(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=$v(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const AV="6";try{window.__reactRouterVersion=AV}catch{}const DV="startTransition",x1=ax[DV];function MV(t){let{basename:e,children:n,future:r,window:s}=t,i=p.useRef();i.current==null&&(i.current=X6({window:s,v5Compat:!0}));let o=i.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=p.useCallback(h=>{u&&x1?x1(()=>c(h)):c(h)},[c,u]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.useEffect(()=>RV(r),[r]),p.createElement(IV,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var w1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(w1||(w1={}));var b1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(b1||(b1={}));const OV=()=>{};var _1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y=function(t,e){if(!t)throw dl(e)},dl=function(t){return new Error("Firebase Database ("+bj.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},LV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},w0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,h=(i&3)<<4|l>>4;let f=(l&15)<<2|u>>6,m=u&63;c||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_j(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||h==null)throw new FV;const f=i<<2|l>>4;if(r.push(f),u!==64){const m=l<<4&240|u>>2;if(r.push(m),h!==64){const w=u<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cj=function(t){const e=_j(t);return w0.encodeByteArray(e,!0)},Gh=function(t){return Cj(t).replace(/\./g,"")},qh=function(t){try{return w0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(t){return Nj(void 0,t)}function Nj(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!$V(n)||(t[n]=Nj(t[n],e[n]));return t}function $V(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=()=>UV().__FIREBASE_DEFAULTS__,zV=()=>{if(typeof process>"u"||typeof _1>"u")return;const t=_1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},WV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qh(t[1]);return e&&JSON.parse(e)},b0=()=>{try{return OV()||BV()||zV()||WV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Sj=t=>{var e,n;return(n=(e=b0())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},HV=t=>{const e=Sj(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ej=()=>{var t;return(t=b0())==null?void 0:t.config},kj=t=>{var e;return(e=b0())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Tj(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Gh(JSON.stringify(n)),Gh(JSON.stringify(o)),""].join(".")}const dc={};function qV(){const t={prod:[],emulator:[]};for(const e of Object.keys(dc))dc[e]?t.emulator.push(e):t.prod.push(e);return t}function KV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let C1=!1;function jj(t,e){if(typeof window>"u"||typeof document>"u"||!hl(window.location.host)||dc[t]===e||dc[t]||C1)return;dc[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=qV().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{C1=!0,o()},f}function d(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=KV(r),m=n("text"),w=document.getElementById(m)||document.createElement("span"),g=n("learnmore"),y=document.getElementById(g)||document.createElement("a"),x=n("preprendIcon"),v=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const b=f.element;l(b),d(y,g);const N=u();c(v,x),b.append(v,w,y,N),document.body.appendChild(b)}i?(w.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function YV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Rj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XV(){const t=Yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ij(){return bj.NODE_ADMIN===!0}function JV(){try{return typeof indexedDB=="object"}catch{return!1}}function ZV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e$="FirebaseError";class Ti extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=e$,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nu.prototype.create)}}class Nu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?t$(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Ti(s,l,r)}}function t$(t,e){return t.replace(n$,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const n$=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(t){return JSON.parse(t)}function ht(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=Wc(qh(i[0])||""),n=Wc(qh(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},r$=function(t){const e=Pj(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},s$=function(t){const e=Pj(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ga(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Uv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kh(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function bo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(N1(i)&&N1(o)){if(!bo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function N1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],l=this.chain_[3],c=this.chain_[4],u,d;for(let h=0;h<80;h++){h<40?h<20?(u=l^i&(o^l),d=1518500249):(u=i^o^l,d=1859775393):h<60?(u=i&o|l&(i|o),d=2400959708):(u=i^o^l,d=3395469782);const f=(s<<5|s>>>27)+u+c+d+r[h]&4294967295;c=l,l=o,o=(i<<30|i>>>2)&4294967295,i=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function o$(t,e){const n=new a$(t,e);return n.subscribe.bind(n)}class a${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");l$(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Um),s.error===void 0&&(s.error=Um),s.complete===void 0&&(s.complete=Um);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function l$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Um(){}function fp(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c$=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,Y(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},pp=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t){return t&&t._delegate?t._delegate:t}class _o{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Cu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(h$(e))try{this.getOrInitializeService({instanceIdentifier:Ui})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ui){return this.instances.has(e)}getOptions(e=Ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:d$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ui){return this.component?this.component.multipleInstances?e:Ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function d$(t){return t===Ui?void 0:t}function h$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new u$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const p$={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},m$=Ie.INFO,g$={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},v$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=g$[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class C0{constructor(e){this.name=e,this._logLevel=m$,this._logHandler=v$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?p$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const y$=(t,e)=>e.some(n=>t instanceof n);let S1,E1;function x$(){return S1||(S1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w$(){return E1||(E1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Aj=new WeakMap,Bv=new WeakMap,Dj=new WeakMap,Bm=new WeakMap,N0=new WeakMap;function b$(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(li(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Aj.set(n,t)}).catch(()=>{}),N0.set(e,t),e}function _$(t){if(Bv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Bv.set(t,e)}let zv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Dj.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return li(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function C$(t){zv=t(zv)}function N$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zm(this),e,...n);return Dj.set(r,e.sort?e.sort():[e]),li(r)}:w$().includes(t)?function(...e){return t.apply(zm(this),e),li(Aj.get(this))}:function(...e){return li(t.apply(zm(this),e))}}function S$(t){return typeof t=="function"?N$(t):(t instanceof IDBTransaction&&_$(t),y$(t,x$())?new Proxy(t,zv):t)}function li(t){if(t instanceof IDBRequest)return b$(t);if(Bm.has(t))return Bm.get(t);const e=S$(t);return e!==t&&(Bm.set(t,e),N0.set(e,t)),e}const zm=t=>N0.get(t);function E$(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=li(o);return r&&o.addEventListener("upgradeneeded",c=>{r(li(o.result),c.oldVersion,c.newVersion,li(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const k$=["get","getKey","getAll","getAllKeys","count"],T$=["put","add","delete","clear"],Wm=new Map;function k1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wm.get(e))return Wm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=T$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||k$.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Wm.set(e,i),i}C$(t=>({...t,get:(e,n,r)=>k1(e,n)||t.get(e,n,r),has:(e,n)=>!!k1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(R$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function R$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wv="@firebase/app",T1="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new C0("@firebase/app"),I$="@firebase/app-compat",P$="@firebase/analytics-compat",A$="@firebase/analytics",D$="@firebase/app-check-compat",M$="@firebase/app-check",O$="@firebase/auth",L$="@firebase/auth-compat",F$="@firebase/database",V$="@firebase/data-connect",$$="@firebase/database-compat",U$="@firebase/functions",B$="@firebase/functions-compat",z$="@firebase/installations",W$="@firebase/installations-compat",H$="@firebase/messaging",G$="@firebase/messaging-compat",q$="@firebase/performance",K$="@firebase/performance-compat",Y$="@firebase/remote-config",Q$="@firebase/remote-config-compat",X$="@firebase/storage",J$="@firebase/storage-compat",Z$="@firebase/firestore",e8="@firebase/ai",t8="@firebase/firestore-compat",n8="firebase",r8="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="[DEFAULT]",s8={[Wv]:"fire-core",[I$]:"fire-core-compat",[A$]:"fire-analytics",[P$]:"fire-analytics-compat",[M$]:"fire-app-check",[D$]:"fire-app-check-compat",[O$]:"fire-auth",[L$]:"fire-auth-compat",[F$]:"fire-rtdb",[V$]:"fire-data-connect",[$$]:"fire-rtdb-compat",[U$]:"fire-fn",[B$]:"fire-fn-compat",[z$]:"fire-iid",[W$]:"fire-iid-compat",[H$]:"fire-fcm",[G$]:"fire-fcm-compat",[q$]:"fire-perf",[K$]:"fire-perf-compat",[Y$]:"fire-rc",[Q$]:"fire-rc-compat",[X$]:"fire-gcs",[J$]:"fire-gcs-compat",[Z$]:"fire-fst",[t8]:"fire-fst-compat",[e8]:"fire-vertex","fire-js":"fire-js",[n8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new Map,i8=new Map,Gv=new Map;function j1(t,e){try{t.container.addComponent(e)}catch(n){vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qa(t){const e=t.name;if(Gv.has(e))return vs.debug(`There were multiple attempts to register component ${e}.`),!1;Gv.set(e,t);for(const n of Yh.values())j1(n,t);for(const n of i8.values())j1(n,t);return!0}function S0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function tr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ci=new Nu("app","Firebase",o8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _o("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=r8;function Mj(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Hv,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw ci.create("bad-app-name",{appName:String(s)});if(n||(n=Ej()),!n)throw ci.create("no-options");const i=Yh.get(s);if(i){if(bo(n,i.options)&&bo(r,i.config))return i;throw ci.create("duplicate-app",{appName:s})}const o=new f$(s);for(const c of Gv.values())o.addComponent(c);const l=new a8(n,r,o);return Yh.set(s,l),l}function Oj(t=Hv){const e=Yh.get(t);if(!e&&t===Hv&&Ej())return Mj();if(!e)throw ci.create("no-app",{appName:t});return e}function ui(t,e,n){let r=s8[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vs.warn(o.join(" "));return}qa(new _o(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8="firebase-heartbeat-database",c8=1,Hc="firebase-heartbeat-store";let Hm=null;function Lj(){return Hm||(Hm=E$(l8,c8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ci.create("idb-open",{originalErrorMessage:t.message})})),Hm}async function u8(t){try{const n=(await Lj()).transaction(Hc),r=await n.objectStore(Hc).get(Fj(t));return await n.done,r}catch(e){if(e instanceof Ti)vs.warn(e.message);else{const n=ci.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vs.warn(n.message)}}}async function R1(t,e){try{const r=(await Lj()).transaction(Hc,"readwrite");await r.objectStore(Hc).put(e,Fj(t)),await r.done}catch(n){if(n instanceof Ti)vs.warn(n.message);else{const r=ci.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vs.warn(r.message)}}}function Fj(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=1024,h8=30;class f8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new m8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=I1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>h8){const o=g8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){vs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=I1(),{heartbeatsToSend:r,unsentEntries:s}=p8(this._heartbeatsCache.heartbeats),i=Gh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return vs.warn(n),""}}}function I1(){return new Date().toISOString().substring(0,10)}function p8(t,e=d8){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),P1(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),P1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class m8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JV()?ZV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await u8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return R1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return R1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function P1(t){return Gh(JSON.stringify({version:2,heartbeats:t})).length}function g8(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8(t){qa(new _o("platform-logger",e=>new j$(e),"PRIVATE")),qa(new _o("heartbeat",e=>new f8(e),"PRIVATE")),ui(Wv,T1,t),ui(Wv,T1,"esm2020"),ui("fire-js","")}v8("");function Vj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const y8=Vj,$j=new Nu("auth","Firebase",Vj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=new C0("@firebase/auth");function x8(t,...e){Qh.logLevel<=Ie.WARN&&Qh.warn(`Auth (${pl}): ${t}`,...e)}function Qd(t,...e){Qh.logLevel<=Ie.ERROR&&Qh.error(`Auth (${pl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t,...e){throw E0(t,...e)}function Dr(t,...e){return E0(t,...e)}function Uj(t,e,n){const r={...y8(),[e]:n};return new Nu("auth","Firebase",r).create(e,{appName:t.name})}function di(t){return Uj(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function E0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $j.create(t,...e)}function ce(t,e,...n){if(!t)throw E0(e,...n)}function os(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qd(e),new Error(e)}function xs(t,e){t||os(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function w8(){return A1()==="http:"||A1()==="https:"}function A1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(w8()||QV()||"connection"in navigator)?navigator.onLine:!0}function _8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n){this.shortDelay=e,this.longDelay=n,xs(n>e,"Short delay should be less than long delay!"),this.isMobile=_0()||Rj()}get(){return b8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(t,e){xs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],S8=new Su(3e4,6e4);function mp(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ml(t,e,n,r,s={}){return zj(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=fl({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...i};return YV()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&hl(t.emulatorConfig.host)&&(u.credentials="include"),Bj.fetch()(await Hj(t,t.config.apiHost,n,l),u)})}async function zj(t,e,n){t._canInitEmulator=!1;const r={...C8,...e};try{const s=new E8(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw yd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw yd(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw yd(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw yd(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Uj(t,d,u);ys(t,d)}}catch(s){if(s instanceof Ti)throw s;ys(t,"network-request-failed",{message:String(s)})}}async function Wj(t,e,n,r,s={}){const i=await ml(t,e,n,r,s);return"mfaPendingCredential"in i&&ys(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function Hj(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?k0(t.config,s):`${t.config.apiScheme}://${s}`;return N8.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class E8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dr(this.auth,"network-request-failed")),S8.get())})}}function yd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Dr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k8(t,e){return ml(t,"POST","/v1/accounts:delete",e)}async function Xh(t,e){return ml(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function T8(t,e=!1){const n=un(t),r=await n.getIdToken(e),s=T0(r);ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:hc(Gm(s.auth_time)),issuedAtTime:hc(Gm(s.iat)),expirationTime:hc(Gm(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Gm(t){return Number(t)*1e3}function T0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qd("JWT malformed, contained fewer than 3 sections"),null;try{const s=qh(n);return s?JSON.parse(s):(Qd("Failed to decode base64 JWT payload"),null)}catch(s){return Qd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function D1(t){const e=T0(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ti&&j8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function j8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hc(this.lastLoginAt),this.creationTime=hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jh(t){var h;const e=t.auth,n=await t.getIdToken(),r=await Gc(t,Xh(e,{idToken:n}));ce(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(h=s.providerUserInfo)!=null&&h.length?Gj(s.providerUserInfo):[],o=P8(t.providerData,i),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Kv(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function I8(t){const e=un(t);await Jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function P8(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Gj(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A8(t,e){const n=await zj(t,{},async()=>{const r=fl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await Hj(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&hl(t.emulatorConfig.host)&&(c.credentials="include"),Bj.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function D8(t,e){return ml(t,"POST","/v2/accounts:revokeToken",mp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):D1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const n=D1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await A8(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new wa;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ce(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ce(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wa,this.toJSON())}_performRefresh(){return os("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class rr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new R8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Kv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Gc(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return T8(this,e)}reload(){return I8(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new rr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Jh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tr(this.auth.app))return Promise.reject(di(this.auth));const e=await this.getIdToken();return await Gc(this,k8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:f,isAnonymous:m,providerData:w,stsTokenManager:g}=n;ce(h&&g,e,"internal-error");const y=wa.fromJSON(this.name,g);ce(typeof h=="string",e,"internal-error"),Rs(r,e.name),Rs(s,e.name),ce(typeof f=="boolean",e,"internal-error"),ce(typeof m=="boolean",e,"internal-error"),Rs(i,e.name),Rs(o,e.name),Rs(l,e.name),Rs(c,e.name),Rs(u,e.name),Rs(d,e.name);const x=new rr({uid:h,auth:e,email:s,emailVerified:f,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:i,tenantId:l,stsTokenManager:y,createdAt:u,lastLoginAt:d});return w&&Array.isArray(w)&&(x.providerData=w.map(v=>({...v}))),c&&(x._redirectEventId=c),x}static async _fromIdTokenResponse(e,n,r=!1){const s=new wa;s.updateFromServerResponse(n);const i=new rr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Jh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ce(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Gj(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new wa;l.updateFromIdToken(r);const c=new rr({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Kv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=new Map;function as(t){xs(t instanceof Function,"Expected a class definition");let e=M1.get(t);return e?(xs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,M1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qj.type="NONE";const O1=qj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t,e,n){return`firebase:${t}:${e}:${n}`}class ba{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Xd(this.userKey,s.apiKey,i),this.fullPersistenceKey=Xd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Xh(this.auth,{idToken:e}).catch(()=>{});return n?rr._fromGetAccountInfoResponse(this.auth,n,e):null}return rr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ba(as(O1),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||as(O1);const o=Xd(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const f=await Xh(e,{idToken:d}).catch(()=>{});if(!f)break;h=await rr._fromGetAccountInfoResponse(e,f,d)}else h=rr._fromJSON(e,d);u!==i&&(l=h),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new ba(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new ba(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Xj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zj(e))return"Blackberry";if(eR(e))return"Webos";if(Yj(e))return"Safari";if((e.includes("chrome/")||Qj(e))&&!e.includes("edge/"))return"Chrome";if(Jj(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Kj(t=Yt()){return/firefox\//i.test(t)}function Yj(t=Yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qj(t=Yt()){return/crios\//i.test(t)}function Xj(t=Yt()){return/iemobile/i.test(t)}function Jj(t=Yt()){return/android/i.test(t)}function Zj(t=Yt()){return/blackberry/i.test(t)}function eR(t=Yt()){return/webos/i.test(t)}function j0(t=Yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function M8(t=Yt()){var e;return j0(t)&&!!((e=window.navigator)!=null&&e.standalone)}function O8(){return XV()&&document.documentMode===10}function tR(t=Yt()){return j0(t)||Jj(t)||eR(t)||Zj(t)||/windows phone/i.test(t)||Xj(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(t,e=[]){let n;switch(t){case"Browser":n=L1(Yt());break;case"Worker":n=`${L1(Yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F8(t,e={}){return ml(t,"GET","/v2/passwordPolicy",mp(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8=6;class $8{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??V8,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new F1(this),this.idTokenSubscription=new F1(this),this.beforeStateQueue=new L8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$j,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=as(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await ba.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Xh(this,{idToken:e}),r=await rr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(tr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Jh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tr(this.app))return Promise.reject(di(this));const n=e?un(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tr(this.app)?Promise.reject(di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tr(this.app)?Promise.reject(di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(as(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await F8(this),n=new $8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await D8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&as(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await ba.create(this,[as(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&x8(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function gp(t){return un(t)}class F1{constructor(e){this.auth=e,this.observer=null,this.addObserver=o$(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B8(t){R0=t}function z8(t){return R0.loadJS(t)}function W8(){return R0.gapiScript}function H8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(t,e){const n=S0(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(bo(i,e??{}))return s;ys(s,"already-initialized")}return n.initialize({options:e})}function q8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(as);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function K8(t,e,n){const r=gp(t);ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=rR(e),{host:o,port:l}=Y8(e),c=l===null?"":`:${l}`,u={url:`${i}//${o}${c}/`},d=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ce(bo(u,r.config.emulator)&&bo(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,hl(o)?(Tj(`${i}//${o}${c}`),jj("Auth",!0)):Q8()}function rR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Y8(t){const e=rR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:V1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:V1(o)}}}function V1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Q8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return os("not implemented")}_getIdTokenResponse(e){return os("not implemented")}_linkToIdToken(e,n){return os("not implemented")}_getReauthenticationResolver(e){return os("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _a(t,e){return Wj(t,"POST","/v1/accounts:signInWithIdp",mp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8="http://localhost";class Co extends sR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Co(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ys("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Co(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return _a(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_a(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_a(e,n)}buildRequest(){const e={requestUri:X8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends iR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Eu{constructor(){super("facebook.com")}static credential(e){return Co._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Co._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Vs.credential(n,r)}catch{return null}}}Vs.GOOGLE_SIGN_IN_METHOD="google.com";Vs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Eu{constructor(){super("github.com")}static credential(e){return Co._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.GITHUB_SIGN_IN_METHOD="github.com";$s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends Eu{constructor(){super("twitter.com")}static credential(e,n){return Co._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Us.credential(n,r)}catch{return null}}}Us.TWITTER_SIGN_IN_METHOD="twitter.com";Us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J8(t,e){return Wj(t,"POST","/v1/accounts:signUp",mp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await rr._fromIdTokenResponse(e,r,s),o=$1(r);return new xi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=$1(r);return new xi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function $1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z8(t){var s;if(tr(t.app))return Promise.reject(di(t));const e=gp(t);if(await e._initializationPromise,(s=e.currentUser)!=null&&s.isAnonymous)return new xi({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await J8(e,{returnSecureToken:!0}),r=await xi._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh extends Ti{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Zh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Zh(e,n,r,s)}}function oR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Zh._fromErrorAndOperation(t,i,e,r):i})}async function eU(t,e,n=!1){const r=await Gc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tU(t,e,n=!1){const{auth:r}=t;if(tr(r.app))return Promise.reject(di(r));const s="reauthenticate";try{const i=await Gc(t,oR(r,s,e,t),n);ce(i.idToken,r,"internal-error");const o=T0(i.idToken);ce(o,r,"internal-error");const{sub:l}=o;return ce(t.uid===l,r,"user-mismatch"),xi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ys(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nU(t,e,n=!1){if(tr(t.app))return Promise.reject(di(t));const r="signIn",s=await oR(t,r,e),i=await xi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function rU(t,e,n,r){return un(t).onIdTokenChanged(e,n,r)}function sU(t,e,n){return un(t).beforeAuthStateChanged(e,n)}function iU(t,e,n,r){return un(t).onAuthStateChanged(e,n,r)}function oU(t){return un(t).signOut()}const ef="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ef,"1"),this.storage.removeItem(ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=1e3,lU=10;class lR extends aR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);O8()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,lU):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},aU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lR.type="LOCAL";const cU=lR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR extends aR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cR.type="SESSION";const uR=cR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new vp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async u=>u(n.origin,i)),c=await uU(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const u=I0("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(f.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(){return window}function hU(t){Mr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(){return typeof Mr().WorkerGlobalScope<"u"&&typeof Mr().importScripts=="function"}async function fU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function mU(){return dR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="firebaseLocalStorageDb",gU=1,tf="firebaseLocalStorage",fR="fbase_key";class ku{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yp(t,e){return t.transaction([tf],e?"readwrite":"readonly").objectStore(tf)}function vU(){const t=indexedDB.deleteDatabase(hR);return new ku(t).toPromise()}function Yv(){const t=indexedDB.open(hR,gU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(tf,{keyPath:fR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(tf)?e(r):(r.close(),await vU(),e(await Yv()))})})}async function U1(t,e,n){const r=yp(t,!0).put({[fR]:e,value:n});return new ku(r).toPromise()}async function yU(t,e){const n=yp(t,!1).get(e),r=await new ku(n).toPromise();return r===void 0?null:r.value}function B1(t,e){const n=yp(t,!0).delete(e);return new ku(n).toPromise()}const xU=800,wU=3;class pR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>wU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vp._getInstance(mU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await fU(),!this.activeServiceWorker)return;this.sender=new dU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yv();return await U1(e,ef,"1"),await B1(e,ef),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>U1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>yU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>B1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=yp(s,!1).getAll();return new ku(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pR.type="LOCAL";const bU=pR;new Su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(t,e){return e?as(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0 extends sR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _a(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _a(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _a(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function CU(t){return nU(t.auth,new P0(t),t.bypassAuthState)}function NU(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),tU(n,new P0(t),t.bypassAuthState)}async function SU(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),eU(n,new P0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CU;case"linkViaPopup":case"linkViaRedirect":return SU;case"reauthViaPopup":case"reauthViaRedirect":return NU;default:ys(this.auth,"internal-error")}}resolve(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU=new Su(2e3,1e4);class na extends mR{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,na.currentPopupAction&&na.currentPopupAction.cancel(),na.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){xs(this.filter.length===1,"Popup operations only handle one event");const e=I0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,na.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EU.get())};e()}}na.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU="pendingRedirect",Jd=new Map;class TU extends mR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jd.get(this.auth._key());if(!e){try{const r=await jU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jd.set(this.auth._key(),e)}return this.bypassAuthState||Jd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jU(t,e){const n=PU(e),r=IU(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function RU(t,e){Jd.set(t._key(),e)}function IU(t){return as(t._redirectPersistence)}function PU(t){return Xd(kU,t.config.apiKey,t.name)}async function AU(t,e,n=!1){if(tr(t.app))return Promise.reject(di(t));const r=gp(t),s=_U(r,e),o=await new TU(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU=10*60*1e3;class MU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!gR(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Dr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DU&&this.cachedEventUids.clear(),this.cachedEventUids.has(z1(e))}saveEventToCache(e){this.cachedEventUids.add(z1(e)),this.lastProcessedEventTime=Date.now()}}function z1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function OU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LU(t,e={}){return ml(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VU=/^https?/;async function $U(t){if(t.config.emulator)return;const{authorizedDomains:e}=await LU(t);for(const n of e)try{if(UU(n))return}catch{}ys(t,"unauthorized-domain")}function UU(t){const e=qv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!VU.test(n))return!1;if(FU.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=new Su(3e4,6e4);function W1(){const t=Mr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function zU(t){return new Promise((e,n)=>{var s,i,o;function r(){W1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W1(),n(Dr(t,"network-request-failed"))},timeout:BU.get()})}if((i=(s=Mr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Mr().gapi)!=null&&o.load)r();else{const l=H8("iframefcb");return Mr()[l]=()=>{gapi.load?r():n(Dr(t,"network-request-failed"))},z8(`${W8()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Zd=null,e})}let Zd=null;function WU(t){return Zd=Zd||zU(t),Zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU=new Su(5e3,15e3),GU="__/auth/iframe",qU="emulator/auth/iframe",KU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QU(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?k0(e,qU):`https://${t.config.authDomain}/${GU}`,r={apiKey:e.apiKey,appName:t.name,v:pl},s=YU.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${fl(r).slice(1)}`}async function XU(t){const e=await WU(t),n=Mr().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:QU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KU,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Dr(t,"network-request-failed"),l=Mr().setTimeout(()=>{i(o)},HU.get());function c(){Mr().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZU=500,eB=600,tB="_blank",nB="http://localhost";class H1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rB(t,e,n,r=ZU,s=eB){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...JU,width:r.toString(),height:s.toString(),top:i,left:o},u=Yt().toLowerCase();n&&(l=Qj(u)?tB:n),Kj(u)&&(e=e||nB,c.scrollbars="yes");const d=Object.entries(c).reduce((f,[m,w])=>`${f}${m}=${w},`,"");if(M8(u)&&l!=="_self")return sB(e||"",l),new H1(null);const h=window.open(e||"",l,d);ce(h,t,"popup-blocked");try{h.focus()}catch{}return new H1(h)}function sB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB="__/auth/handler",oB="emulator/auth/handler",aB=encodeURIComponent("fac");async function G1(t,e,n,r,s,i){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:pl,eventId:s};if(e instanceof iR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Uv(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Eu){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${aB}=${encodeURIComponent(c)}`:"";return`${lB(t)}?${fl(l).slice(1)}${u}`}function lB({config:t}){return t.emulator?k0(t,oB):`https://${t.authDomain}/${iB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="webStorageSupport";class cB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uR,this._completeRedirectFn=AU,this._overrideRedirectResult=RU}async _openPopup(e,n,r,s){var o;xs((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await G1(e,n,r,qv(),s);return rB(e,i,I0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await G1(e,n,r,qv(),s);return hU(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(xs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await XU(e),r=new MU(e);return n.register("authEvent",s=>(ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qm,{type:qm},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[qm];i!==void 0&&n(!!i),ys(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$U(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tR()||Yj()||j0()}}const uB=cB;var q1="@firebase/auth",K1="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fB(t){qa(new _o("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nR(t)},u=new U8(r,s,i,c);return q8(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qa(new _o("auth-internal",e=>{const n=gp(e.getProvider("auth").getImmediate());return(r=>new dB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ui(q1,K1,hB(t)),ui(q1,K1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB=5*60,mB=kj("authIdTokenMaxAge")||pB;let Y1=null;const gB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>mB)return;const s=n==null?void 0:n.token;Y1!==s&&(Y1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function vB(t=Oj()){const e=S0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=G8(t,{popupRedirectResolver:uB,persistence:[bU,cU,uR]}),r=kj("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=gB(i.toString());sU(n,o,()=>o(n.currentUser)),rU(n,l=>o(l))}}const s=Sj("auth");return s&&K8(n,`http://${s}`),n}function yB(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}B8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Dr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",yB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fB("Browser");var Q1={};const X1="@firebase/database",J1="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vR="";function xB(t){vR=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ht(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Wc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Br(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new wB(e)}}catch{}return new bB},Ki=yR("localStorage"),_B=yR("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=new C0("@firebase/database"),CB=function(){let t=1;return function(){return t++}}(),xR=function(t){const e=c$(t),n=new i$;n.update(e);const r=n.digest();return w0.encodeByteArray(r)},Tu=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Tu.apply(null,r):typeof r=="object"?e+=ht(r):e+=r,e+=" "}return e};let fc=null,Z1=!0;const NB=function(t,e){Y(!e,"Can't turn on custom loggers persistently."),Ca.logLevel=Ie.VERBOSE,fc=Ca.log.bind(Ca)},kt=function(...t){if(Z1===!0&&(Z1=!1,fc===null&&_B.get("logging_enabled")===!0&&NB()),fc){const e=Tu.apply(null,t);fc(e)}},ju=function(t){return function(...e){kt(t,...e)}},Qv=function(...t){const e="FIREBASE INTERNAL ERROR: "+Tu(...t);Ca.error(e)},ws=function(...t){const e=`FIREBASE FATAL ERROR: ${Tu(...t)}`;throw Ca.error(e),new Error(e)},Kt=function(...t){const e="FIREBASE WARNING: "+Tu(...t);Ca.warn(e)},SB=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Kt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},A0=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},EB=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ka="[MIN_NAME]",No="[MAX_NAME]",Ao=function(t,e){if(t===e)return 0;if(t===Ka||e===No)return-1;if(e===Ka||t===No)return 1;{const n=eC(t),r=eC(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},kB=function(t,e){return t===e?0:t<e?-1:1},$l=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ht(e))},D0=function(t){if(typeof t!="object"||t===null)return ht(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=ht(e[r]),n+=":",n+=D0(t[e[r]]);return n+="}",n},wR=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Rt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const bR=function(t){Y(!A0(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,l,c;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(c=n;c;c-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)u.push(i%2?1:0),i=Math.floor(i/2);u.push(s?1:0),u.reverse();const d=u.join("");let h="";for(c=0;c<64;c+=8){let f=parseInt(d.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},TB=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},jB=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function RB(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const IB=new RegExp("^-?(0*)\\d{1,10}$"),PB=-2147483648,AB=2147483647,eC=function(t){if(IB.test(t)){const e=Number(t);if(e>=PB&&e<=AB)return e}return null},gl=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Kt("Exception was thrown by user callback.",n),e},Math.floor(0))}},DB=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},pc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,tr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Kt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(kt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Kt(e)}}class eh{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}eh.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="5",_R="v",CR="s",NR="r",SR="f",ER=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,kR="ls",TR="p",Xv="ac",jR="websocket",RR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,n,r,s,i=!1,o="",l=!1,c=!1,u=null){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ki.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ki.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function LB(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function PR(t,e,n){Y(typeof e=="string","typeof type must == string"),Y(typeof n=="object","typeof params must == object");let r;if(e===jR)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===RR)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);LB(t)&&(n.ns=t.namespace);const s=[];return Rt(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(){this.counters_={}}incrementCounter(e,n=1){Br(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return VV(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km={},Ym={};function O0(t){const e=t.toString();return Km[e]||(Km[e]=new FB),Km[e]}function VB(t,e){const n=t.toString();return Ym[n]||(Ym[n]=e()),Ym[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&gl(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="start",UB="close",BB="pLPCommand",zB="pRTLPCB",AR="id",DR="pw",MR="ser",WB="cb",HB="seg",GB="ts",qB="d",KB="dframe",OR=1870,LR=30,YB=OR-LR,QB=25e3,XB=3e4;class ra{constructor(e,n,r,s,i,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ju(e),this.stats_=O0(n),this.urlFn=c=>(this.appCheckToken&&(c[Xv]=this.appCheckToken),PR(n,RR,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new $B(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(XB)),EB(()=>{if(this.isClosed_)return;this.scriptTagHolder=new L0((...i)=>{const[o,l,c,u,d]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===tC)this.id=l,this.password=c;else if(o===UB)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,l]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[tC]="t",r[MR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[WB]=this.scriptTagHolder.uniqueCallbackIdentifier),r[_R]=M0,this.transportSessionId&&(r[CR]=this.transportSessionId),this.lastSessionId&&(r[kR]=this.lastSessionId),this.applicationId&&(r[TR]=this.applicationId),this.appCheckToken&&(r[Xv]=this.appCheckToken),typeof location<"u"&&location.hostname&&ER.test(location.hostname)&&(r[NR]=SR);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ra.forceAllow_=!0}static forceDisallow(){ra.forceDisallow_=!0}static isAvailable(){return ra.forceAllow_?!0:!ra.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!TB()&&!jB()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ht(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Cj(n),s=wR(r,YB);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[KB]="t",r[AR]=e,r[DR]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ht(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class L0{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=CB(),window[BB+this.uniqueCallbackIdentifier]=e,window[zB+this.uniqueCallbackIdentifier]=n,this.myIFrame=L0.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){kt("frame writing exception"),l.stack&&kt(l.stack),kt(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||kt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[AR]=this.myID,e[DR]=this.myPW,e[MR]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+LR+r.length<=OR;){const o=this.pendingSegs.shift();r=r+"&"+HB+s+"="+o.seg+"&"+GB+s+"="+o.ts+"&"+qB+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(QB)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{kt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB=16384,ZB=45e3;let nf=null;typeof MozWebSocket<"u"?nf=MozWebSocket:typeof WebSocket<"u"&&(nf=WebSocket);class nr{constructor(e,n,r,s,i,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ju(this.connId),this.stats_=O0(n),this.connURL=nr.connectionURL_(n,o,l,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[_R]=M0,typeof location<"u"&&location.hostname&&ER.test(location.hostname)&&(o[NR]=SR),n&&(o[CR]=n),r&&(o[kR]=r),s&&(o[Xv]=s),i&&(o[TR]=i),PR(e,jR,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ki.set("previous_websocket_failure",!0);try{let r;Ij(),this.mySock=new nf(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){nr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&nf!==null&&!nr.forceDisallow_}static previouslyFailed(){return Ki.isInMemoryStorage||Ki.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ki.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Wc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Y(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=ht(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=wR(n,JB);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(ZB))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}nr.responsesRequiredToBeHealthy=2;nr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{static get ALL_TRANSPORTS(){return[ra,nr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=nr&&nr.isAvailable();let r=n&&!nr.previouslyFailed();if(e.webSocketOnly&&(n||Kt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[nr];else{const s=this.transports_=[];for(const i of qc.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);qc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}qc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez=6e4,tz=5e3,nz=10*1024,rz=100*1024,Qm="t",nC="d",sz="s",rC="r",iz="e",sC="o",iC="a",oC="n",aC="p",oz="h";class az{constructor(e,n,r,s,i,o,l,c,u,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ju("c:"+this.id+":"),this.transportManager_=new qc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=pc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>rz?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>nz?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Qm in e){const n=e[Qm];n===iC?this.upgradeIfSecondaryHealthy_():n===rC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===sC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=$l("t",e),r=$l("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:aC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:iC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:oC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=$l("t",e),r=$l("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=$l(Qm,e);if(nC in e){const r=e[nC];if(n===oz){const s={...r};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===oC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===sz?this.onConnectionShutdown_(r):n===rC?this.onReset_(r):n===iz?Qv("Server Error: "+r):n===sC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Qv("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),M0!==r&&Kt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),pc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(ez))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):pc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(tz))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:aC,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ki.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.allowedEvents_=e,this.listeners_={},Y(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){Y(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends VR{static getInstance(){return new rf}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!_0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Y(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=32,cC=768;class Pe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Se(){return new Pe("")}function ve(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function wi(t){return t.pieces_.length-t.pieceNum_}function Oe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Pe(t.pieces_,e)}function F0(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function lz(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Kc(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function $R(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Pe(e,0)}function et(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Pe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Pe(n,0)}function xe(t){return t.pieceNum_>=t.pieces_.length}function Ht(t,e){const n=ve(t),r=ve(e);if(n===null)return e;if(n===r)return Ht(Oe(t),Oe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function cz(t,e){const n=Kc(t,0),r=Kc(e,0);for(let s=0;s<n.length&&s<r.length;s++){const i=Ao(n[s],r[s]);if(i!==0)return i}return n.length===r.length?0:n.length<r.length?-1:1}function V0(t,e){if(wi(t)!==wi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function An(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(wi(t)>wi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class uz{constructor(e,n){this.errorPrefix_=n,this.parts_=Kc(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=pp(this.parts_[r]);UR(this)}}function dz(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=pp(e),UR(t)}function hz(t){const e=t.parts_.pop();t.byteLength_-=pp(e),t.parts_.length>0&&(t.byteLength_-=1)}function UR(t){if(t.byteLength_>cC)throw new Error(t.errorPrefix_+"has a key path longer than "+cC+" bytes ("+t.byteLength_+").");if(t.parts_.length>lC)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+lC+") or object contains a cycle "+Bi(t))}function Bi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0 extends VR{static getInstance(){return new $0}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return Y(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=1e3,fz=60*5*1e3,uC=30*1e3,pz=1.3,mz=3e4,gz="server_kill",dC=3;class us extends FR{constructor(e,n,r,s,i,o,l,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=us.nextPersistentConnectionId_++,this.log_=ju("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ul,this.maxReconnectDelay_=fz,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Ij())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&rf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(ht(i)),Y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Cu,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Y(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,l=>{const c=l.d,u=l.s;us.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(u,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Br(e,"w")){const r=Ga(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();Kt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||s$(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=uC)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=r$(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ht(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Qv("Unrecognized action received from server: "+ht(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ul,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ul,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>mz&&(this.reconnectDelay_=Ul),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*pz)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+us.nextConnectionId_++,i=this.lastSessionId;let o=!1,l=null;const c=function(){l?l.close():(o=!0,r())},u=function(h){Y(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:c,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?kt("getToken() completed but was canceled"):(kt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,l=new az(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,m=>{Kt(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(gz)},i))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Kt(h),c())}}}interrupt(e){kt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){kt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Uv(this.interruptReasons_)&&(this.reconnectDelay_=Ul,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>D0(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Pe(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){kt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=dC&&(this.reconnectDelay_=uC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){kt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=dC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+vR.replace(/\./g,"-")]=1,_0()?e["framework.cordova"]=1:Rj()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=rf.getInstance().currentlyOnline();return Uv(this.interruptReasons_)&&e}}us.nextPersistentConnectionId_=0;us.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ye(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xp=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ye(Ka,e),s=new ye(Ka,n);return this.compare(r,s)!==0}minPost(){return ye.MIN}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xd;class BR extends xp{static get __EMPTY_NODE(){return xd}static set __EMPTY_NODE(e){xd=e}compare(e,n){return Ao(e.name,n.name)}isDefinedOn(e){throw dl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ye.MIN}maxPost(){return new ye(No,xd)}makePost(e,n){return Y(typeof e=="string","KeyIndex indexValue must always be a string."),new ye(e,xd)}toString(){return".key"}}const Na=new BR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class yt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??yt.RED,this.left=s??nn.EMPTY_NODE,this.right=i??nn.EMPTY_NODE}copy(e,n,r,s,i){return new yt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return nn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return nn.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}yt.RED=!0;yt.BLACK=!1;class vz{copy(e,n,r,s,i){return this}insert(e,n,r){return new yt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class nn{constructor(e,n=nn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new nn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,yt.BLACK,null,null))}remove(e){return new nn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,yt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new wd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new wd(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new wd(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new wd(this.root_,null,this.comparator_,!0,e)}}nn.EMPTY_NODE=new vz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yz(t,e){return Ao(t.name,e.name)}function U0(t,e){return Ao(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jv;function xz(t){Jv=t}const zR=function(t){return typeof t=="number"?"number:"+bR(t):"string:"+t},WR=function(t){if(t.isLeafNode()){const e=t.val();Y(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Br(e,".sv"),"Priority must be a string or number.")}else Y(t===Jv||t.isEmpty(),"priority of unexpected type.");Y(t===Jv||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hC;class gt{static set __childrenNodeConstructor(e){hC=e}static get __childrenNodeConstructor(){return hC}constructor(e,n=gt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),WR(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new gt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:gt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return xe(e)?this:ve(e)===".priority"?this.priorityNode_:gt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:gt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ve(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Y(r!==".priority"||wi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,gt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Oe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+zR(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=bR(this.value_):e+=this.value_,this.lazyHash_=xR(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===gt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof gt.__childrenNodeConstructor?-1:(Y(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=gt.VALUE_TYPE_ORDER.indexOf(n),i=gt.VALUE_TYPE_ORDER.indexOf(r);return Y(s>=0,"Unknown leaf type: "+n),Y(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}gt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HR,GR;function wz(t){HR=t}function bz(t){GR=t}class _z extends xp{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?Ao(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ye.MIN}maxPost(){return new ye(No,new gt("[PRIORITY-POST]",GR))}makePost(e,n){const r=HR(e);return new ye(n,new gt("[PRIORITY-POST]",r))}toString(){return".priority"}}const tt=new _z;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cz=Math.log(2);class Nz{constructor(e){const n=i=>parseInt(Math.log(i)/Cz,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const sf=function(t,e,n,r){t.sort(e);const s=function(c,u){const d=u-c;let h,f;if(d===0)return null;if(d===1)return h=t[c],f=n?n(h):h,new yt(f,h.node,yt.BLACK,null,null);{const m=parseInt(d/2,10)+c,w=s(c,m),g=s(m+1,u);return h=t[m],f=n?n(h):h,new yt(f,h.node,yt.BLACK,w,g)}},i=function(c){let u=null,d=null,h=t.length;const f=function(w,g){const y=h-w,x=h;h-=w;const v=s(y+1,x),b=t[y],N=n?n(b):b;m(new yt(N,b.node,g,null,v))},m=function(w){u?(u.left=w,u=w):(d=w,u=w)};for(let w=0;w<c.count;++w){const g=c.nextBitIsOne(),y=Math.pow(2,c.count-(w+1));g?f(y,yt.BLACK):(f(y,yt.BLACK),f(y,yt.RED))}return d},o=new Nz(t.length),l=i(o);return new nn(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xm;const Vo={};class ls{static get Default(){return Y(Vo&&tt,"ChildrenNode.ts has not been loaded"),Xm=Xm||new ls({".priority":Vo},{".priority":tt}),Xm}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Ga(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof nn?n:null}hasIndex(e){return Br(this.indexSet_,e.toString())}addIndex(e,n){Y(e!==Na,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(ye.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let l;s?l=sf(r,e.getCompare()):l=Vo;const c=e.toString(),u={...this.indexSet_};u[c]=e;const d={...this.indexes_};return d[c]=l,new ls(d,u)}addToIndexes(e,n){const r=Kh(this.indexes_,(s,i)=>{const o=Ga(this.indexSet_,i);if(Y(o,"Missing index implementation for "+i),s===Vo)if(o.isDefinedOn(e.node)){const l=[],c=n.getIterator(ye.Wrap);let u=c.getNext();for(;u;)u.name!==e.name&&l.push(u),u=c.getNext();return l.push(e),sf(l,o.getCompare())}else return Vo;else{const l=n.get(e.name);let c=s;return l&&(c=c.remove(new ye(e.name,l))),c.insert(e,e.node)}});return new ls(r,this.indexSet_)}removeFromIndexes(e,n){const r=Kh(this.indexes_,s=>{if(s===Vo)return s;{const i=n.get(e.name);return i?s.remove(new ye(e.name,i)):s}});return new ls(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl;class se{static get EMPTY_NODE(){return Bl||(Bl=new se(new nn(U0),null,ls.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&WR(this.priorityNode_),this.children_.isEmpty()&&Y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Bl}updatePriority(e){return this.children_.isEmpty()?this:new se(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Bl:n}}getChild(e){const n=ve(e);return n===null?this:this.getImmediateChild(n).getChild(Oe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Y(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ye(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?Bl:this.priorityNode_;return new se(s,o,i)}}updateChild(e,n){const r=ve(e);if(r===null)return n;{Y(ve(e)!==".priority"||wi(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Oe(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(tt,(o,l)=>{n[o]=l.val(e),r++,i&&se.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+zR(this.getPriority().val())+":"),this.forEachChild(tt,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":xR(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new ye(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ye(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ye(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ye.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ye.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ru?-1:0}withIndex(e){if(e===Na||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new se(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Na||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(tt),s=n.getIterator(tt);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Na?null:this.indexMap_.get(e.toString())}}se.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Sz extends se{constructor(){super(new nn(U0),se.EMPTY_NODE,ls.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return se.EMPTY_NODE}isEmpty(){return!1}}const Ru=new Sz;Object.defineProperties(ye,{MIN:{value:new ye(Ka,se.EMPTY_NODE)},MAX:{value:new ye(No,Ru)}});BR.__EMPTY_NODE=se.EMPTY_NODE;gt.__childrenNodeConstructor=se;xz(Ru);bz(Ru);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez=!0;function ut(t,e=null){if(t===null)return se.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Y(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new gt(n,ut(e))}if(!(t instanceof Array)&&Ez){const n=[];let r=!1;if(Rt(t,(o,l)=>{if(o.substring(0,1)!=="."){const c=ut(l);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new ye(o,c)))}}),n.length===0)return se.EMPTY_NODE;const i=sf(n,yz,o=>o.name,U0);if(r){const o=sf(n,tt.getCompare());return new se(i,ut(e),new ls({".priority":o},{".priority":tt}))}else return new se(i,ut(e),ls.Default)}else{let n=se.EMPTY_NODE;return Rt(t,(r,s)=>{if(Br(t,r)&&r.substring(0,1)!=="."){const i=ut(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(ut(e))}}wz(ut);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz extends xp{constructor(e){super(),this.indexPath_=e,Y(!xe(e)&&ve(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?Ao(e.name,n.name):i}makePost(e,n){const r=ut(e),s=se.EMPTY_NODE.updateChild(this.indexPath_,r);return new ye(n,s)}maxPost(){const e=se.EMPTY_NODE.updateChild(this.indexPath_,Ru);return new ye(No,e)}toString(){return Kc(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz extends xp{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ao(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ye.MIN}maxPost(){return ye.MAX}makePost(e,n){const r=ut(e);return new ye(n,r)}toString(){return".value"}}const jz=new Tz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(t){return{type:"value",snapshotNode:t}}function Ya(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Yc(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Qc(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Rz(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){Y(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(s).equals(r.getChild(s))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Yc(n,l)):Y(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(Ya(n,r)):o.trackChildChange(Qc(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(tt,(s,i)=>{n.hasChild(s)||r.trackChildChange(Yc(s,i))}),n.isLeafNode()||n.forEachChild(tt,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(Qc(s,i,o))}else r.trackChildChange(Ya(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?se.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e){this.indexedFilter_=new B0(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Xc.getStartPost_(e),this.endPost_=Xc.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new ye(n,r))||(r=se.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=se.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(se.EMPTY_NODE);const i=this;return n.forEachChild(tt,(o,l)=>{i.matches(new ye(o,l))||(s=s.updateImmediateChild(o,se.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Xc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new ye(n,r))||(r=se.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=se.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=se.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const l=i.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(se.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const l=i.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:s=s.updateImmediateChild(l.name,se.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const h=this.index_.getCompare();o=(f,m)=>h(m,f)}else o=this.index_.getCompare();const l=e;Y(l.numChildren()===this.limit_,"");const c=new ye(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),d=this.rangedFilter_.matches(c);if(l.hasChild(n)){const h=l.getImmediateChild(n);let f=s.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||l.hasChild(f.name));)f=s.getChildAfterChild(this.index_,f,this.reverse_);const m=f==null?1:o(f,c);if(d&&!r.isEmpty()&&m>=0)return i!=null&&i.trackChildChange(Qc(n,r,h)),l.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(Yc(n,h));const g=l.updateImmediateChild(n,se.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(i!=null&&i.trackChildChange(Ya(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}}else return r.isEmpty()?e:d&&o(u,c)>=0?(i!=null&&(i.trackChildChange(Yc(u.name,u.node)),i.trackChildChange(Ya(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,se.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=tt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ka}hasEnd(){return this.endSet_}getIndexEndValue(){return Y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:No}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===tt}copy(){const e=new z0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Pz(t){return t.loadsAllData()?new B0(t.getIndex()):t.hasLimit()?new Iz(t):new Xc(t)}function fC(t){const e={};if(t.isDefault())return e;let n;if(t.index_===tt?n="$priority":t.index_===jz?n="$value":t.index_===Na?n="$key":(Y(t.index_ instanceof kz,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ht(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=ht(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+ht(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=ht(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+ht(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function pC(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==tt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of extends FR{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Y(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=ju("p:rest:"),this.listens_={}}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=of.getListenId_(e,r),l={};this.listens_[o]=l;const c=fC(e._queryParams);this.restRequest_(i+".json",c,(u,d)=>{let h=d;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(i,h,!1,r),Ga(this.listens_,o)===l){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",s(f,null)}})}unlisten(e,n){const r=of.getListenId_(e,n);delete this.listens_[r]}get(e){const n=fC(e._queryParams),r=e._path.toString(),s=new Cu;return this.restRequest_(r+".json",n,(i,o)=>{let l=o;i===404&&(l=null,i=null),i===null?(this.onDataUpdate_(r,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+fl(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=Wc(l.responseText)}catch{Kt("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,c)}else l.status!==401&&l.status!==404&&Kt("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(){this.rootNode_=se.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(){return{value:null,children:new Map}}function KR(t,e,n){if(xe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ve(e);t.children.has(r)||t.children.set(r,af());const s=t.children.get(r);e=Oe(e),KR(s,e,n)}}function Zv(t,e,n){t.value!==null?n(e,t.value):Dz(t,(r,s)=>{const i=new Pe(e.toString()+"/"+r);Zv(s,i,n)})}function Dz(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Rt(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=10*1e3,Oz=30*1e3,Lz=5*60*1e3;class Fz{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Mz(e);const r=mC+(Oz-mC)*Math.random();pc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Rt(e,(s,i)=>{i>0&&Br(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),pc(this.reportStats_.bind(this),Math.floor(Math.random()*2*Lz))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(sr||(sr={}));function W0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function H0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function G0(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=sr.ACK_USER_WRITE,this.source=W0()}operationForChild(e){if(xe(this.path)){if(this.affectedTree.value!=null)return Y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Pe(e));return new lf(Se(),n,this.revert)}}else return Y(ve(this.path)===e,"operationForChild called for unrelated child."),new lf(Oe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n){this.source=e,this.path=n,this.type=sr.LISTEN_COMPLETE}operationForChild(e){return xe(this.path)?new Jc(this.source,Se()):new Jc(this.source,Oe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=sr.OVERWRITE}operationForChild(e){return xe(this.path)?new So(this.source,Se(),this.snap.getImmediateChild(e)):new So(this.source,Oe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=sr.MERGE}operationForChild(e){if(xe(this.path)){const n=this.children.subtree(new Pe(e));return n.isEmpty()?null:n.value?new So(this.source,Se(),n.value):new Qa(this.source,Se(),n)}else return Y(ve(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Qa(this.source,Oe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(xe(e))return this.isFullyInitialized()&&!this.filtered_;const n=ve(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function $z(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(Rz(o.childName,o.snapshotNode))}),zl(t,s,"child_removed",e,r,n),zl(t,s,"child_added",e,r,n),zl(t,s,"child_moved",i,r,n),zl(t,s,"child_changed",e,r,n),zl(t,s,"value",e,r,n),s}function zl(t,e,n,r,s,i){const o=r.filter(l=>l.type===n);o.sort((l,c)=>Bz(t,l,c)),o.forEach(l=>{const c=Uz(t,l,i);s.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(c,t.query_))})})}function Uz(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Bz(t,e,n){if(e.childName==null||n.childName==null)throw dl("Should only compare child_ events.");const r=new ye(e.childName,e.snapshotNode),s=new ye(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(t,e){return{eventCache:t,serverCache:e}}function mc(t,e,n,r){return wp(new bi(e,n,r),t.serverCache)}function YR(t,e,n,r){return wp(t.eventCache,new bi(e,n,r))}function cf(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Eo(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jm;const zz=()=>(Jm||(Jm=new nn(kB)),Jm);class Me{static fromObject(e){let n=new Me(null);return Rt(e,(r,s)=>{n=n.set(new Pe(r),s)}),n}constructor(e,n=zz()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Se(),value:this.value};if(xe(e))return null;{const r=ve(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(Oe(e),n);return i!=null?{path:et(new Pe(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(xe(e))return this;{const n=ve(e),r=this.children.get(n);return r!==null?r.subtree(Oe(e)):new Me(null)}}set(e,n){if(xe(e))return new Me(n,this.children);{const r=ve(e),i=(this.children.get(r)||new Me(null)).set(Oe(e),n),o=this.children.insert(r,i);return new Me(this.value,o)}}remove(e){if(xe(e))return this.children.isEmpty()?new Me(null):new Me(null,this.children);{const n=ve(e),r=this.children.get(n);if(r){const s=r.remove(Oe(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new Me(null):new Me(this.value,i)}else return this}}get(e){if(xe(e))return this.value;{const n=ve(e),r=this.children.get(n);return r?r.get(Oe(e)):null}}setTree(e,n){if(xe(e))return n;{const r=ve(e),i=(this.children.get(r)||new Me(null)).setTree(Oe(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new Me(this.value,o)}}fold(e){return this.fold_(Se(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(et(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Se(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(xe(e))return null;{const i=ve(e),o=this.children.get(i);return o?o.findOnPath_(Oe(e),et(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Se(),n)}foreachOnPath_(e,n,r){if(xe(e))return this;{this.value&&r(n,this.value);const s=ve(e),i=this.children.get(s);return i?i.foreachOnPath_(Oe(e),et(n,s),r):new Me(null)}}foreach(e){this.foreach_(Se(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(et(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.writeTree_=e}static empty(){return new ar(new Me(null))}}function gc(t,e,n){if(xe(e))return new ar(new Me(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=Ht(s,e);return i=i.updateChild(o,n),new ar(t.writeTree_.set(s,i))}else{const s=new Me(n),i=t.writeTree_.setTree(e,s);return new ar(i)}}}function ey(t,e,n){let r=t;return Rt(n,(s,i)=>{r=gc(r,et(e,s),i)}),r}function gC(t,e){if(xe(e))return ar.empty();{const n=t.writeTree_.setTree(e,new Me(null));return new ar(n)}}function ty(t,e){return Do(t,e)!=null}function Do(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ht(n.path,e)):null}function vC(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(tt,(r,s)=>{e.push(new ye(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new ye(r,s.value))}),e}function hi(t,e){if(xe(e))return t;{const n=Do(t,e);return n!=null?new ar(new Me(n)):new ar(t.writeTree_.subtree(e))}}function ny(t){return t.writeTree_.isEmpty()}function Xa(t,e){return QR(Se(),t.writeTree_,e)}function QR(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(Y(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=QR(et(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(et(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(t,e){return eI(e,t)}function Wz(t,e,n,r,s){Y(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=gc(t.visibleWrites,e,n)),t.lastWriteId=r}function Hz(t,e,n,r){Y(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=ey(t.visibleWrites,e,n),t.lastWriteId=r}function Gz(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function qz(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);Y(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&Kz(l,r.path)?s=!1:An(r.path,l.path)&&(i=!0)),o--}if(s){if(i)return Yz(t),!0;if(r.snap)t.visibleWrites=gC(t.visibleWrites,r.path);else{const l=r.children;Rt(l,c=>{t.visibleWrites=gC(t.visibleWrites,et(r.path,c))})}return!0}else return!1}function Kz(t,e){if(t.snap)return An(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&An(et(t.path,n),e))return!0;return!1}function Yz(t){t.visibleWrites=XR(t.allWrites,Qz,Se()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Qz(t){return t.visible}function XR(t,e,n){let r=ar.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let l;if(i.snap)An(n,o)?(l=Ht(n,o),r=gc(r,l,i.snap)):An(o,n)&&(l=Ht(o,n),r=gc(r,Se(),i.snap.getChild(l)));else if(i.children){if(An(n,o))l=Ht(n,o),r=ey(r,l,i.children);else if(An(o,n))if(l=Ht(o,n),xe(l))r=ey(r,Se(),i.children);else{const c=Ga(i.children,ve(l));if(c){const u=c.getChild(Oe(l));r=gc(r,Se(),u)}}}else throw dl("WriteRecord should have .snap or .children")}}return r}function JR(t,e,n,r,s){if(!r&&!s){const i=Do(t.visibleWrites,e);if(i!=null)return i;{const o=hi(t.visibleWrites,e);if(ny(o))return n;if(n==null&&!ty(o,Se()))return null;{const l=n||se.EMPTY_NODE;return Xa(o,l)}}}else{const i=hi(t.visibleWrites,e);if(!s&&ny(i))return n;if(!s&&n==null&&!ty(i,Se()))return null;{const o=function(u){return(u.visible||s)&&(!r||!~r.indexOf(u.writeId))&&(An(u.path,e)||An(e,u.path))},l=XR(t.allWrites,o,e),c=n||se.EMPTY_NODE;return Xa(l,c)}}}function Xz(t,e,n){let r=se.EMPTY_NODE;const s=Do(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(tt,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=hi(t.visibleWrites,e);return n.forEachChild(tt,(o,l)=>{const c=Xa(hi(i,new Pe(o)),l);r=r.updateImmediateChild(o,c)}),vC(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=hi(t.visibleWrites,e);return vC(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Jz(t,e,n,r,s){Y(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=et(e,n);if(ty(t.visibleWrites,i))return null;{const o=hi(t.visibleWrites,i);return ny(o)?s.getChild(n):Xa(o,s.getChild(n))}}function Zz(t,e,n,r){const s=et(e,n),i=Do(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=hi(t.visibleWrites,s);return Xa(o,r.getNode().getImmediateChild(n))}else return null}function eW(t,e){return Do(t.visibleWrites,e)}function tW(t,e,n,r,s,i,o){let l;const c=hi(t.visibleWrites,e),u=Do(c,Se());if(u!=null)l=u;else if(n!=null)l=Xa(c,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const d=[],h=o.getCompare(),f=i?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let m=f.getNext();for(;m&&d.length<s;)h(m,r)!==0&&d.push(m),m=f.getNext();return d}else return[]}function nW(){return{visibleWrites:ar.empty(),allWrites:[],lastWriteId:-1}}function uf(t,e,n,r){return JR(t.writeTree,t.treePath,e,n,r)}function q0(t,e){return Xz(t.writeTree,t.treePath,e)}function yC(t,e,n,r){return Jz(t.writeTree,t.treePath,e,n,r)}function df(t,e){return eW(t.writeTree,et(t.treePath,e))}function rW(t,e,n,r,s,i){return tW(t.writeTree,t.treePath,e,n,r,s,i)}function K0(t,e,n){return Zz(t.writeTree,t.treePath,e,n)}function ZR(t,e){return eI(et(t.treePath,e),t.writeTree)}function eI(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Y(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Y(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,Qc(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,Yc(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,Ya(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,Qc(r,e.snapshotNode,s.oldSnap));else throw dl("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const tI=new iW;class Y0{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new bi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return K0(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Eo(this.viewCache_),i=rW(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oW(t){return{filter:t}}function aW(t,e){Y(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Y(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function lW(t,e,n,r,s){const i=new sW;let o,l;if(n.type===sr.OVERWRITE){const u=n;u.source.fromUser?o=ry(t,e,u.path,u.snap,r,s,i):(Y(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!xe(u.path),o=hf(t,e,u.path,u.snap,r,s,l,i))}else if(n.type===sr.MERGE){const u=n;u.source.fromUser?o=uW(t,e,u.path,u.children,r,s,i):(Y(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),o=sy(t,e,u.path,u.children,r,s,l,i))}else if(n.type===sr.ACK_USER_WRITE){const u=n;u.revert?o=fW(t,e,u.path,r,s,i):o=dW(t,e,u.path,u.affectedTree,r,s,i)}else if(n.type===sr.LISTEN_COMPLETE)o=hW(t,e,n.path,r,i);else throw dl("Unknown operation type: "+n.type);const c=i.getChanges();return cW(e,o,c),{viewCache:o,changes:c}}function cW(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=cf(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(qR(cf(e)))}}function nI(t,e,n,r,s,i){const o=e.eventCache;if(df(r,n)!=null)return e;{let l,c;if(xe(n))if(Y(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Eo(e),d=u instanceof se?u:se.EMPTY_NODE,h=q0(r,d);l=t.filter.updateFullNode(e.eventCache.getNode(),h,i)}else{const u=uf(r,Eo(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,i)}else{const u=ve(n);if(u===".priority"){Y(wi(n)===1,"Can't have a priority with additional path components");const d=o.getNode();c=e.serverCache.getNode();const h=yC(r,n,d,c);h!=null?l=t.filter.updatePriority(d,h):l=o.getNode()}else{const d=Oe(n);let h;if(o.isCompleteForChild(u)){c=e.serverCache.getNode();const f=yC(r,n,o.getNode(),c);f!=null?h=o.getNode().getImmediateChild(u).updateChild(d,f):h=o.getNode().getImmediateChild(u)}else h=K0(r,u,e.serverCache);h!=null?l=t.filter.updateChild(o.getNode(),u,h,d,s,i):l=o.getNode()}}return mc(e,l,o.isFullyInitialized()||xe(n),t.filter.filtersNodes())}}function hf(t,e,n,r,s,i,o,l){const c=e.serverCache;let u;const d=o?t.filter:t.filter.getIndexedFilter();if(xe(n))u=d.updateFullNode(c.getNode(),r,null);else if(d.filtersNodes()&&!c.isFiltered()){const m=c.getNode().updateChild(n,r);u=d.updateFullNode(c.getNode(),m,null)}else{const m=ve(n);if(!c.isCompleteForPath(n)&&wi(n)>1)return e;const w=Oe(n),y=c.getNode().getImmediateChild(m).updateChild(w,r);m===".priority"?u=d.updatePriority(c.getNode(),y):u=d.updateChild(c.getNode(),m,y,w,tI,null)}const h=YR(e,u,c.isFullyInitialized()||xe(n),d.filtersNodes()),f=new Y0(s,h,i);return nI(t,h,n,s,f,l)}function ry(t,e,n,r,s,i,o){const l=e.eventCache;let c,u;const d=new Y0(s,e,i);if(xe(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),c=mc(e,u,!0,t.filter.filtersNodes());else{const h=ve(n);if(h===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),c=mc(e,u,l.isFullyInitialized(),l.isFiltered());else{const f=Oe(n),m=l.getNode().getImmediateChild(h);let w;if(xe(f))w=r;else{const g=d.getCompleteChild(h);g!=null?F0(f)===".priority"&&g.getChild($R(f)).isEmpty()?w=g:w=g.updateChild(f,r):w=se.EMPTY_NODE}if(m.equals(w))c=e;else{const g=t.filter.updateChild(l.getNode(),h,w,f,d,o);c=mc(e,g,l.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function xC(t,e){return t.eventCache.isCompleteForChild(e)}function uW(t,e,n,r,s,i,o){let l=e;return r.foreach((c,u)=>{const d=et(n,c);xC(e,ve(d))&&(l=ry(t,l,d,u,s,i,o))}),r.foreach((c,u)=>{const d=et(n,c);xC(e,ve(d))||(l=ry(t,l,d,u,s,i,o))}),l}function wC(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function sy(t,e,n,r,s,i,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,u;xe(n)?u=r:u=new Me(null).setTree(n,r);const d=e.serverCache.getNode();return u.children.inorderTraversal((h,f)=>{if(d.hasChild(h)){const m=e.serverCache.getNode().getImmediateChild(h),w=wC(t,m,f);c=hf(t,c,new Pe(h),w,s,i,o,l)}}),u.children.inorderTraversal((h,f)=>{const m=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!d.hasChild(h)&&!m){const w=e.serverCache.getNode().getImmediateChild(h),g=wC(t,w,f);c=hf(t,c,new Pe(h),g,s,i,o,l)}}),c}function dW(t,e,n,r,s,i,o){if(df(s,n)!=null)return e;const l=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(xe(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return hf(t,e,n,c.getNode().getChild(n),s,i,l,o);if(xe(n)){let u=new Me(null);return c.getNode().forEachChild(Na,(d,h)=>{u=u.set(new Pe(d),h)}),sy(t,e,n,u,s,i,l,o)}else return e}else{let u=new Me(null);return r.foreach((d,h)=>{const f=et(n,d);c.isCompleteForPath(f)&&(u=u.set(d,c.getNode().getChild(f)))}),sy(t,e,n,u,s,i,l,o)}}function hW(t,e,n,r,s){const i=e.serverCache,o=YR(e,i.getNode(),i.isFullyInitialized()||xe(n),i.isFiltered());return nI(t,o,n,r,tI,s)}function fW(t,e,n,r,s,i){let o;if(df(r,n)!=null)return e;{const l=new Y0(r,e,s),c=e.eventCache.getNode();let u;if(xe(n)||ve(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=uf(r,Eo(e));else{const h=e.serverCache.getNode();Y(h instanceof se,"serverChildren would be complete if leaf node"),d=q0(r,h)}d=d,u=t.filter.updateFullNode(c,d,i)}else{const d=ve(n);let h=K0(r,d,e.serverCache);h==null&&e.serverCache.isCompleteForChild(d)&&(h=c.getImmediateChild(d)),h!=null?u=t.filter.updateChild(c,d,h,Oe(n),l,i):e.eventCache.getNode().hasChild(d)?u=t.filter.updateChild(c,d,se.EMPTY_NODE,Oe(n),l,i):u=c,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=uf(r,Eo(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,i)))}return o=e.serverCache.isFullyInitialized()||df(r,Se())!=null,mc(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pW{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new B0(r.getIndex()),i=Pz(r);this.processor_=oW(i);const o=n.serverCache,l=n.eventCache,c=s.updateFullNode(se.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(se.EMPTY_NODE,l.getNode(),null),d=new bi(c,o.isFullyInitialized(),s.filtersNodes()),h=new bi(u,l.isFullyInitialized(),i.filtersNodes());this.viewCache_=wp(h,d),this.eventGenerator_=new Vz(this.query_)}get query(){return this.query_}}function mW(t){return t.viewCache_.serverCache.getNode()}function gW(t){return cf(t.viewCache_)}function vW(t,e){const n=Eo(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!xe(e)&&!n.getImmediateChild(ve(e)).isEmpty())?n.getChild(e):null}function bC(t){return t.eventRegistrations_.length===0}function yW(t,e){t.eventRegistrations_.push(e)}function _C(t,e,n){const r=[];if(n){Y(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function CC(t,e,n,r){e.type===sr.MERGE&&e.source.queryId!==null&&(Y(Eo(t.viewCache_),"We should always have a full cache before handling merges"),Y(cf(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=lW(t.processor_,s,e,n,r);return aW(t.processor_,i.viewCache),Y(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,rI(t,i.changes,i.viewCache.eventCache.getNode(),null)}function xW(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(tt,(i,o)=>{r.push(Ya(i,o))}),n.isFullyInitialized()&&r.push(qR(n.getNode())),rI(t,r,n.getNode(),e)}function rI(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return $z(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff;class sI{constructor(){this.views=new Map}}function wW(t){Y(!ff,"__referenceConstructor has already been defined"),ff=t}function bW(){return Y(ff,"Reference.ts has not been loaded"),ff}function _W(t){return t.views.size===0}function Q0(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return Y(i!=null,"SyncTree gave us an op for an invalid query."),CC(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(CC(o,e,n,r));return i}}function iI(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let l=uf(n,s?r:null),c=!1;l?c=!0:r instanceof se?(l=q0(n,r),c=!1):(l=se.EMPTY_NODE,c=!1);const u=wp(new bi(l,c,!1),new bi(r,s,!1));return new pW(e,u)}return o}function CW(t,e,n,r,s,i){const o=iI(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),yW(o,n),xW(o,n)}function NW(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const l=_i(t);if(s==="default")for(const[c,u]of t.views.entries())o=o.concat(_C(u,n,r)),bC(u)&&(t.views.delete(c),u.query._queryParams.loadsAllData()||i.push(u.query));else{const c=t.views.get(s);c&&(o=o.concat(_C(c,n,r)),bC(c)&&(t.views.delete(s),c.query._queryParams.loadsAllData()||i.push(c.query)))}return l&&!_i(t)&&i.push(new(bW())(e._repo,e._path)),{removed:i,events:o}}function oI(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function fi(t,e){let n=null;for(const r of t.views.values())n=n||vW(r,e);return n}function aI(t,e){if(e._queryParams.loadsAllData())return _p(t);{const r=e._queryIdentifier;return t.views.get(r)}}function lI(t,e){return aI(t,e)!=null}function _i(t){return _p(t)!=null}function _p(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf;function SW(t){Y(!pf,"__referenceConstructor has already been defined"),pf=t}function EW(){return Y(pf,"Reference.ts has not been loaded"),pf}let kW=1;class NC{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Me(null),this.pendingWriteTree_=nW(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cI(t,e,n,r,s){return Wz(t.pendingWriteTree_,e,n,r,s),s?vl(t,new So(W0(),e,n)):[]}function TW(t,e,n,r){Hz(t.pendingWriteTree_,e,n,r);const s=Me.fromObject(n);return vl(t,new Qa(W0(),e,s))}function Zs(t,e,n=!1){const r=Gz(t.pendingWriteTree_,e);if(qz(t.pendingWriteTree_,e)){let i=new Me(null);return r.snap!=null?i=i.set(Se(),!0):Rt(r.children,o=>{i=i.set(new Pe(o),!0)}),vl(t,new lf(r.path,i,n))}else return[]}function Iu(t,e,n){return vl(t,new So(H0(),e,n))}function jW(t,e,n){const r=Me.fromObject(n);return vl(t,new Qa(H0(),e,r))}function RW(t,e){return vl(t,new Jc(H0(),e))}function IW(t,e,n){const r=J0(t,n);if(r){const s=Z0(r),i=s.path,o=s.queryId,l=Ht(i,e),c=new Jc(G0(o),l);return ew(t,i,c)}else return[]}function mf(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let l=[];if(o&&(e._queryIdentifier==="default"||lI(o,e))){const c=NW(o,e,n,r);_W(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const u=c.removed;if(l=c.events,!s){const d=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(i,(f,m)=>_i(m));if(d&&!h){const f=t.syncPointTree_.subtree(i);if(!f.isEmpty()){const m=DW(f);for(let w=0;w<m.length;++w){const g=m[w],y=g.query,x=fI(t,g);t.listenProvider_.startListening(vc(y),Zc(t,y),x.hashFn,x.onComplete)}}}!h&&u.length>0&&!r&&(d?t.listenProvider_.stopListening(vc(e),null):u.forEach(f=>{const m=t.queryToTagMap.get(Cp(f));t.listenProvider_.stopListening(vc(f),m)}))}MW(t,u)}return l}function uI(t,e,n,r){const s=J0(t,r);if(s!=null){const i=Z0(s),o=i.path,l=i.queryId,c=Ht(o,e),u=new So(G0(l),c,n);return ew(t,o,u)}else return[]}function PW(t,e,n,r){const s=J0(t,r);if(s){const i=Z0(s),o=i.path,l=i.queryId,c=Ht(o,e),u=Me.fromObject(n),d=new Qa(G0(l),c,u);return ew(t,o,d)}else return[]}function iy(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(f,m)=>{const w=Ht(f,s);i=i||fi(m,w),o=o||_i(m)});let l=t.syncPointTree_.get(s);l?(o=o||_i(l),i=i||fi(l,Se())):(l=new sI,t.syncPointTree_=t.syncPointTree_.set(s,l));let c;i!=null?c=!0:(c=!1,i=se.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((m,w)=>{const g=fi(w,Se());g&&(i=i.updateImmediateChild(m,g))}));const u=lI(l,e);if(!u&&!e._queryParams.loadsAllData()){const f=Cp(e);Y(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const m=OW();t.queryToTagMap.set(f,m),t.tagToQueryMap.set(m,f)}const d=bp(t.pendingWriteTree_,s);let h=CW(l,e,n,d,i,c);if(!u&&!o&&!r){const f=aI(l,e);h=h.concat(LW(t,e,f))}return h}function X0(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,l)=>{const c=Ht(o,e),u=fi(l,c);if(u)return u});return JR(s,e,i,n,!0)}function AW(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,d)=>{const h=Ht(u,n);r=r||fi(d,h)});let s=t.syncPointTree_.get(n);s?r=r||fi(s,Se()):(s=new sI,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new bi(r,!0,!1):null,l=bp(t.pendingWriteTree_,e._path),c=iI(s,e,l,i?o.getNode():se.EMPTY_NODE,i);return gW(c)}function vl(t,e){return dI(e,t.syncPointTree_,null,bp(t.pendingWriteTree_,Se()))}function dI(t,e,n,r){if(xe(t.path))return hI(t,e,n,r);{const s=e.get(Se());n==null&&s!=null&&(n=fi(s,Se()));let i=[];const o=ve(t.path),l=t.operationForChild(o),c=e.children.get(o);if(c&&l){const u=n?n.getImmediateChild(o):null,d=ZR(r,o);i=i.concat(dI(l,c,u,d))}return s&&(i=i.concat(Q0(s,t,r,n))),i}}function hI(t,e,n,r){const s=e.get(Se());n==null&&s!=null&&(n=fi(s,Se()));let i=[];return e.children.inorderTraversal((o,l)=>{const c=n?n.getImmediateChild(o):null,u=ZR(r,o),d=t.operationForChild(o);d&&(i=i.concat(hI(d,l,c,u)))}),s&&(i=i.concat(Q0(s,t,r,n))),i}function fI(t,e){const n=e.query,r=Zc(t,n);return{hashFn:()=>(mW(e)||se.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?IW(t,n._path,r):RW(t,n._path);{const i=RB(s,n);return mf(t,n,null,i)}}}}function Zc(t,e){const n=Cp(e);return t.queryToTagMap.get(n)}function Cp(t){return t._path.toString()+"$"+t._queryIdentifier}function J0(t,e){return t.tagToQueryMap.get(e)}function Z0(t){const e=t.indexOf("$");return Y(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Pe(t.substr(0,e))}}function ew(t,e,n){const r=t.syncPointTree_.get(e);Y(r,"Missing sync point for query tag that we're tracking");const s=bp(t.pendingWriteTree_,e);return Q0(r,n,s,null)}function DW(t){return t.fold((e,n,r)=>{if(n&&_i(n))return[_p(n)];{let s=[];return n&&(s=oI(n)),Rt(r,(i,o)=>{s=s.concat(o)}),s}})}function vc(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(EW())(t._repo,t._path):t}function MW(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=Cp(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function OW(){return kW++}function LW(t,e,n){const r=e._path,s=Zc(t,e),i=fI(t,n),o=t.listenProvider_.startListening(vc(e),s,i.hashFn,i.onComplete),l=t.syncPointTree_.subtree(r);if(s)Y(!_i(l.value),"If we're adding a query, it shouldn't be shadowed");else{const c=l.fold((u,d,h)=>{if(!xe(u)&&d&&_i(d))return[_p(d).query];{let f=[];return d&&(f=f.concat(oI(d).map(m=>m.query))),Rt(h,(m,w)=>{f=f.concat(w)}),f}});for(let u=0;u<c.length;++u){const d=c[u];t.listenProvider_.stopListening(vc(d),Zc(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new tw(n)}node(){return this.node_}}class nw{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=et(this.path_,e);return new nw(this.syncTree_,n)}node(){return X0(this.syncTree_,this.path_)}}const FW=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},SC=function(t,e,n){if(!t||typeof t!="object")return t;if(Y(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return VW(t[".sv"],e,n);if(typeof t[".sv"]=="object")return $W(t[".sv"],e);Y(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},VW=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Y(!1,"Unexpected server value: "+t)}},$W=function(t,e,n){t.hasOwnProperty("increment")||Y(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Y(!1,"Unexpected increment value: "+r);const s=e.node();if(Y(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},pI=function(t,e,n,r){return rw(e,new nw(n,t),r)},mI=function(t,e,n){return rw(t,new tw(e),n)};function rw(t,e,n){const r=t.getPriority().val(),s=SC(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,l=SC(o.getValue(),e,n);return l!==o.getValue()||s!==o.getPriority().val()?new gt(l,ut(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new gt(s))),o.forEachChild(tt,(l,c)=>{const u=rw(c,e.getImmediateChild(l),n);u!==c&&(i=i.updateImmediateChild(l,u))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function iw(t,e){let n=e instanceof Pe?e:new Pe(e),r=t,s=ve(n);for(;s!==null;){const i=Ga(r.node.children,s)||{children:{},childCount:0};r=new sw(s,r,i),n=Oe(n),s=ve(n)}return r}function yl(t){return t.node.value}function gI(t,e){t.node.value=e,oy(t)}function vI(t){return t.node.childCount>0}function UW(t){return yl(t)===void 0&&!vI(t)}function Np(t,e){Rt(t.node.children,(n,r)=>{e(new sw(n,t,r))})}function yI(t,e,n,r){n&&!r&&e(t),Np(t,s=>{yI(s,e,!0,r)}),n&&r&&e(t)}function BW(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Pu(t){return new Pe(t.parent===null?t.name:Pu(t.parent)+"/"+t.name)}function oy(t){t.parent!==null&&zW(t.parent,t.name,t)}function zW(t,e,n){const r=UW(n),s=Br(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,oy(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,oy(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WW=/[\[\].#$\/\u0000-\u001F\u007F]/,HW=/[\[\].#$\u0000-\u001F\u007F]/,Zm=10*1024*1024,ow=function(t){return typeof t=="string"&&t.length!==0&&!WW.test(t)},xI=function(t){return typeof t=="string"&&t.length!==0&&!HW.test(t)},GW=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),xI(t)},qW=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!A0(t)||t&&typeof t=="object"&&Br(t,".sv")},KW=function(t,e,n,r){Sp(fp(t,"value"),e,n)},Sp=function(t,e,n){const r=n instanceof Pe?new uz(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Bi(r));if(typeof e=="function")throw new Error(t+"contains a function "+Bi(r)+" with contents = "+e.toString());if(A0(e))throw new Error(t+"contains "+e.toString()+" "+Bi(r));if(typeof e=="string"&&e.length>Zm/3&&pp(e)>Zm)throw new Error(t+"contains a string greater than "+Zm+" utf8 bytes "+Bi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Rt(e,(o,l)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!ow(o)))throw new Error(t+" contains an invalid key ("+o+") "+Bi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);dz(r,o),Sp(t,l,r),hz(r)}),s&&i)throw new Error(t+' contains ".value" child '+Bi(r)+" in addition to actual children.")}},YW=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const i=Kc(r);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!ow(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(cz);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&An(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},QW=function(t,e,n,r){const s=fp(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const i=[];Rt(e,(o,l)=>{const c=new Pe(o);if(Sp(s,l,et(n,c)),F0(c)===".priority"&&!qW(l))throw new Error(s+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(c)}),YW(s,i)},wI=function(t,e,n,r){if(!xI(n))throw new Error(fp(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},XW=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),wI(t,e,n)},bI=function(t,e){if(ve(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},JW=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!ow(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!GW(n))throw new Error(fp(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ep(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!V0(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function _I(t,e,n){Ep(t,n),CI(t,r=>V0(r,e))}function $n(t,e,n){Ep(t,n),CI(t,r=>An(r,e)||An(e,r))}function CI(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(e9(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function e9(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();fc&&kt("event: "+n.toString()),gl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9="repo_interrupt",n9=25;class r9{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ZW,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=af(),this.transactionQueueTree_=new sw,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function s9(t,e,n){if(t.stats_=O0(t.repoInfo_),t.forceRestClient_||DB())t.server_=new of(t.repoInfo_,(r,s,i,o)=>{EC(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>kC(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ht(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new us(t.repoInfo_,e,(r,s,i,o)=>{EC(t,r,s,i,o)},r=>{kC(t,r)},r=>{o9(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=VB(t.repoInfo_,()=>new Fz(t.stats_,t.server_)),t.infoData_=new Az,t.infoSyncTree_=new NC({startListening:(r,s,i,o)=>{let l=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(l=Iu(t.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),aw(t,"connected",!1),t.serverSyncTree_=new NC({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(l,c)=>{const u=o(l,c);$n(t.eventQueue_,r._path,u)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function i9(t){const n=t.infoData_.getNode(new Pe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function kp(t){return FW({timestamp:i9(t)})}function EC(t,e,n,r,s){t.dataUpdateCount++;const i=new Pe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const c=Kh(n,u=>ut(u));o=PW(t.serverSyncTree_,i,c,s)}else{const c=ut(n);o=uI(t.serverSyncTree_,i,c,s)}else if(r){const c=Kh(n,u=>ut(u));o=jW(t.serverSyncTree_,i,c)}else{const c=ut(n);o=Iu(t.serverSyncTree_,i,c)}let l=i;o.length>0&&(l=Ja(t,i)),$n(t.eventQueue_,l,o)}function kC(t,e){aw(t,"connected",e),e===!1&&u9(t)}function o9(t,e){Rt(e,(n,r)=>{aw(t,n,r)})}function aw(t,e,n){const r=new Pe("/.info/"+e),s=ut(n);t.infoData_.updateSnapshot(r,s);const i=Iu(t.infoSyncTree_,r,s);$n(t.eventQueue_,r,i)}function lw(t){return t.nextWriteId_++}function a9(t,e,n){const r=AW(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=ut(s).withIndex(e._queryParams.getIndex());iy(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Iu(t.serverSyncTree_,e._path,i);else{const l=Zc(t.serverSyncTree_,e);o=uI(t.serverSyncTree_,e._path,i,l)}return $n(t.eventQueue_,e._path,o),mf(t.serverSyncTree_,e,n,null,!0),i},s=>(Au(t,"get for query "+ht(e)+" failed: "+s),Promise.reject(new Error(s))))}function l9(t,e,n,r,s){Au(t,"set",{path:e.toString(),value:n,priority:r});const i=kp(t),o=ut(n,r),l=X0(t.serverSyncTree_,e),c=mI(o,l,i),u=lw(t),d=cI(t.serverSyncTree_,e,c,u,!0);Ep(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(f,m)=>{const w=f==="ok";w||Kt("set at "+e+" failed: "+f);const g=Zs(t.serverSyncTree_,u,!w);$n(t.eventQueue_,e,g),ay(t,s,f,m)});const h=uw(t,e);Ja(t,h),$n(t.eventQueue_,h,[])}function c9(t,e,n,r){Au(t,"update",{path:e.toString(),value:n});let s=!0;const i=kp(t),o={};if(Rt(n,(l,c)=>{s=!1,o[l]=pI(et(e,l),ut(c),t.serverSyncTree_,i)}),s)kt("update() called with empty data.  Don't do anything."),ay(t,r,"ok",void 0);else{const l=lw(t),c=TW(t.serverSyncTree_,e,o,l);Ep(t.eventQueue_,c),t.server_.merge(e.toString(),n,(u,d)=>{const h=u==="ok";h||Kt("update at "+e+" failed: "+u);const f=Zs(t.serverSyncTree_,l,!h),m=f.length>0?Ja(t,e):e;$n(t.eventQueue_,m,f),ay(t,r,u,d)}),Rt(n,u=>{const d=uw(t,et(e,u));Ja(t,d)}),$n(t.eventQueue_,e,[])}}function u9(t){Au(t,"onDisconnectEvents");const e=kp(t),n=af();Zv(t.onDisconnect_,Se(),(s,i)=>{const o=pI(s,i,t.serverSyncTree_,e);KR(n,s,o)});let r=[];Zv(n,Se(),(s,i)=>{r=r.concat(Iu(t.serverSyncTree_,s,i));const o=uw(t,s);Ja(t,o)}),t.onDisconnect_=af(),$n(t.eventQueue_,Se(),r)}function d9(t,e,n){let r;ve(e._path)===".info"?r=iy(t.infoSyncTree_,e,n):r=iy(t.serverSyncTree_,e,n),_I(t.eventQueue_,e._path,r)}function h9(t,e,n){let r;ve(e._path)===".info"?r=mf(t.infoSyncTree_,e,n):r=mf(t.serverSyncTree_,e,n),_I(t.eventQueue_,e._path,r)}function f9(t){t.persistentConnection_&&t.persistentConnection_.interrupt(t9)}function Au(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),kt(n,...e)}function ay(t,e,n,r){e&&gl(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function NI(t,e,n){return X0(t.serverSyncTree_,e,n)||se.EMPTY_NODE}function cw(t,e=t.transactionQueueTree_){if(e||Tp(t,e),yl(e)){const n=EI(t,e);Y(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&p9(t,Pu(e),n)}else vI(e)&&Np(e,n=>{cw(t,n)})}function p9(t,e,n){const r=n.map(u=>u.currentWriteId),s=NI(t,e,r);let i=s;const o=s.hash();for(let u=0;u<n.length;u++){const d=n[u];Y(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=Ht(e,d.path);i=i.updateChild(h,d.currentOutputSnapshotRaw)}const l=i.val(!0),c=e;t.server_.put(c.toString(),l,u=>{Au(t,"transaction put response",{path:c.toString(),status:u});let d=[];if(u==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(Zs(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Tp(t,iw(t.transactionQueueTree_,e)),cw(t,t.transactionQueueTree_),$n(t.eventQueue_,e,d);for(let f=0;f<h.length;f++)gl(h[f])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Kt("transaction at "+c.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}Ja(t,e)}},o)}function Ja(t,e){const n=SI(t,e),r=Pu(n),s=EI(t,n);return m9(t,s,r),r}function m9(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const c=e[l],u=Ht(n,c.path);let d=!1,h;if(Y(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)d=!0,h=c.abortReason,s=s.concat(Zs(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=n9)d=!0,h="maxretry",s=s.concat(Zs(t.serverSyncTree_,c.currentWriteId,!0));else{const f=NI(t,c.path,o);c.currentInputSnapshot=f;const m=e[l].update(f.val());if(m!==void 0){Sp("transaction failed: Data returned ",m,c.path);let w=ut(m);typeof m=="object"&&m!=null&&Br(m,".priority")||(w=w.updatePriority(f.getPriority()));const y=c.currentWriteId,x=kp(t),v=mI(w,f,x);c.currentOutputSnapshotRaw=w,c.currentOutputSnapshotResolved=v,c.currentWriteId=lw(t),o.splice(o.indexOf(y),1),s=s.concat(cI(t.serverSyncTree_,c.path,v,c.currentWriteId,c.applyLocally)),s=s.concat(Zs(t.serverSyncTree_,y,!0))}else d=!0,h="nodata",s=s.concat(Zs(t.serverSyncTree_,c.currentWriteId,!0))}$n(t.eventQueue_,n,s),s=[],d&&(e[l].status=2,function(f){setTimeout(f,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(h==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(h),!1,null))))}Tp(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)gl(r[l]);cw(t,t.transactionQueueTree_)}function SI(t,e){let n,r=t.transactionQueueTree_;for(n=ve(e);n!==null&&yl(r)===void 0;)r=iw(r,n),e=Oe(e),n=ve(e);return r}function EI(t,e){const n=[];return kI(t,e,n),n.sort((r,s)=>r.order-s.order),n}function kI(t,e,n){const r=yl(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Np(e,s=>{kI(t,s,n)})}function Tp(t,e){const n=yl(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,gI(e,n.length>0?n:void 0)}Np(e,r=>{Tp(t,r)})}function uw(t,e){const n=Pu(SI(t,e)),r=iw(t.transactionQueueTree_,e);return BW(r,s=>{eg(t,s)}),eg(t,r),yI(r,s=>{eg(t,s)}),n}function eg(t,e){const n=yl(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Y(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(Y(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Zs(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?gI(e,void 0):n.length=i+1,$n(t.eventQueue_,Pu(e),s);for(let o=0;o<r.length;o++)gl(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function v9(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Kt(`Invalid query segment '${n}' in query '${t}'`)}return e}const TC=function(t,e){const n=y9(t),r=n.namespace;n.domain==="firebase.com"&&ws(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ws("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||SB();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new IR(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Pe(n.pathString)}},y9=function(t){let e="",n="",r="",s="",i="",o=!0,l="https",c=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let d=t.indexOf("/");d===-1&&(d=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(d,h)),d<h&&(s=g9(t.substring(d,h)));const f=v9(t.substring(Math.min(t.length,h)));u=e.indexOf(":"),u>=0?(o=l==="https"||l==="wss",c=parseInt(e.substring(u+1),10)):u=e.length;const m=e.slice(0,u);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const w=e.indexOf(".");r=e.substring(0,w).toLowerCase(),n=e.substring(w+1),i=r}"ns"in f&&(i=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:o,scheme:l,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ht(this.snapshot.exportVal())}}class w9{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Y(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return xe(this._path)?null:F0(this._path)}get ref(){return new Ns(this._repo,this._path)}get _queryIdentifier(){const e=pC(this._queryParams),n=D0(e);return n==="{}"?"default":n}get _queryObject(){return pC(this._queryParams)}isEqual(e){if(e=un(e),!(e instanceof dw))return!1;const n=this._repo===e._repo,r=V0(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+lz(this._path)}}class Ns extends dw{constructor(e,n){super(e,n,new z0,!1)}get parent(){const e=$R(this._path);return e===null?null:new Ns(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class eu{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Pe(e),r=ly(this.ref,e);return new eu(this._node.getChild(n),r,tt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new eu(s,ly(this.ref,r),tt)))}hasChild(e){const n=new Pe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Be(t,e){return t=un(t),t._checkNotDeleted("ref"),e!==void 0?ly(t._root,e):t._root}function ly(t,e){return t=un(t),ve(t._path)===null?XW("child","path",e):wI("child","path",e),new Ns(t._repo,et(t._path,e))}function Wl(t){return bI("remove",t._path),sa(t,null)}function sa(t,e){t=un(t),bI("set",t._path),KW("set",e,t._path);const n=new Cu;return l9(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function jC(t,e){QW("update",e,t._path);const n=new Cu;return c9(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Wi(t){t=un(t);const e=new TI(()=>{}),n=new jp(e);return a9(t._repo,t,n).then(r=>new eu(r,new Ns(t._repo,t._path),t._queryParams.getIndex()))}class jp{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new x9("value",this,new eu(e.snapshotNode,new Ns(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new w9(this,e,n):null}matches(e){return e instanceof jp?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function b9(t,e,n,r,s){const i=new TI(n,void 0),o=new jp(i);return d9(t._repo,t,o),()=>h9(t._repo,t,o)}function zo(t,e,n,r){return b9(t,"value",e)}wW(Ns);SW(Ns);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9="FIREBASE_DATABASE_EMULATOR_HOST",cy={};let C9=!1;function N9(t,e,n,r){const s=e.lastIndexOf(":"),i=e.substring(0,s),o=hl(i);t.repoInfo_=new IR(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function S9(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||ws("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),kt("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=TC(i,s),l=o.repoInfo,c;typeof process<"u"&&Q1&&(c=Q1[_9]),c?(i=`http://${c}?ns=${l.namespace}`,o=TC(i,s),l=o.repoInfo):o.repoInfo.secure;const u=new OB(t.name,t.options,e);JW("Invalid Firebase Database URL",o),xe(o.path)||ws("Database URL must point to the root of a Firebase Database (not including a child path).");const d=k9(l,t,u,new MB(t,n));return new T9(d,t)}function E9(t,e){const n=cy[e];(!n||n[t.key]!==t)&&ws(`Database ${e}(${t.repoInfo_}) has already been deleted.`),f9(t),delete n[t.key]}function k9(t,e,n,r){let s=cy[e.name];s||(s={},cy[e.name]=s);let i=s[t.toURLString()];return i&&ws("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new r9(t,C9,n,r),s[t.toURLString()]=i,i}class T9{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(s9(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ns(this._repo,Se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(E9(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ws("Cannot call "+e+" on a deleted database.")}}function j9(t=Oj(),e){const n=S0(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=HV("database");r&&R9(n,...r)}return n}function R9(t,e,n,r={}){t=un(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,i=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&bo(r,i.repoInfo_.emulatorOptions))return;ws("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ws('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new eh(eh.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:GV(r.mockUserToken,t.app.options.projectId);o=new eh(l)}hl(e)&&(Tj(e),jj("Database",!0)),N9(i,s,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(t){xB(pl),qa(new _o("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return S9(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),ui(X1,J1,t),ui(X1,J1,"esm2020")}us.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};us.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};I9();var P9="firebase",A9="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ui(P9,A9,"app");const D9={apiKey:"AIzaSyAYzzwkqZjf5iWN6Pc4wSz6MYJAzAFJ0wA",authDomain:"gmae111.firebaseapp.com",projectId:"gmae111",storageBucket:"gmae111.firebasestorage.app",messagingSenderId:"223415325596",appId:"1:223415325596:web:272fd4d7aff74d33b3ee59",measurementId:"G-4TEGC1REF4",databaseURL:"https://gmae111-default-rtdb.asia-southeast1.firebasedatabase.app"},jI=Mj(D9),tg=vB(jI),ze=j9(jI),RI=p.createContext(void 0),zr=()=>{const t=p.useContext(RI);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},M9=({children:t})=>{const[e,n]=p.useState(null),[r,s]=p.useState(null),[i,o]=p.useState(!0);p.useEffect(()=>{const h=iU(tg,async f=>{if(n(f),f){const m=Be(ze,`users/${f.uid}`),w=await Wi(m);if(w.exists())s(w.val().displayName);else{const y=`Player_${f.uid.slice(0,6)}`;await sa(m,{id:f.uid,displayName:y,createdAt:Date.now(),friends:{},friendRequests:{}}),s(y)}const g=Be(ze,`users/${f.uid}/displayName`);zo(g,y=>{y.exists()&&s(y.val())})}else s(null);o(!1)});return()=>h()},[]);const l=async()=>{try{await Z8(tg)}catch(h){throw console.error("Login error:",h),h}},c=async()=>{try{await oU(tg)}catch(h){throw console.error("Logout error:",h),h}},u=async h=>{if(!e)return!1;const f=h.trim();if(f.length<2||f.length>20)return!1;try{const m=Be(ze,`users/${e.uid}`);await jC(m,{displayName:f});const w=Be(ze,`users/${e.uid}/friends`),g=await Wi(w);if(g.exists()){const y=Object.keys(g.val()),x={};y.forEach(v=>{x[`users/${v}/friends/${e.uid}/displayName`]=f}),Object.keys(x).length>0&&await jC(Be(ze),x)}return!0}catch(m){return console.error("Update displayName error:",m),!1}},d={user:e,userId:(e==null?void 0:e.uid)||null,displayName:r,loading:i,login:l,logout:c,updateDisplayName:u};return a.jsx(RI.Provider,{value:d,children:t})},hw=p.createContext({});function fw(t){const e=p.useRef(null);return e.current===null&&(e.current=t()),e.current}const pw=typeof window<"u",II=pw?p.useLayoutEffect:p.useEffect,Rp=p.createContext(null);function mw(t,e){t.indexOf(e)===-1&&t.push(e)}function gw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const bs=(t,e,n)=>n>e?e:n<t?t:n;let gf=()=>{};const _s={},PI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function AI(t){return typeof t=="object"&&t!==null}const DI=t=>/^0[^.\s]+$/u.test(t);function vw(t){let e;return()=>(e===void 0&&(e=t()),e)}const On=t=>t,O9=(t,e)=>n=>e(t(n)),Du=(...t)=>t.reduce(O9),tu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class yw{constructor(){this.subscriptions=[]}add(e){return mw(this.subscriptions,e),()=>gw(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Or=t=>t*1e3,Dn=t=>t/1e3;function MI(t,e){return e?t*(1e3/e):0}const OI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,L9=1e-7,F9=12;function V9(t,e,n,r,s){let i,o,l=0;do o=e+(n-e)/2,i=OI(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>L9&&++l<F9);return o}function Mu(t,e,n,r){if(t===e&&n===r)return On;const s=i=>V9(i,0,1,t,n);return i=>i===0||i===1?i:OI(s(i),e,r)}const LI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,FI=t=>e=>1-t(1-e),VI=Mu(.33,1.53,.69,.99),xw=FI(VI),$I=LI(xw),UI=t=>(t*=2)<1?.5*xw(t):.5*(2-Math.pow(2,-10*(t-1))),ww=t=>1-Math.sin(Math.acos(t)),BI=FI(ww),zI=LI(ww),$9=Mu(.42,0,1,1),U9=Mu(0,0,.58,1),WI=Mu(.42,0,.58,1),B9=t=>Array.isArray(t)&&typeof t[0]!="number",HI=t=>Array.isArray(t)&&typeof t[0]=="number",RC={linear:On,easeIn:$9,easeInOut:WI,easeOut:U9,circIn:ww,circInOut:zI,circOut:BI,backIn:xw,backInOut:$I,backOut:VI,anticipate:UI},z9=t=>typeof t=="string",IC=t=>{if(HI(t)){gf(t.length===4);const[e,n,r,s]=t;return Mu(e,n,r,s)}else if(z9(t))return gf(RC[t]!==void 0),RC[t];return t},bd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],PC={value:null,addProjectionMetrics:null};function W9(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){o.has(h)&&(d.schedule(h),t()),c++,h(l)}const d={schedule:(h,f=!1,m=!1)=>{const g=m&&s?n:r;return f&&o.add(h),g.has(h)||g.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(l=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),e&&PC.value&&PC.value.frameloop[e].push(c),c=0,n.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const H9=40;function GI(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=bd.reduce((b,N)=>(b[N]=W9(i,e?N:void 0),b),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:m,postRender:w}=o,g=()=>{const b=_s.useManualTiming?s.timestamp:performance.now();n=!1,_s.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(b-s.timestamp,H9),1)),s.timestamp=b,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),m.process(s),w.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(g))},y=()=>{n=!0,r=!0,s.isProcessing||t(g)};return{schedule:bd.reduce((b,N)=>{const _=o[N];return b[N]=(C,S=!1,E=!1)=>(n||y(),_.schedule(C,S,E)),b},{}),cancel:b=>{for(let N=0;N<bd.length;N++)o[bd[N]].cancel(b)},state:s,steps:o}}const{schedule:He,cancel:Ci,state:St,steps:ng}=GI(typeof requestAnimationFrame<"u"?requestAnimationFrame:On,!0);let th;function G9(){th=void 0}const rn={now:()=>(th===void 0&&rn.set(St.isProcessing||_s.useManualTiming?St.timestamp:performance.now()),th),set:t=>{th=t,queueMicrotask(G9)}},qI=t=>e=>typeof e=="string"&&e.startsWith(t),KI=qI("--"),q9=qI("var(--"),bw=t=>q9(t)?K9.test(t.split("/*")[0].trim()):!1,K9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},nu={...xl,transform:t=>bs(0,1,t)},_d={...xl,default:1},yc=t=>Math.round(t*1e5)/1e5,_w=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Y9(t){return t==null}const Q9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Cw=(t,e)=>n=>!!(typeof n=="string"&&Q9.test(n)&&n.startsWith(t)||e&&!Y9(n)&&Object.prototype.hasOwnProperty.call(n,e)),YI=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(_w);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},X9=t=>bs(0,255,t),rg={...xl,transform:t=>Math.round(X9(t))},Yi={test:Cw("rgb","red"),parse:YI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+rg.transform(t)+", "+rg.transform(e)+", "+rg.transform(n)+", "+yc(nu.transform(r))+")"};function J9(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const uy={test:Cw("#"),parse:J9,transform:Yi.transform},Ou=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ps=Ou("deg"),Lr=Ou("%"),oe=Ou("px"),Z9=Ou("vh"),eH=Ou("vw"),AC={...Lr,parse:t=>Lr.parse(t)/100,transform:t=>Lr.transform(t*100)},ia={test:Cw("hsl","hue"),parse:YI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Lr.transform(yc(e))+", "+Lr.transform(yc(n))+", "+yc(nu.transform(r))+")"},it={test:t=>Yi.test(t)||uy.test(t)||ia.test(t),parse:t=>Yi.test(t)?Yi.parse(t):ia.test(t)?ia.parse(t):uy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Yi.transform(t):ia.transform(t),getAnimatableNone:t=>{const e=it.parse(t);return e.alpha=0,it.transform(e)}},tH=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function nH(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(_w))==null?void 0:e.length)||0)+(((n=t.match(tH))==null?void 0:n.length)||0)>0}const QI="number",XI="color",rH="var",sH="var(",DC="${}",iH=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ru(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(iH,c=>(it.test(c)?(r.color.push(i),s.push(XI),n.push(it.parse(c))):c.startsWith(sH)?(r.var.push(i),s.push(rH),n.push(c)):(r.number.push(i),s.push(QI),n.push(parseFloat(c))),++i,DC)).split(DC);return{values:n,split:l,indexes:r,types:s}}function JI(t){return ru(t).values}function ZI(t){const{split:e,types:n}=ru(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const l=n[o];l===QI?i+=yc(s[o]):l===XI?i+=it.transform(s[o]):i+=s[o]}return i}}const oH=t=>typeof t=="number"?0:it.test(t)?it.getAnimatableNone(t):t;function aH(t){const e=JI(t);return ZI(t)(e.map(oH))}const Ni={test:nH,parse:JI,createTransformer:ZI,getAnimatableNone:aH};function sg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function lH({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=sg(c,l,t+1/3),i=sg(c,l,t),o=sg(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function vf(t,e){return n=>n>0?e:t}const Ke=(t,e,n)=>t+(e-t)*n,ig=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},cH=[uy,Yi,ia],uH=t=>cH.find(e=>e.test(t));function MC(t){const e=uH(t);if(!e)return!1;let n=e.parse(t);return e===ia&&(n=lH(n)),n}const OC=(t,e)=>{const n=MC(t),r=MC(e);if(!n||!r)return vf(t,e);const s={...n};return i=>(s.red=ig(n.red,r.red,i),s.green=ig(n.green,r.green,i),s.blue=ig(n.blue,r.blue,i),s.alpha=Ke(n.alpha,r.alpha,i),Yi.transform(s))},dy=new Set(["none","hidden"]);function dH(t,e){return dy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function hH(t,e){return n=>Ke(t,e,n)}function Nw(t){return typeof t=="number"?hH:typeof t=="string"?bw(t)?vf:it.test(t)?OC:mH:Array.isArray(t)?eP:typeof t=="object"?it.test(t)?OC:fH:vf}function eP(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>Nw(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function fH(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Nw(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function pH(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],l=t.values[o]??0;n[s]=l,r[i]++}return n}const mH=(t,e)=>{const n=Ni.createTransformer(e),r=ru(t),s=ru(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?dy.has(t)&&!s.values.length||dy.has(e)&&!r.values.length?dH(t,e):Du(eP(pH(r,s),s.values),n):vf(t,e)};function tP(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ke(t,e,n):Nw(t)(t,e)}const gH=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>He.update(e,n),stop:()=>Ci(e),now:()=>St.isProcessing?St.timestamp:rn.now()}},nP=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},yf=2e4;function Sw(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<yf;)e+=n,r=t.next(e);return e>=yf?1/0:e}function vH(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Sw(r),yf);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Dn(s)}}const yH=5;function rP(t,e,n){const r=Math.max(e-yH,0);return MI(n-t(r),e-r)}const Je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},og=.001;function xH({duration:t=Je.duration,bounce:e=Je.bounce,velocity:n=Je.velocity,mass:r=Je.mass}){let s,i,o=1-e;o=bs(Je.minDamping,Je.maxDamping,o),t=bs(Je.minDuration,Je.maxDuration,Dn(t)),o<1?(s=u=>{const d=u*o,h=d*t,f=d-n,m=hy(u,o),w=Math.exp(-h);return og-f/m*w},i=u=>{const h=u*o*t,f=h*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,w=Math.exp(-h),g=hy(Math.pow(u,2),o);return(-s(u)+og>0?-1:1)*((f-m)*w)/g}):(s=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-og+d*h},i=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const l=5/t,c=bH(s,i,l);if(t=Or(t),isNaN(c))return{stiffness:Je.stiffness,damping:Je.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const wH=12;function bH(t,e,n){let r=n;for(let s=1;s<wH;s++)r=r-t(r)/e(r);return r}function hy(t,e){return t*Math.sqrt(1-e*e)}const _H=["duration","bounce"],CH=["stiffness","damping","mass"];function LC(t,e){return e.some(n=>t[n]!==void 0)}function NH(t){let e={velocity:Je.velocity,stiffness:Je.stiffness,damping:Je.damping,mass:Je.mass,isResolvedFromDuration:!1,...t};if(!LC(t,CH)&&LC(t,_H))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*bs(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Je.mass,stiffness:s,damping:i}}else{const n=xH(t);e={...e,...n,mass:Je.mass},e.isResolvedFromDuration=!0}return e}function xf(t=Je.visualDuration,e=Je.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=NH({...n,velocity:-Dn(n.velocity||0)}),w=f||0,g=u/(2*Math.sqrt(c*d)),y=o-i,x=Dn(Math.sqrt(c/d)),v=Math.abs(y)<5;r||(r=v?Je.restSpeed.granular:Je.restSpeed.default),s||(s=v?Je.restDelta.granular:Je.restDelta.default);let b;if(g<1){const _=hy(x,g);b=C=>{const S=Math.exp(-g*x*C);return o-S*((w+g*x*y)/_*Math.sin(_*C)+y*Math.cos(_*C))}}else if(g===1)b=_=>o-Math.exp(-x*_)*(y+(w+x*y)*_);else{const _=x*Math.sqrt(g*g-1);b=C=>{const S=Math.exp(-g*x*C),E=Math.min(_*C,300);return o-S*((w+g*x*y)*Math.sinh(E)+_*y*Math.cosh(E))/_}}const N={calculatedDuration:m&&h||null,next:_=>{const C=b(_);if(m)l.done=_>=h;else{let S=_===0?w:0;g<1&&(S=_===0?Or(w):rP(b,_,C));const E=Math.abs(S)<=r,k=Math.abs(o-C)<=s;l.done=E&&k}return l.value=l.done?o:C,l},toString:()=>{const _=Math.min(Sw(N),yf),C=nP(S=>N.next(_*S).value,_,30);return _+"ms "+C},toTransition:()=>{}};return N}xf.applyToOptions=t=>{const e=vH(t,100,xf);return t.ease=e.ease,t.duration=Or(e.duration),t.type="keyframes",t};function fy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=E=>l!==void 0&&E<l||c!==void 0&&E>c,w=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let g=n*e;const y=h+g,x=o===void 0?y:o(y);x!==y&&(g=x-h);const v=E=>-g*Math.exp(-E/r),b=E=>x+v(E),N=E=>{const k=v(E),T=b(E);f.done=Math.abs(k)<=u,f.value=f.done?x:T};let _,C;const S=E=>{m(f.value)&&(_=E,C=xf({keyframes:[f.value,w(f.value)],velocity:rP(b,E,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:E=>{let k=!1;return!C&&_===void 0&&(k=!0,N(E),S(E)),_!==void 0&&E>=_?C.next(E-_):(!k&&N(E),f)}}}function SH(t,e,n){const r=[],s=n||_s.mix||tP,i=t.length-1;for(let o=0;o<i;o++){let l=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||On:e;l=Du(c,l)}r.push(l)}return r}function EH(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(gf(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=SH(e,r,s),c=l.length,u=d=>{if(o&&d<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=tu(t[h],t[h+1],d);return l[h](f)};return n?d=>u(bs(t[0],t[i-1],d)):u}function kH(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=tu(0,e,r);t.push(Ke(n,1,s))}}function TH(t){const e=[0];return kH(e,t.length-1),e}function jH(t,e){return t.map(n=>n*e)}function RH(t,e){return t.map(()=>e||WI).splice(0,t.length-1)}function xc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=B9(r)?r.map(IC):IC(r),i={done:!1,value:e[0]},o=jH(n&&n.length===e.length?n:TH(e),t),l=EH(o,e,{ease:Array.isArray(s)?s:RH(e,s)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const IH=t=>t!==null;function Ew(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(IH),l=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const PH={decay:fy,inertia:fy,tween:xc,keyframes:xc,spring:xf};function sP(t){typeof t.type=="string"&&(t.type=PH[t.type])}class kw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const AH=t=>t/100;class Tw extends kw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==rn.now()&&this.tick(rn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;sP(e);const{type:n=xc,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const c=n||xc;c!==xc&&typeof l[0]!="number"&&(this.mixKeyframes=Du(AH,tP(l[0],l[1])),l=[0,100]);const u=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Sw(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:w,onUpdate:g,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const x=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?x<0:x>s;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let b=this.currentTime,N=r;if(h){const E=Math.min(this.currentTime,s)/l;let k=Math.floor(E),T=E%1;!T&&E>=1&&(T=1),T===1&&k--,k=Math.min(k,h+1),!!(k%2)&&(f==="reverse"?(T=1-T,m&&(T-=m/l)):f==="mirror"&&(N=o)),b=bs(0,1,T)*l}const _=v?{done:!1,value:d[0]}:N.next(b);i&&(_.value=i(_.value));let{done:C}=_;!v&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return S&&w!==fy&&(_.value=Ew(d,this.options,y,this.speed)),g&&g(_.value),S&&this.finish(),_}then(e,n){return this.finished.then(e,n)}get duration(){return Dn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Dn(e)}get time(){return Dn(this.currentTime)}set time(e){var n;e=Or(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(rn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Dn(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=gH,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(rn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function DH(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Qi=t=>t*180/Math.PI,py=t=>{const e=Qi(Math.atan2(t[1],t[0]));return my(e)},MH={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:py,rotateZ:py,skewX:t=>Qi(Math.atan(t[1])),skewY:t=>Qi(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},my=t=>(t=t%360,t<0&&(t+=360),t),FC=py,VC=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),$C=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),OH={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:VC,scaleY:$C,scale:t=>(VC(t)+$C(t))/2,rotateX:t=>my(Qi(Math.atan2(t[6],t[5]))),rotateY:t=>my(Qi(Math.atan2(-t[2],t[0]))),rotateZ:FC,rotate:FC,skewX:t=>Qi(Math.atan(t[4])),skewY:t=>Qi(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function gy(t){return t.includes("scale")?1:0}function vy(t,e){if(!t||t==="none")return gy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=OH,s=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=MH,s=l}if(!s)return gy(e);const i=r[e],o=s[1].split(",").map(FH);return typeof i=="function"?i(o):o[i]}const LH=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return vy(n,e)};function FH(t){return parseFloat(t.trim())}const wl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bl=new Set(wl),UC=t=>t===xl||t===oe,VH=new Set(["x","y","z"]),$H=wl.filter(t=>!VH.has(t));function UH(t){const e=[];return $H.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ao={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>vy(e,"x"),y:(t,{transform:e})=>vy(e,"y")};ao.translateX=ao.x;ao.translateY=ao.y;const lo=new Set;let yy=!1,xy=!1,wy=!1;function iP(){if(xy){const t=Array.from(lo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=UH(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var l;(l=r.getValue(i))==null||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}xy=!1,yy=!1,lo.forEach(t=>t.complete(wy)),lo.clear()}function oP(){lo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(xy=!0)})}function BH(){wy=!0,oP(),iP(),wy=!1}class jw{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(lo.add(this),yy||(yy=!0,He.read(oP),He.resolveKeyframes(iP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}DH(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),lo.delete(this)}cancel(){this.state==="scheduled"&&(lo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const zH=t=>t.startsWith("--");function WH(t,e,n){zH(e)?t.style.setProperty(e,n):t.style[e]=n}const HH=vw(()=>window.ScrollTimeline!==void 0),GH={};function qH(t,e){const n=vw(t);return()=>GH[e]??n()}const aP=qH(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,BC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xl([0,.65,.55,1]),circOut:Xl([.55,0,1,.45]),backIn:Xl([.31,.01,.66,-.59]),backOut:Xl([.33,1.53,.69,.99])};function lP(t,e){if(t)return typeof t=="function"?aP()?nP(t,e):"ease-out":HI(t)?Xl(t):Array.isArray(t)?t.map(n=>lP(n,e)||BC.easeOut):BC[t]}function KH(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[e]:n};c&&(d.offset=c);const h=lP(l,s);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(d,f)}function cP(t){return typeof t=="function"&&"applyToOptions"in t}function YH({type:t,...e}){return cP(t)&&aP()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class QH extends kw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,gf(typeof e.type!="string");const u=YH(e);this.animation=KH(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=Ew(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):WH(n,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Dn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Dn(e)}get time(){return Dn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Or(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&HH()?(this.animation.timeline=e,On):n(this)}}const uP={anticipate:UI,backInOut:$I,circInOut:zI};function XH(t){return t in uP}function JH(t){typeof t.ease=="string"&&XH(t.ease)&&(t.ease=uP[t.ease])}const zC=10;class ZH extends QH{constructor(e){JH(e),sP(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new Tw({...o,autoplay:!1}),c=Or(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-zC).value,l.sample(c).value,zC),l.stop()}}const WC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ni.test(t)||t==="0")&&!t.startsWith("url("));function e7(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function t7(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=WC(s,e),l=WC(i,e);return!o||!l?!1:e7(t)||(n==="spring"||cP(n))&&r}function by(t){t.duration=0,t.type="keyframes"}const n7=new Set(["opacity","clipPath","filter","transform"]),r7=vw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function s7(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return r7()&&n&&n7.has(n)&&(n!=="transform"||!u)&&!c&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const i7=40;class o7 extends kw{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){var w;super(),this.stop=()=>{var g,y;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=rn.now();const f={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||jw;this.keyframeResolver=new m(l,(g,y,x)=>this.onKeyframesResolved(g,y,f,!x),c,u,d),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=rn.now(),t7(e,i,o,l)||((_s.instantAnimations||!c)&&(d==null||d(Ew(e,r,n))),e[0]=e[e.length-1],by(r),r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>i7?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!u&&s7(f)?new ZH({...f,element:f.motionValue.owner.current}):new Tw(f);m.finished.then(()=>this.notifyFinished()).catch(On),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),BH()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const a7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function l7(t){const e=a7.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function dP(t,e,n=1){const[r,s]=l7(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return PI(o)?parseFloat(o):o}return bw(s)?dP(s,e,n+1):s}function Rw(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const hP=new Set(["width","height","top","left","right","bottom",...wl]),c7={test:t=>t==="auto",parse:t=>t},fP=t=>e=>e.test(t),pP=[xl,oe,Lr,Ps,eH,Z9,c7],HC=t=>pP.find(fP(t));function u7(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||DI(t):!0}const d7=new Set(["brightness","contrast","saturate","opacity"]);function h7(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(_w)||[];if(!r)return t;const s=n.replace(r,"");let i=d7.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const f7=/\b([a-z-]*)\(.*?\)/gu,_y={...Ni,getAnimatableNone:t=>{const e=t.match(f7);return e?e.map(h7).join(" "):t}},GC={...xl,transform:Math.round},p7={rotate:Ps,rotateX:Ps,rotateY:Ps,rotateZ:Ps,scale:_d,scaleX:_d,scaleY:_d,scaleZ:_d,skew:Ps,skewX:Ps,skewY:Ps,distance:oe,translateX:oe,translateY:oe,translateZ:oe,x:oe,y:oe,z:oe,perspective:oe,transformPerspective:oe,opacity:nu,originX:AC,originY:AC,originZ:oe},Iw={borderWidth:oe,borderTopWidth:oe,borderRightWidth:oe,borderBottomWidth:oe,borderLeftWidth:oe,borderRadius:oe,radius:oe,borderTopLeftRadius:oe,borderTopRightRadius:oe,borderBottomRightRadius:oe,borderBottomLeftRadius:oe,width:oe,maxWidth:oe,height:oe,maxHeight:oe,top:oe,right:oe,bottom:oe,left:oe,padding:oe,paddingTop:oe,paddingRight:oe,paddingBottom:oe,paddingLeft:oe,margin:oe,marginTop:oe,marginRight:oe,marginBottom:oe,marginLeft:oe,backgroundPositionX:oe,backgroundPositionY:oe,...p7,zIndex:GC,fillOpacity:nu,strokeOpacity:nu,numOctaves:GC},m7={...Iw,color:it,backgroundColor:it,outlineColor:it,fill:it,stroke:it,borderColor:it,borderTopColor:it,borderRightColor:it,borderBottomColor:it,borderLeftColor:it,filter:_y,WebkitFilter:_y},mP=t=>m7[t];function gP(t,e){let n=mP(t);return n!==_y&&(n=Ni),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const g7=new Set(["auto","none","0"]);function v7(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!g7.has(i)&&ru(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=gP(n,s)}class y7 extends jw{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),bw(u))){const d=dP(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!hP.has(r)||e.length!==2)return;const[s,i]=e,o=HC(s),l=HC(i);if(o!==l)if(UC(o)&&UC(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else ao[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||u7(e[s]))&&r.push(s);r.length&&v7(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ao[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=ao[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function x7(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const vP=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function yP(t){return AI(t)&&"offsetHeight"in t}const qC=30,w7=t=>!isNaN(parseFloat(t));class b7{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=rn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=rn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=w7(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new yw);const r=this.events[e].add(n);return e==="change"?()=>{r(),He.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=rn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>qC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,qC);return MI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Za(t,e){return new b7(t,e)}const{schedule:Pw,cancel:WZ}=GI(queueMicrotask,!1),Gn={x:!1,y:!1};function xP(){return Gn.x||Gn.y}function _7(t){return t==="x"||t==="y"?Gn[t]?null:(Gn[t]=!0,()=>{Gn[t]=!1}):Gn.x||Gn.y?null:(Gn.x=Gn.y=!0,()=>{Gn.x=Gn.y=!1})}function wP(t,e){const n=x7(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function KC(t){return!(t.pointerType==="touch"||xP())}function C7(t,e,n={}){const[r,s,i]=wP(t,n),o=l=>{if(!KC(l))return;const{target:c}=l,u=e(c,l);if(typeof u!="function"||!c)return;const d=h=>{KC(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const bP=(t,e)=>e?t===e?!0:bP(t,e.parentElement):!1,Aw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,N7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function S7(t){return N7.has(t.tagName)||t.tabIndex!==-1}const nh=new WeakSet;function YC(t){return e=>{e.key==="Enter"&&t(e)}}function ag(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const E7=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=YC(()=>{if(nh.has(n))return;ag(n,"down");const s=YC(()=>{ag(n,"up")}),i=()=>ag(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function QC(t){return Aw(t)&&!xP()}function k7(t,e,n={}){const[r,s,i]=wP(t,n),o=l=>{const c=l.currentTarget;if(!QC(l))return;nh.add(c);const u=e(c,l),d=(m,w)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),nh.has(c)&&nh.delete(c),QC(m)&&typeof u=="function"&&u(m,{success:w})},h=m=>{d(m,c===window||c===document||n.useGlobalTarget||bP(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),yP(l)&&(l.addEventListener("focus",u=>E7(u,s)),!S7(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function _P(t){return AI(t)&&"ownerSVGElement"in t}function T7(t){return _P(t)&&t.tagName==="svg"}const Vt=t=>!!(t&&t.getVelocity),j7=[...pP,it,Ni],R7=t=>j7.find(fP(t)),Dw=p.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function XC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function I7(...t){return e=>{let n=!1;const r=t.map(s=>{const i=XC(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():XC(t[s],null)}}}}function P7(...t){return p.useCallback(I7(...t),t)}class A7 extends p.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=yP(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function D7({children:t,isPresent:e,anchorX:n,root:r}){const s=p.useId(),i=p.useRef(null),o=p.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=p.useContext(Dw),c=P7(i,t==null?void 0:t.ref);return p.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:f,right:m}=o.current;if(e||!i.current||!u||!d)return;const w=n==="left"?`left: ${f}`:`right: ${m}`;i.current.dataset.motionPopId=s;const g=document.createElement("style");l&&(g.nonce=l);const y=r??document.head;return y.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${w}px !important;
            top: ${h}px !important;
          }
        `),()=>{y.contains(g)&&y.removeChild(g)}},[e]),a.jsx(A7,{isPresent:e,childRef:i,sizeRef:o,children:p.cloneElement(t,{ref:c})})}const M7=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const u=fw(O7),d=p.useId();let h=!0,f=p.useMemo(()=>(h=!1,{id:d,initial:e,isPresent:n,custom:s,onExitComplete:m=>{u.set(m,!0);for(const w of u.values())if(!w)return;r&&r()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[n,u,r]);return i&&h&&(f={...f}),p.useMemo(()=>{u.forEach((m,w)=>u.set(w,!1))},[n]),p.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(t=a.jsx(D7,{isPresent:n,anchorX:l,root:c,children:t})),a.jsx(Rp.Provider,{value:f,children:t})};function O7(){return new Map}function CP(t=!0){const e=p.useContext(Rp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=p.useId();p.useEffect(()=>{if(t)return s(i)},[t]);const o=p.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const Cd=t=>t.key||"";function JC(t){const e=[];return p.Children.forEach(t,n=>{p.isValidElement(n)&&e.push(n)}),e}const Ip=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,d]=CP(o),h=p.useMemo(()=>JC(t),[t]),f=o&&!u?[]:h.map(Cd),m=p.useRef(!0),w=p.useRef(h),g=fw(()=>new Map),[y,x]=p.useState(h),[v,b]=p.useState(h);II(()=>{m.current=!1,w.current=h;for(let C=0;C<v.length;C++){const S=Cd(v[C]);f.includes(S)?g.delete(S):g.get(S)!==!0&&g.set(S,!1)}},[v,f.length,f.join("-")]);const N=[];if(h!==y){let C=[...h];for(let S=0;S<v.length;S++){const E=v[S],k=Cd(E);f.includes(k)||(C.splice(S,0,E),N.push(E))}return i==="wait"&&N.length&&(C=N),b(JC(C)),x(h),null}const{forceRender:_}=p.useContext(hw);return a.jsx(a.Fragment,{children:v.map(C=>{const S=Cd(C),E=o&&!u?!1:h===v||f.includes(S),k=()=>{if(g.has(S))g.set(S,!0);else return;let T=!0;g.forEach(R=>{R||(T=!1)}),T&&(_==null||_(),b(w.current),o&&(d==null||d()),r&&r())};return a.jsx(M7,{isPresent:E,initial:!m.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:E?void 0:k,anchorX:l,children:C},S)})})},NP=p.createContext({strict:!1}),ZC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},el={};for(const t in ZC)el[t]={isEnabled:e=>ZC[t].some(n=>!!e[n])};function L7(t){for(const e in t)el[e]={...el[e],...t[e]}}const F7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||F7.has(t)}let SP=t=>!wf(t);function V7(t){typeof t=="function"&&(SP=e=>e.startsWith("on")?!wf(e):t(e))}try{V7(require("@emotion/is-prop-valid").default)}catch{}function $7(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(SP(s)||n===!0&&wf(s)||!e&&!wf(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Pp=p.createContext({});function Ap(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function su(t){return typeof t=="string"||Array.isArray(t)}const Mw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ow=["initial",...Mw];function Dp(t){return Ap(t.animate)||Ow.some(e=>su(t[e]))}function EP(t){return!!(Dp(t)||t.variants)}function U7(t,e){if(Dp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||su(n)?n:void 0,animate:su(r)?r:void 0}}return t.inherit!==!1?e:{}}function B7(t){const{initial:e,animate:n}=U7(t,p.useContext(Pp));return p.useMemo(()=>({initial:e,animate:n}),[eN(e),eN(n)])}function eN(t){return Array.isArray(t)?t.join(" "):t}function tN(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Hl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(oe.test(t))t=parseFloat(t);else return t;const n=tN(t,e.target.x),r=tN(t,e.target.y);return`${n}% ${r}%`}},z7={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ni.parse(t);if(s.length>5)return r;const i=Ni.createTransformer(t),o=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+o]/=l,s[1+o]/=c;const u=Ke(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}},Cy={borderRadius:{...Hl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Hl,borderTopRightRadius:Hl,borderBottomLeftRadius:Hl,borderBottomRightRadius:Hl,boxShadow:z7};function kP(t,{layout:e,layoutId:n}){return bl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Cy[t]||t==="opacity")}const W7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},H7=wl.length;function G7(t,e,n){let r="",s=!0;for(let i=0;i<H7;i++){const o=wl[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=vP(l,Iw[o]);if(!c){s=!1;const d=W7[o]||o;r+=`${d}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Lw(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const u=e[c];if(bl.has(c)){o=!0;continue}else if(KI(c)){s[c]=u;continue}else{const d=vP(u,Iw[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(e.transform||(o||n?r.transform=G7(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const Fw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function TP(t,e,n){for(const r in e)!Vt(e[r])&&!kP(r,n)&&(t[r]=e[r])}function q7({transformTemplate:t},e){return p.useMemo(()=>{const n=Fw();return Lw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function K7(t,e){const n=t.style||{},r={};return TP(r,n,t),Object.assign(r,q7(t,e)),r}function Y7(t,e){const n={},r=K7(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Q7={offset:"stroke-dashoffset",array:"stroke-dasharray"},X7={offset:"strokeDashoffset",array:"strokeDasharray"};function J7(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?Q7:X7;t[i.offset]=oe.transform(-r);const o=oe.transform(e),l=oe.transform(n);t[i.array]=`${o} ${l}`}function jP(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},c,u,d){if(Lw(t,l,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&J7(h,s,i,o,!1)}const RP=()=>({...Fw(),attrs:{}}),IP=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Z7(t,e,n,r){const s=p.useMemo(()=>{const i=RP();return jP(i,e,IP(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};TP(i,t.style,t),s.style={...i,...s.style}}return s}const eG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vw(t){return typeof t!="string"||t.includes("-")?!1:!!(eG.indexOf(t)>-1||/[A-Z]/u.test(t))}function tG(t,e,n,{latestValues:r},s,i=!1){const l=(Vw(t)?Z7:Y7)(e,r,s,t),c=$7(e,typeof t=="string",i),u=t!==p.Fragment?{...c,...l,ref:n}:{},{children:d}=e,h=p.useMemo(()=>Vt(d)?d.get():d,[d]);return p.createElement(t,{...u,children:h})}function nN(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function $w(t,e,n,r){if(typeof e=="function"){const[s,i]=nN(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=nN(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function rh(t){return Vt(t)?t.get():t}function nG({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:rG(n,r,s,t),renderState:e()}}function rG(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=rh(i[f]);let{initial:o,animate:l}=t;const c=Dp(t),u=EP(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!Ap(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const w=$w(t,f[m]);if(w){const{transitionEnd:g,transition:y,...x}=w;for(const v in x){let b=x[v];if(Array.isArray(b)){const N=d?b.length-1:0;b=b[N]}b!==null&&(s[v]=b)}for(const v in g)s[v]=g[v]}}}return s}const PP=t=>(e,n)=>{const r=p.useContext(Pp),s=p.useContext(Rp),i=()=>nG(t,e,r,s);return n?i():fw(i)};function Uw(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(Vt(r[o])||e.style&&Vt(e.style[o])||kP(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const sG=PP({scrapeMotionValuesFromProps:Uw,createRenderState:Fw});function AP(t,e,n){const r=Uw(t,e,n);for(const s in t)if(Vt(t[s])||Vt(e[s])){const i=wl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const iG=PP({scrapeMotionValuesFromProps:AP,createRenderState:RP}),oG=Symbol.for("motionComponentSymbol");function oa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function aG(t,e,n){return p.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):oa(n)&&(n.current=r))},[e])}const Bw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lG="framerAppearId",DP="data-"+Bw(lG),MP=p.createContext({});function cG(t,e,n,r,s){var g,y;const{visualElement:i}=p.useContext(Pp),o=p.useContext(NP),l=p.useContext(Rp),c=p.useContext(Dw).reducedMotion,u=p.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=p.useContext(MP);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&uG(u.current,n,s,h);const f=p.useRef(!1);p.useInsertionEffect(()=>{d&&f.current&&d.update(n,l)});const m=n[DP],w=p.useRef(!!m&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,m))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,m)));return II(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),w.current&&d.animationState&&d.animationState.animateChanges())}),p.useEffect(()=>{d&&(!w.current&&d.animationState&&d.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,m)}),w.current=!1),d.enteringChildren=void 0)}),d}function uG(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:OP(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&oa(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function OP(t){if(t)return t.options.allowProjection!==!1?t.projection:OP(t.parent)}function lg(t,{forwardMotionProps:e=!1}={},n,r){n&&L7(n);const s=Vw(t)?iG:sG;function i(l,c){let u;const d={...p.useContext(Dw),...l,layoutId:dG(l)},{isStatic:h}=d,f=B7(l),m=s(l,h);if(!h&&pw){hG();const w=fG(d);u=w.MeasureLayout,f.visualElement=cG(t,m,d,r,w.ProjectionNode)}return a.jsxs(Pp.Provider,{value:f,children:[u&&f.visualElement?a.jsx(u,{visualElement:f.visualElement,...d}):null,tG(t,l,aG(m,f.visualElement,c),m,h,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=p.forwardRef(i);return o[oG]=t,o}function dG({layoutId:t}){const e=p.useContext(hw).id;return e&&t!==void 0?e+"-"+t:t}function hG(t,e){p.useContext(NP).strict}function fG(t){const{drag:e,layout:n}=el;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function pG(t,e){if(typeof Proxy>"u")return lg;const n=new Map,r=(i,o)=>lg(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,lg(o,void 0,t,e)),n.get(o))})}function LP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function mG({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function gG(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function cg(t){return t===void 0||t===1}function Ny({scale:t,scaleX:e,scaleY:n}){return!cg(t)||!cg(e)||!cg(n)}function zi(t){return Ny(t)||FP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function FP(t){return rN(t.x)||rN(t.y)}function rN(t){return t&&t!=="0%"}function bf(t,e,n){const r=t-n,s=e*r;return n+s}function sN(t,e,n,r,s){return s!==void 0&&(t=bf(t,s,r)),bf(t,n,r)+e}function Sy(t,e=0,n=1,r,s){t.min=sN(t.min,e,n,r,s),t.max=sN(t.max,e,n,r,s)}function VP(t,{x:e,y:n}){Sy(t.x,e.translate,e.scale,e.originPoint),Sy(t.y,n.translate,n.scale,n.originPoint)}const iN=.999999999999,oN=1.0000000000001;function vG(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&la(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,VP(t,o)),r&&zi(i.latestValues)&&la(t,i.latestValues))}e.x<oN&&e.x>iN&&(e.x=1),e.y<oN&&e.y>iN&&(e.y=1)}function aa(t,e){t.min=t.min+e,t.max=t.max+e}function aN(t,e,n,r,s=.5){const i=Ke(t.min,t.max,s);Sy(t,e,n,i,r)}function la(t,e){aN(t.x,e.x,e.scaleX,e.scale,e.originX),aN(t.y,e.y,e.scaleY,e.scale,e.originY)}function $P(t,e){return LP(gG(t.getBoundingClientRect(),e))}function yG(t,e,n){const r=$P(t,n),{scroll:s}=e;return s&&(aa(r.x,s.offset.x),aa(r.y,s.offset.y)),r}const lN=()=>({translate:0,scale:1,origin:0,originPoint:0}),ca=()=>({x:lN(),y:lN()}),cN=()=>({min:0,max:0}),lt=()=>({x:cN(),y:cN()}),Ey={current:null},UP={current:!1};function xG(){if(UP.current=!0,!!pw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ey.current=t.matches;t.addEventListener("change",e),e()}else Ey.current=!1}const wG=new WeakMap;function bG(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Vt(s))t.addValue(r,s);else if(Vt(i))t.addValue(r,Za(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Za(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const uN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _G{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=rn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,He.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Dp(n),this.isVariantNode=EP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];c[f]!==void 0&&Vt(m)&&m.set(c[f])}}mount(e){var n;this.current=e,wG.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),UP.current||xG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ey.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ci(this.notifyUpdate),Ci(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=bl.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&He.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in el){const n=el[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):lt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<uN.length;r++){const s=uN[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=bG(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Za(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(PI(r)||DI(r))?r=parseFloat(r):!R7(r)&&Ni.test(n)&&(r=gP(e,n)),this.setBaseTarget(e,Vt(r)?r.get():r)),Vt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=$w(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Vt(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new yw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Pw.render(this.render)}}class BP extends _G{constructor(){super(...arguments),this.KeyframeResolver=y7}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Vt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function zP(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function CG(t){return window.getComputedStyle(t)}class NG extends BP{constructor(){super(...arguments),this.type="html",this.renderInstance=zP}readValueFromInstance(e,n){var r;if(bl.has(n))return(r=this.projection)!=null&&r.isProjecting?gy(n):LH(e,n);{const s=CG(e),i=(KI(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return $P(e,n)}build(e,n,r){Lw(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Uw(e,n,r)}}const WP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function SG(t,e,n,r){zP(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(WP.has(s)?s:Bw(s),e.attrs[s])}class EG extends BP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=lt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(bl.has(n)){const r=mP(n);return r&&r.default||0}return n=WP.has(n)?n:Bw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return AP(e,n,r)}build(e,n,r){jP(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){SG(e,n,r,s)}mount(e){this.isSVGTag=IP(e.tagName),super.mount(e)}}const kG=(t,e)=>Vw(t)?new EG(e):new NG(e,{allowProjection:t!==p.Fragment});function Sa(t,e,n){const r=t.getProps();return $w(r,e,n!==void 0?n:r.custom,t)}const ky=t=>Array.isArray(t);function TG(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Za(n))}function jG(t){return ky(t)?t[t.length-1]||0:t}function RG(t,e){const n=Sa(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const l=jG(i[o]);TG(t,o,l)}}function IG(t){return!!(Vt(t)&&t.add)}function Ty(t,e){const n=t.getValue("willChange");if(IG(n))return n.add(e);if(!n&&_s.WillChange){const r=new _s.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function HP(t){return t.props[DP]}const PG=t=>t!==null;function AG(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(PG),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const DG={type:"spring",stiffness:500,damping:25,restSpeed:10},MG=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),OG={type:"keyframes",duration:.8},LG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},FG=(t,{keyframes:e})=>e.length>2?OG:bl.has(t)?t.startsWith("scale")?MG(e[1]):DG:LG;function VG({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const zw=(t,e,n,r={},s,i)=>o=>{const l=Rw(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Or(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};VG(l)||Object.assign(d,FG(t,d)),d.duration&&(d.duration=Or(d.duration)),d.repeatDelay&&(d.repeatDelay=Or(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(by(d),d.delay===0&&(h=!0)),(_s.instantAnimations||_s.skipAnimations)&&(h=!0,by(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!i&&e.get()!==void 0){const f=AG(d.keyframes,l);if(f!==void 0){He.update(()=>{d.onUpdate(f),d.onComplete()});return}}return l.isSync?new Tw(d):new o7(d)};function $G({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function GP(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(i=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in l){const h=t.getValue(d,t.latestValues[d]??null),f=l[d];if(f===void 0||u&&$G(u,d))continue;const m={delay:n,...Rw(i||{},d)},w=h.get();if(w!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===w&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const x=HP(t);if(x){const v=window.MotionHandoffAnimation(x,d,He);v!==null&&(m.startTime=v,g=!0)}}Ty(t,d),h.start(zw(d,h,f,t.shouldReduceMotion&&hP.has(d)?{type:!1}:m,t,g));const y=h.animation;y&&c.push(y)}return o&&Promise.all(c).then(()=>{He.update(()=>{o&&RG(t,o)})}),c}function qP(t,e,n,r=0,s=1){const i=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),o=t.size,l=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:l-i*r}function jy(t,e,n={}){var c;const r=Sa(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(GP(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return UG(t,e,u,d,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function UG(t,e,n=0,r=0,s=0,i=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(jy(c,e,{...o,delay:n+(typeof r=="function"?0:r)+qP(t.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function BG(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>jy(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=jy(t,e,n);else{const s=typeof e=="function"?Sa(t,e,n.custom):e;r=Promise.all(GP(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function KP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const zG=Ow.length;function YP(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?YP(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<zG;n++){const r=Ow[n],s=t.props[r];(su(s)||s===!1)&&(e[r]=s)}return e}const WG=[...Mw].reverse(),HG=Mw.length;function GG(t){return e=>Promise.all(e.map(({animation:n,options:r})=>BG(t,n,r)))}function qG(t){let e=GG(t),n=dN(),r=!0;const s=c=>(u,d)=>{var f;const h=Sa(t,d,c==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:w,...g}=h;u={...u,...g,...w}}return u};function i(c){e=c(t)}function o(c){const{props:u}=t,d=YP(t.parent)||{},h=[],f=new Set;let m={},w=1/0;for(let y=0;y<HG;y++){const x=WG[y],v=n[x],b=u[x]!==void 0?u[x]:d[x],N=su(b),_=x===c?v.isActive:null;_===!1&&(w=y);let C=b===d[x]&&b!==u[x]&&N;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),v.protectedKeys={...m},!v.isActive&&_===null||!b&&!v.prevProp||Ap(b)||typeof b=="boolean")continue;const S=KG(v.prevProp,b);let E=S||x===c&&v.isActive&&!C&&N||y>w&&N,k=!1;const T=Array.isArray(b)?b:[b];let R=T.reduce(s(x),{});_===!1&&(R={});const{prevResolvedValues:I={}}=v,F={...I,...R},P=z=>{E=!0,f.has(z)&&(k=!0,f.delete(z)),v.needsAnimating[z]=!0;const A=t.getValue(z);A&&(A.liveStyle=!1)};for(const z in F){const A=R[z],M=I[z];if(m.hasOwnProperty(z))continue;let j=!1;ky(A)&&ky(M)?j=!KP(A,M):j=A!==M,j?A!=null?P(z):f.add(z):A!==void 0&&f.has(z)?P(z):v.protectedKeys[z]=!0}v.prevProp=b,v.prevResolvedValues=R,v.isActive&&(m={...m,...R}),r&&t.blockInitialAnimation&&(E=!1);const $=C&&S;E&&(!$||k)&&h.push(...T.map(z=>{const A={type:x};if(typeof z=="string"&&r&&!$&&t.manuallyAnimateOnMount&&t.parent){const{parent:M}=t,j=Sa(M,z);if(M.enteringChildren&&j){const{delayChildren:W}=j.transition||{};A.delay=qP(M.enteringChildren,t,W)}}return{animation:z,options:A}}))}if(f.size){const y={};if(typeof u.initial!="boolean"){const x=Sa(t,Array.isArray(u.initial)?u.initial[0]:u.initial);x&&x.transition&&(y.transition=x.transition)}f.forEach(x=>{const v=t.getBaseTarget(x),b=t.getValue(x);b&&(b.liveStyle=!0),y[x]=v??null}),h.push({animation:y})}let g=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(h):Promise.resolve()}function l(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(c,u)}),n[c].isActive=u;const d=o(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=dN()}}}function KG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!KP(e,t):!1}function Fi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dN(){return{animate:Fi(!0),whileInView:Fi(),whileHover:Fi(),whileTap:Fi(),whileDrag:Fi(),whileFocus:Fi(),exit:Fi()}}class ji{constructor(e){this.isMounted=!1,this.node=e}update(){}}class YG extends ji{constructor(e){super(e),e.animationState||(e.animationState=qG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ap(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let QG=0;class XG extends ji{constructor(){super(...arguments),this.id=QG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const JG={animation:{Feature:YG},exit:{Feature:XG}};function iu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Lu(t){return{point:{x:t.pageX,y:t.pageY}}}const ZG=t=>e=>Aw(e)&&t(e,Lu(e));function wc(t,e,n,r){return iu(t,e,ZG(n),r)}const QP=1e-4,eq=1-QP,tq=1+QP,XP=.01,nq=0-XP,rq=0+XP;function Gt(t){return t.max-t.min}function sq(t,e,n){return Math.abs(t-e)<=n}function hN(t,e,n,r=.5){t.origin=r,t.originPoint=Ke(e.min,e.max,t.origin),t.scale=Gt(n)/Gt(e),t.translate=Ke(n.min,n.max,t.origin)-t.originPoint,(t.scale>=eq&&t.scale<=tq||isNaN(t.scale))&&(t.scale=1),(t.translate>=nq&&t.translate<=rq||isNaN(t.translate))&&(t.translate=0)}function bc(t,e,n,r){hN(t.x,e.x,n.x,r?r.originX:void 0),hN(t.y,e.y,n.y,r?r.originY:void 0)}function fN(t,e,n){t.min=n.min+e.min,t.max=t.min+Gt(e)}function iq(t,e,n){fN(t.x,e.x,n.x),fN(t.y,e.y,n.y)}function pN(t,e,n){t.min=e.min-n.min,t.max=t.min+Gt(e)}function _f(t,e,n){pN(t.x,e.x,n.x),pN(t.y,e.y,n.y)}function kn(t){return[t("x"),t("y")]}const JP=({current:t})=>t?t.ownerDocument.defaultView:null,mN=(t,e)=>Math.abs(t-e);function oq(t,e){const n=mN(t.x,e.x),r=mN(t.y,e.y);return Math.sqrt(n**2+r**2)}class ZP{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=dg(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,w=oq(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!w)return;const{point:g}=f,{timestamp:y}=St;this.history.push({...g,timestamp:y});const{onStart:x,onMove:v}=this.handlers;m||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=ug(m,this.transformPagePoint),He.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:w,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=dg(f.type==="pointercancel"?this.lastMoveEventInfo:ug(m,this.transformPagePoint),this.history);this.startEvent&&w&&w(f,x),g&&g(f,x)},!Aw(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=Lu(e),c=ug(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=St;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,dg(c,this.history)),this.removeListeners=Du(wc(this.contextWindow,"pointermove",this.handlePointerMove),wc(this.contextWindow,"pointerup",this.handlePointerUp),wc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ci(this.updatePoint)}}function ug(t,e){return e?{point:e(t.point)}:t}function gN(t,e){return{x:t.x-e.x,y:t.y-e.y}}function dg({point:t},e){return{point:t,delta:gN(t,e2(e)),offset:gN(t,aq(e)),velocity:lq(e,.1)}}function aq(t){return t[0]}function e2(t){return t[t.length-1]}function lq(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=e2(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Or(e)));)n--;if(!r)return{x:0,y:0};const i=Dn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function cq(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ke(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ke(n,t,r.max):Math.min(t,n)),t}function vN(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function uq(t,{top:e,left:n,bottom:r,right:s}){return{x:vN(t.x,n,s),y:vN(t.y,e,r)}}function yN(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function dq(t,e){return{x:yN(t.x,e.x),y:yN(t.y,e.y)}}function hq(t,e){let n=.5;const r=Gt(t),s=Gt(e);return s>r?n=tu(e.min,e.max-r,t.min):r>s&&(n=tu(t.min,t.max-s,e.min)),bs(0,1,n)}function fq(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ry=.35;function pq(t=Ry){return t===!1?t=0:t===!0&&(t=Ry),{x:xN(t,"left","right"),y:xN(t,"top","bottom")}}function xN(t,e,n){return{min:wN(t,e),max:wN(t,n)}}function wN(t,e){return typeof t=="number"?t:t[e]||0}const mq=new WeakMap;class gq{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=lt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Lu(h).point)},o=(h,f)=>{const{drag:m,dragPropagation:w,onDragStart:g}=this.getProps();if(m&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_7(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),kn(x=>{let v=this.getAxisMotionValue(x).get()||0;if(Lr.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const N=b.layout.layoutBox[x];N&&(v=Gt(N)*(parseFloat(v)/100))}}this.originPoint[x]=v}),g&&He.postRender(()=>g(h,f)),Ty(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:w,onDirectionLock:g,onDrag:y}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:x}=f;if(w&&this.currentDirection===null){this.currentDirection=vq(x),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),y&&y(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>kn(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new ZP(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:JP(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&He.postRender(()=>l(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Nd(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=cq(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&oa(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=uq(r.layoutBox,e):this.constraints=!1,this.elastic=pq(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&kn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=fq(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!oa(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=yG(r,s.root,this.visualElement.getTransformPagePoint());let o=dq(s.layout.layoutBox,i);if(n){const l=n(mG(o));this.hasMutatedConstraints=!!l,l&&(o=LP(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=kn(d=>{if(!Nd(d,n,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,w={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,w)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Ty(this.visualElement,e),r.start(zw(e,r,0,n,this.visualElement,!1))}stopAnimation(){kn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){kn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){kn(n=>{const{drag:r}=this.getProps();if(!Nd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(e[n]-Ke(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!oa(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};kn(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=hq({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),kn(o=>{if(!Nd(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Ke(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;mq.set(this.visualElement,this);const e=this.visualElement.current,n=wc(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();oa(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),He.read(r);const o=iu(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(kn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Ry,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Nd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function vq(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class yq extends ji{constructor(e){super(e),this.removeGroupControls=On,this.removeListeners=On,this.controls=new gq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||On}unmount(){this.removeGroupControls(),this.removeListeners()}}const bN=t=>(e,n)=>{t&&He.postRender(()=>t(e,n))};class xq extends ji{constructor(){super(...arguments),this.removePointerDownListener=On}onPointerDown(e){this.session=new ZP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:JP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:bN(e),onStart:bN(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&He.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=wc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const sh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let hg=!1;class wq extends p.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),hg&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),sh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,hg=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||He.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Pw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;hg=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function t2(t){const[e,n]=CP(),r=p.useContext(hw);return a.jsx(wq,{...t,layoutGroup:r,switchLayoutGroup:p.useContext(MP),isPresent:e,safeToRemove:n})}function bq(t,e,n){const r=Vt(t)?t:Za(t);return r.start(zw("",r,e,n)),r.animation}const _q=(t,e)=>t.depth-e.depth;class Cq{constructor(){this.children=[],this.isDirty=!1}add(e){mw(this.children,e),this.isDirty=!0}remove(e){gw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(_q),this.isDirty=!1,this.children.forEach(e)}}function Nq(t,e){const n=rn.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Ci(r),t(i-e))};return He.setup(r,!0),()=>Ci(r)}const n2=["TopLeft","TopRight","BottomLeft","BottomRight"],Sq=n2.length,_N=t=>typeof t=="string"?parseFloat(t):t,CN=t=>typeof t=="number"||oe.test(t);function Eq(t,e,n,r,s,i){s?(t.opacity=Ke(0,n.opacity??1,kq(r)),t.opacityExit=Ke(e.opacity??1,0,Tq(r))):i&&(t.opacity=Ke(e.opacity??1,n.opacity??1,r));for(let o=0;o<Sq;o++){const l=`border${n2[o]}Radius`;let c=NN(e,l),u=NN(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||CN(c)===CN(u)?(t[l]=Math.max(Ke(_N(c),_N(u),r),0),(Lr.test(u)||Lr.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=Ke(e.rotate||0,n.rotate||0,r))}function NN(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const kq=r2(0,.5,BI),Tq=r2(.5,.95,On);function r2(t,e,n){return r=>r<t?0:r>e?1:n(tu(t,e,r))}function SN(t,e){t.min=e.min,t.max=e.max}function Hn(t,e){SN(t.x,e.x),SN(t.y,e.y)}function EN(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function kN(t,e,n,r,s){return t-=e,t=bf(t,1/n,r),s!==void 0&&(t=bf(t,1/s,r)),t}function jq(t,e=0,n=1,r=.5,s,i=t,o=t){if(Lr.test(e)&&(e=parseFloat(e),e=Ke(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Ke(i.min,i.max,r);t===i&&(l-=e),t.min=kN(t.min,e,n,l,s),t.max=kN(t.max,e,n,l,s)}function TN(t,e,[n,r,s],i,o){jq(t,e[n],e[r],e[s],e.scale,i,o)}const Rq=["x","scaleX","originX"],Iq=["y","scaleY","originY"];function jN(t,e,n,r){TN(t.x,e,Rq,n?n.x:void 0,r?r.x:void 0),TN(t.y,e,Iq,n?n.y:void 0,r?r.y:void 0)}function RN(t){return t.translate===0&&t.scale===1}function s2(t){return RN(t.x)&&RN(t.y)}function IN(t,e){return t.min===e.min&&t.max===e.max}function Pq(t,e){return IN(t.x,e.x)&&IN(t.y,e.y)}function PN(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function i2(t,e){return PN(t.x,e.x)&&PN(t.y,e.y)}function AN(t){return Gt(t.x)/Gt(t.y)}function DN(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Aq{constructor(){this.members=[]}add(e){mw(this.members,e),e.scheduleRender()}remove(e){if(gw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Dq(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:w}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),w&&(r+=`skewY(${w}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const fg=["","X","Y","Z"],Mq=1e3;let Oq=0;function pg(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function o2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=HP(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",He,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&o2(r)}function a2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=e==null?void 0:e()){this.id=Oq++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Vq),this.nodes.forEach(zq),this.nodes.forEach(Wq),this.nodes.forEach($q)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Cq)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new yw),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=_P(o)&&!T7(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;He.read(()=>{h=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=Nq(f,250),sh.hasAnimatedSinceResize&&(sh.hasAnimatedSinceResize=!1,this.nodes.forEach(LN)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||u.getDefaultTransition()||Yq,{onLayoutAnimationStart:g,onLayoutAnimationComplete:y}=u.getProps(),x=!this.targetLayout||!i2(this.targetLayout,m),v=!h&&f;if(this.options.layoutRoot||this.resumeFrom||v||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...Rw(w,"layout"),onPlay:g,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(d,v)}else h||LN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ci(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Hq),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&o2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(MN);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ON);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Bq),this.nodes.forEach(Lq),this.nodes.forEach(Fq)):this.nodes.forEach(ON),this.clearAllSnapshots();const l=rn.now();St.delta=bs(0,1e3/60,l-St.timestamp),St.timestamp=l,St.isProcessing=!0,ng.update.process(St),ng.preRender.process(St),ng.render.process(St),St.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Pw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Uq),this.sharedNodes.forEach(Gq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,He.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){He.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Gt(this.snapshot.measuredBox.x)&&!Gt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!s2(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||zi(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Qq(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return lt();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Xq))){const{scroll:d}=this.root;d&&(aa(l.x,d.offset.x),aa(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=lt();if(Hn(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Hn(l,o),aa(l.x,h.offset.x),aa(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=lt();Hn(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&la(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),zi(d.latestValues)&&la(c,d.latestValues)}return zi(this.latestValues)&&la(c,this.latestValues),c}removeTransform(o){const l=lt();Hn(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!zi(u.latestValues))continue;Ny(u.latestValues)&&u.updateSnapshot();const d=lt(),h=u.measurePageBox();Hn(d,h),jN(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return zi(this.latestValues)&&jN(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==St.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!this.layout||!(d||h))return;this.resolvedRelativeTargetAt=St.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=lt(),this.targetWithTransforms=lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),iq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hn(this.target,this.layout.layoutBox),VP(this.target,this.targetDelta)):Hn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ny(this.parent.latestValues)||FP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),_f(this.relativeTargetOrigin,l,c),Hn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var w;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===St.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Hn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;vG(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=lt());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(EN(this.prevProjectionDelta.x,this.projectionDelta.x),EN(this.prevProjectionDelta.y,this.projectionDelta.y)),bc(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!DN(this.projectionDelta.x,this.prevProjectionDelta.x)||!DN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ca(),this.projectionDelta=ca(),this.projectionDeltaWithTransform=ca()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=ca();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=lt(),m=c?c.source:void 0,w=this.layout?this.layout.source:void 0,g=m!==w,y=this.getStack(),x=!y||y.members.length<=1,v=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(Kq));this.animationProgress=0;let b;this.mixTargetDelta=N=>{const _=N/1e3;FN(h.x,o.x,_),FN(h.y,o.y,_),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_f(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qq(this.relativeTarget,this.relativeTargetOrigin,f,_),b&&Pq(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=lt()),Hn(b,this.relativeTarget)),g&&(this.animationValues=d,Eq(d,u,this.latestValues,_,v,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Ci(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=He.update(()=>{sh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Za(0)),this.currentAnimation=bq(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Mq),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&l2(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||lt();const h=Gt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=Gt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Hn(l,c),la(l,d),bc(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Aq),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&pg("z",o,u,this.animationValues);for(let d=0;d<fg.length;d++)pg(`rotate${fg[d]}`,o,u,this.animationValues),pg(`skew${fg[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=rh(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=rh(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!zi(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=Dq(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),o.transform=h;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const w in Cy){if(d[w]===void 0)continue;const{correct:g,applyTo:y,isCSSVariable:x}=Cy[w],v=h==="none"?d[w]:g(d[w],u);if(y){const b=y.length;for(let N=0;N<b;N++)o[y[N]]=v}else x?this.options.visualElement.renderState.vars[w]=v:o[w]=v}this.options.layoutId&&(o.pointerEvents=u===this?rh(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(MN),this.root.sharedNodes.clear()}}}function Lq(t){t.updateLayout()}function Fq(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?kn(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=Gt(f);f.min=r[h].min,f.max=f.min+m}):l2(i,e.layoutBox,r)&&kn(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],m=Gt(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const l=ca();bc(l,r,e.layoutBox);const c=ca();o?bc(c,t.applyTransform(s,!0),e.measuredBox):bc(c,r,e.layoutBox);const u=!s2(l);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const w=lt();_f(w,e.layoutBox,f.layoutBox);const g=lt();_f(g,r,m.layoutBox),i2(w,g)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=w,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Vq(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function $q(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Uq(t){t.clearSnapshot()}function MN(t){t.clearMeasurements()}function ON(t){t.isLayoutDirty=!1}function Bq(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function LN(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function zq(t){t.resolveTargetDelta()}function Wq(t){t.calcProjection()}function Hq(t){t.resetSkewAndRotation()}function Gq(t){t.removeLeadSnapshot()}function FN(t,e,n){t.translate=Ke(e.translate,0,n),t.scale=Ke(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function VN(t,e,n,r){t.min=Ke(e.min,n.min,r),t.max=Ke(e.max,n.max,r)}function qq(t,e,n,r){VN(t.x,e.x,n.x,r),VN(t.y,e.y,n.y,r)}function Kq(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Yq={duration:.45,ease:[.4,0,.1,1]},$N=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),UN=$N("applewebkit/")&&!$N("chrome/")?Math.round:On;function BN(t){t.min=UN(t.min),t.max=UN(t.max)}function Qq(t){BN(t.x),BN(t.y)}function l2(t,e,n){return t==="position"||t==="preserve-aspect"&&!sq(AN(e),AN(n),.2)}function Xq(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Jq=a2({attachResizeListener:(t,e)=>iu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mg={current:void 0},c2=a2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!mg.current){const t=new Jq({});t.mount(window),t.setOptions({layoutScroll:!0}),mg.current=t}return mg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Zq={pan:{Feature:xq},drag:{Feature:yq,ProjectionNode:c2,MeasureLayout:t2}};function zN(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&He.postRender(()=>i(e,Lu(e)))}class eK extends ji{mount(){const{current:e}=this.node;e&&(this.unmount=C7(e,(n,r)=>(zN(this.node,r,"Start"),s=>zN(this.node,s,"End"))))}unmount(){}}class tK extends ji{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Du(iu(this.node.current,"focus",()=>this.onFocus()),iu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function WN(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&He.postRender(()=>i(e,Lu(e)))}class nK extends ji{mount(){const{current:e}=this.node;e&&(this.unmount=k7(e,(n,r)=>(WN(this.node,r,"Start"),(s,{success:i})=>WN(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Iy=new WeakMap,gg=new WeakMap,rK=t=>{const e=Iy.get(t.target);e&&e(t)},sK=t=>{t.forEach(rK)};function iK({root:t,...e}){const n=t||document;gg.has(n)||gg.set(n,{});const r=gg.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(sK,{root:t,...e})),r[s]}function oK(t,e,n){const r=iK(e);return Iy.set(t,n),r.observe(t),()=>{Iy.delete(t),r.unobserve(t)}}const aK={some:0,all:1};class lK extends ji{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:aK[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return oK(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(cK(e,n))&&this.startObserver()}unmount(){}}function cK({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const uK={inView:{Feature:lK},tap:{Feature:nK},focus:{Feature:tK},hover:{Feature:eK}},dK={layout:{ProjectionNode:c2,MeasureLayout:t2}},hK={...JG,...uK,...Zq,...dK},te=pG(hK,kG),$r=Object.create(null);$r.open="0";$r.close="1";$r.ping="2";$r.pong="3";$r.message="4";$r.upgrade="5";$r.noop="6";const ih=Object.create(null);Object.keys($r).forEach(t=>{ih[$r[t]]=t});const Py={type:"error",data:"parser error"},u2=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",d2=typeof ArrayBuffer=="function",h2=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Ww=({type:t,data:e},n,r)=>u2&&e instanceof Blob?n?r(e):HN(e,r):d2&&(e instanceof ArrayBuffer||h2(e))?n?r(e):HN(new Blob([e]),r):r($r[t]+(e||"")),HN=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function GN(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let vg;function fK(t,e){if(u2&&t.data instanceof Blob)return t.data.arrayBuffer().then(GN).then(e);if(d2&&(t.data instanceof ArrayBuffer||h2(t.data)))return e(GN(t.data));Ww(t,!1,n=>{vg||(vg=new TextEncoder),e(vg.encode(n))})}const qN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Jl=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<qN.length;t++)Jl[qN.charCodeAt(t)]=t;const pK=t=>{let e=t.length*.75,n=t.length,r,s=0,i,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),d=new Uint8Array(u);for(r=0;r<n;r+=4)i=Jl[t.charCodeAt(r)],o=Jl[t.charCodeAt(r+1)],l=Jl[t.charCodeAt(r+2)],c=Jl[t.charCodeAt(r+3)],d[s++]=i<<2|o>>4,d[s++]=(o&15)<<4|l>>2,d[s++]=(l&3)<<6|c&63;return u},mK=typeof ArrayBuffer=="function",Hw=(t,e)=>{if(typeof t!="string")return{type:"message",data:f2(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:gK(t.substring(1),e)}:ih[n]?t.length>1?{type:ih[n],data:t.substring(1)}:{type:ih[n]}:Py},gK=(t,e)=>{if(mK){const n=pK(t);return f2(n,e)}else return{base64:!0,data:t}},f2=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},p2="",vK=(t,e)=>{const n=t.length,r=new Array(n);let s=0;t.forEach((i,o)=>{Ww(i,!1,l=>{r[o]=l,++s===n&&e(r.join(p2))})})},yK=(t,e)=>{const n=t.split(p2),r=[];for(let s=0;s<n.length;s++){const i=Hw(n[s],e);if(r.push(i),i.type==="error")break}return r};function xK(){return new TransformStream({transform(t,e){fK(t,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(n)})}})}let yg;function Sd(t){return t.reduce((e,n)=>e+n.length,0)}function Ed(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let s=0;s<e;s++)n[s]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function wK(t,e){yg||(yg=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(o,l){for(n.push(o);;){if(r===0){if(Sd(n)<1)break;const c=Ed(n,1);i=(c[0]&128)===128,s=c[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(Sd(n)<2)break;const c=Ed(n,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(Sd(n)<8)break;const c=Ed(n,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(Py);break}s=d*Math.pow(2,32)+u.getUint32(4),r=3}else{if(Sd(n)<s)break;const c=Ed(n,s);l.enqueue(Hw(i?c:yg.decode(c),e)),r=0}if(s===0||s>t){l.enqueue(Py);break}}}})}const m2=4;function at(t){if(t)return bK(t)}function bK(t){for(var e in at.prototype)t[e]=at.prototype[e];return t}at.prototype.on=at.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};at.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};at.prototype.off=at.prototype.removeListener=at.prototype.removeAllListeners=at.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===e||r.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+t],this};at.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,e)}return this};at.prototype.emitReserved=at.prototype.emit;at.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};at.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Mp=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),In=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),_K="arraybuffer";function g2(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const CK=In.setTimeout,NK=In.clearTimeout;function Op(t,e){e.useNativeTimers?(t.setTimeoutFn=CK.bind(In),t.clearTimeoutFn=NK.bind(In)):(t.setTimeoutFn=In.setTimeout.bind(In),t.clearTimeoutFn=In.clearTimeout.bind(In))}const SK=1.33;function EK(t){return typeof t=="string"?kK(t):Math.ceil((t.byteLength||t.size)*SK)}function kK(t){let e=0,n=0;for(let r=0,s=t.length;r<s;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function v2(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function TK(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function jK(t){let e={},n=t.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class RK extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class Gw extends at{constructor(e){super(),this.writable=!1,Op(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new RK(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Hw(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=TK(e);return n.length?"?"+n:""}}class IK extends Gw{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};yK(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,vK(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=v2()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let y2=!1;try{y2=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const PK=y2;function AK(){}class DK extends IK{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class Fr extends at{constructor(e,n,r){super(),this.createRequest=e,Op(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=g2(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Fr.requestsCount++,Fr.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=AK,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Fr.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Fr.requestsCount=0;Fr.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",KN);else if(typeof addEventListener=="function"){const t="onpagehide"in In?"pagehide":"unload";addEventListener(t,KN,!1)}}function KN(){for(let t in Fr.requests)Fr.requests.hasOwnProperty(t)&&Fr.requests[t].abort()}const MK=function(){const t=x2({xdomain:!1});return t&&t.responseType!==null}();class OK extends DK{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=MK&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Fr(x2,this.uri(),e)}}function x2(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||PK))return new XMLHttpRequest}catch{}if(!e)try{return new In[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const w2=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class LK extends Gw{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=w2?{}:g2(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;Ww(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}s&&Mp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=v2()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const xg=In.WebSocket||In.MozWebSocket;class FK extends LK{createSocket(e,n,r){return w2?new xg(e,n,r):n?new xg(e,n):new xg(e)}doWrite(e,n){this.ws.send(n)}}class VK extends Gw{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=wK(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),s=xK();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const i=()=>{r.read().then(({done:l,value:c})=>{l||(this.onPacket(c),i())}).catch(l=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;this._writer.write(r).then(()=>{s&&Mp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const $K={websocket:FK,webtransport:VK,polling:OK},UK=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,BK=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ay(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let s=UK.exec(t||""),i={},o=14;for(;o--;)i[BK[o]]=s[o]||"";return n!=-1&&r!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=zK(i,i.path),i.queryKey=WK(i,i.query),i}function zK(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function WK(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}const Dy=typeof addEventListener=="function"&&typeof removeEventListener=="function",oh=[];Dy&&addEventListener("offline",()=>{oh.forEach(t=>t())},!1);class pi extends at{constructor(e,n){if(super(),this.binaryType=_K,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=Ay(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Ay(n.host).host);Op(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=jK(this.opts.query)),Dy&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},oh.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=m2,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&pi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",pi.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=EK(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Mp(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:e,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(pi.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Dy&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=oh.indexOf(this._offlineEventListener);r!==-1&&oh.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}pi.protocol=m2;class HK extends pi{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;pi.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!r)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;pi.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=n.name,this.emitReserved("upgradeError",f)}}))};function i(){r||(r=!0,d(),n.close(),n=null)}const o=h=>{const f=new Error("probe error: "+h);f.transport=n.name,i(),this.emitReserved("upgradeError",f)};function l(){o("transport closed")}function c(){o("socket closed")}function u(h){n&&h.name!==n.name&&i()}const d=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};n.once("open",s),n.once("error",o),n.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let GK=class extends HK{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>$K[s]).filter(s=>!!s)),super(e,r)}};function qK(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=Ay(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+e,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const KK=typeof ArrayBuffer=="function",YK=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,b2=Object.prototype.toString,QK=typeof Blob=="function"||typeof Blob<"u"&&b2.call(Blob)==="[object BlobConstructor]",XK=typeof File=="function"||typeof File<"u"&&b2.call(File)==="[object FileConstructor]";function qw(t){return KK&&(t instanceof ArrayBuffer||YK(t))||QK&&t instanceof Blob||XK&&t instanceof File}function ah(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(ah(t[n]))return!0;return!1}if(qw(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return ah(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&ah(t[n]))return!0;return!1}function JK(t){const e=[],n=t.data,r=t;return r.data=My(n,e),r.attachments=e.length,{packet:r,buffers:e}}function My(t,e){if(!t)return t;if(qw(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=My(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=My(t[r],e));return n}return t}function ZK(t,e){return t.data=Oy(t.data,e),delete t.attachments,t}function Oy(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Oy(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Oy(t[n],e));return t}const _2=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],eY=5;var pe;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(pe||(pe={}));class tY{constructor(e){this.replacer=e}encode(e){return(e.type===pe.EVENT||e.type===pe.ACK)&&ah(e)?this.encodeAsBinary({type:e.type===pe.EVENT?pe.BINARY_EVENT:pe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===pe.BINARY_EVENT||e.type===pe.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=JK(e),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}class Kw extends at{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===pe.BINARY_EVENT;r||n.type===pe.BINARY_ACK?(n.type=r?pe.EVENT:pe.ACK,this.reconstructor=new nY(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(qw(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(pe[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===pe.BINARY_EVENT||r.type===pe.BINARY_ACK){const i=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(i,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(i,n)}else r.nsp="/";const s=e.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(i,n+1))}if(e.charAt(++n)){const i=this.tryParse(e.substr(n));if(Kw.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case pe.CONNECT:return Cf(n);case pe.DISCONNECT:return n===void 0;case pe.CONNECT_ERROR:return typeof n=="string"||Cf(n);case pe.EVENT:case pe.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&_2.indexOf(n[0])===-1);case pe.ACK:case pe.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class nY{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=ZK(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function rY(t){return typeof t=="string"}const sY=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};function iY(t){return t===void 0||sY(t)}function Cf(t){return Object.prototype.toString.call(t)==="[object Object]"}function oY(t,e){switch(t){case pe.CONNECT:return e===void 0||Cf(e);case pe.DISCONNECT:return e===void 0;case pe.EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&_2.indexOf(e[0])===-1);case pe.ACK:return Array.isArray(e);case pe.CONNECT_ERROR:return typeof e=="string"||Cf(e);default:return!1}}function aY(t){return rY(t.nsp)&&iY(t.id)&&oY(t.type,t.data)}const lY=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Kw,Encoder:tY,get PacketType(){return pe},isPacketValid:aY,protocol:eY},Symbol.toStringTag,{value:"Module"}));function Zn(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const cY=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class C2 extends at{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Zn(e,"open",this.onopen.bind(this)),Zn(e,"packet",this.onpacket.bind(this)),Zn(e,"error",this.onerror.bind(this)),Zn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,s,i;if(cY.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:pe.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,h=n.pop();this._registerAckCallback(d,h),o.id=d}const l=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[e]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},s),o=(...l)=>{this.io.clearTimeoutFn(i),n.apply(this,l)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((r,s)=>{const i=(o,l)=>o?s(o):r(l);i.withError=!0,n.push(i),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...i)=>(this._queue[0],s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:pe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case pe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case pe.EVENT:case pe.BINARY_EVENT:this.onevent(e);break;case pe.ACK:case pe.BINARY_ACK:this.onack(e);break;case pe.DISCONNECT:this.ondisconnect();break;case pe.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:pe.ACK,id:e,data:s}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:pe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function _l(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}_l.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};_l.prototype.reset=function(){this.attempts=0};_l.prototype.setMin=function(t){this.ms=t};_l.prototype.setMax=function(t){this.max=t};_l.prototype.setJitter=function(t){this.jitter=t};class Ly extends at{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Op(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new _l({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const s=n.parser||lY;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new GK(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=Zn(n,"open",function(){r.onopen(),e&&e()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},o=Zn(n,"error",i);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),n.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Zn(e,"ping",this.onping.bind(this)),Zn(e,"data",this.ondata.bind(this)),Zn(e,"error",this.onerror.bind(this)),Zn(e,"close",this.onclose.bind(this)),Zn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Mp(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new C2(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Gl={};function lh(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=qK(t,e.path||"/socket.io"),r=n.source,s=n.id,i=n.path,o=Gl[s]&&i in Gl[s].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let c;return l?c=new Ly(r,e):(Gl[s]||(Gl[s]=new Ly(r,e)),c=Gl[s]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}Object.assign(lh,{Manager:Ly,Socket:C2,io:lh,connect:lh});const uY="https://king-s-cup-party-production.up.railway.app";class dY{constructor(){Ku(this,"socket",null);Ku(this,"listeners",new Map);Ku(this,"currentRoom",null)}connect(){var e;return(e=this.socket)!=null&&e.connected?this.socket:(this.socket=lh(uY,{transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3}),this.socket.on("connect",()=>{var n,r;console.log("Socket.IO connected:",(n=this.socket)==null?void 0:n.id),this.currentRoom&&((r=this.socket)==null||r.emit("join-room",{roomCode:this.currentRoom,playerId:""}))}),this.socket.on("disconnect",n=>{console.log("Socket.IO disconnected:",n)}),["room-changed","player-joined","player-left","player-changed","room-deleted","game-action"].forEach(n=>{var r;(r=this.socket)==null||r.on(n,s=>{const i=this.listeners.get(n);i==null||i.forEach(o=>o(s))})}),this.socket)}disconnect(){var e,n;this.currentRoom&&((e=this.socket)==null||e.emit("leave-room",{roomCode:this.currentRoom,playerId:""})),(n=this.socket)==null||n.disconnect(),this.socket=null,this.currentRoom=null}joinRoom(e,n=""){var r,s;this.connect(),this.currentRoom&&this.currentRoom!==e&&((r=this.socket)==null||r.emit("leave-room",{roomCode:this.currentRoom,playerId:n})),this.currentRoom=e,(s=this.socket)==null||s.emit("join-room",{roomCode:e,playerId:n})}leaveRoom(e,n=""){var r;(r=this.socket)==null||r.emit("leave-room",{roomCode:e,playerId:n}),this.currentRoom===e&&(this.currentRoom=null)}emitRoomUpdate(e,n){var r;(r=this.socket)==null||r.emit("room-update",{roomCode:e,update:n})}emitPlayerUpdate(e,n,r){var s;(s=this.socket)==null||s.emit("player-update",{roomCode:e,playerId:n,update:r})}emitGameAction(e,n,r){var s;(s=this.socket)==null||s.emit("game-action",{roomCode:e,action:n,payload:r})}on(e,n){return this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(n),()=>{var r;(r=this.listeners.get(e))==null||r.delete(n)}}off(e,n){var r;n?(r=this.listeners.get(e))==null||r.delete(n):this.listeners.delete(e)}isConnected(){var e;return((e=this.socket)==null?void 0:e.connected)??!1}getSocket(){return this.socket}}const Et=new dY,co={A:{value:"A",title:" 1 ",description:" 1 ",emoji:""},2:{value:"2",title:" 2 ",description:" 2 ",emoji:""},3:{value:"3",title:" 3 ",description:"3 ",emoji:""},4:{value:"4",title:" 4 ",description:"4  ",emoji:""},5:{value:"5",title:" (Buddy)",description:" 1   ",emoji:""},6:{value:"6",title:"",description:" ( , )  /",emoji:""},7:{value:"7",title:" 7",description:"  7  7  ",emoji:""},8:{value:"8",title:"",description:" ",emoji:""},9:{value:"9",title:"",description:"  1 ",emoji:""},10:{value:"10",title:"",description:"  1 ",emoji:""},J:{value:"J",title:"",description:" ",emoji:""},Q:{value:"Q",title:"",description:" ",emoji:""},K:{value:"K",title:"King !",description:" 1-3 ,  4 () !",emoji:""}},hY=["hearts","diamonds","clubs","spades"],N2=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],Fy={hearts:"",diamonds:"",clubs:"",spades:""},Vy={hearts:"text-destructive",diamonds:"text-destructive",clubs:"text-paper-foreground",spades:"text-paper-foreground"};function kd(){const t=[];for(const e of hY)for(const n of N2)t.push({value:n,suit:e,id:`${n}-${e}`});return t}function Td(t){const e=[...t];for(let n=e.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[e[n],e[r]]=[e[r],e[n]]}return e}function YN(){const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let n=0;n<6;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}const S2="https://king-s-cup-party-production.up.railway.app",fY=3*60*60*1e3,E2=!1,Nf=fY;async function k2(){try{const t=Math.floor(Nf/6e4);console.log(` Running room cleanup (max age: ${t} minutes)...`);const n=await(await fetch(`${S2}/api/cleanup-rooms`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({testMode:E2,maxAgeMs:Nf})})).json();return!n||n.ok===!1?(console.error(" cleanup-rooms returned error:",n),n):(n.deletedCount>0?console.log(` Cleaned up ${n.deletedCount} old rooms:`,n.deletedCodes):console.log(" No old rooms to clean up"),n)}catch(t){return console.error(" Error during room cleanup:",t),{ok:!1,error:t.message}}}async function Fu(){await k2()}async function pY(){try{const t=await fetch(`${S2}/api/rooms`);if(!t.ok)return console.error(" Failed to get rooms"),[];const e=await t.json(),n=Date.now(),r=(e||[]).map(s=>{const i=new Date(s.created_at).getTime(),o=n-i,l=Math.floor(o/6e4),c=Math.floor(l/60);return{...s,ageMs:o,ageMinutes:l,ageHours:c,willBeDeleted:o>Nf}});return console.log(" Room ages:",r),r}catch(t){return console.error(" Error getting rooms:",t),[]}}typeof window<"u"&&(window.debugRoomCleanup={cleanupNow:k2,getRoomsWithAge:pY,testMode:E2,maxAgeMinutes:Math.floor(Nf/6e4)});const Mt="https://king-s-cup-party-production.up.railway.app",QN=11;function wg(t){const e=Array.from({length:QN},(n,r)=>r+1).filter(n=>!t.includes(n));return e.length===0?Math.floor(Math.random()*QN)+1:e[Math.floor(Math.random()*e.length)]}function mY(){const[t,e]=p.useState(null),[n,r]=p.useState([]),[s,i]=p.useState(null),[o,l]=p.useState(!1),{toast:c}=wt();p.useEffect(()=>{const y=async()=>{if(s&&t){await fetch(`${Mt}/api/players/${s}`,{method:"DELETE"});const v=await(await fetch(`${Mt}/api/rooms/${t.id}/players`)).json();(!v||v.length===0)&&await fetch(`${Mt}/api/rooms/${t.id}`,{method:"DELETE"})}};return window.addEventListener("beforeunload",y),()=>window.removeEventListener("beforeunload",y)},[s,t]),p.useEffect(()=>{if(!(t!=null&&t.code))return;Et.joinRoom(t.code,s||"");const y=Et.on("room-changed",_=>{e(C=>C?{...C,deck:_.deck?typeof _.deck=="string"?JSON.parse(_.deck):_.deck:C.deck,current_card:_.current_card!==void 0?typeof _.current_card=="string"?JSON.parse(_.current_card):_.current_card:C.current_card,cards_remaining:_.cards_remaining??C.cards_remaining,game_started:_.game_started??C.game_started,is_active:_.is_active??C.is_active}:null)}),x=Et.on("player-joined",_=>{r(C=>C.some(S=>S.id===_.id)?C:[...C,_])}),v=Et.on("player-left",_=>{r(C=>C.filter(S=>S.id!==_.playerId))}),b=Et.on("player-changed",_=>{r(C=>C.map(S=>S.id===_.playerId?{...S,..._}:S))}),N=Et.on("room-deleted",()=>{e(null),r([]),i(null)});return()=>{y(),x(),v(),b(),N(),Et.leaveRoom(t.code,s||"")}},[t==null?void 0:t.code,s]);const u=p.useCallback(async y=>{l(!0);try{await Fu();const x=YN(),v=Td(kd()),b=crypto.randomUUID();if(!(await fetch(`${Mt}/api/rooms`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:b,code:x,host_name:y,deck:v,cards_remaining:52})})).ok)throw new Error("Failed to create room");const _=crypto.randomUUID();if(!(await fetch(`${Mt}/api/players`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:_,room_id:b,name:y,is_host:!0,avatar:wg([])})})).ok)throw new Error("Failed to create player");const S={id:b,code:x,host_name:y,is_active:!0,deck:v,current_card:null,cards_remaining:52,game_started:!1},E={id:_,room_id:b,name:y,is_host:!0,is_active:!0,avatar:1};return e(S),r([E]),i(_),c({title:"! ",description:`: ${x}`}),{...S,playerId:_}}catch(x){return c({title:"",description:x.message,variant:"destructive"}),null}finally{l(!1)}},[c]),d=p.useCallback(async(y,x,v)=>{l(!0);try{const b=await fetch(`${Mt}/api/rooms/${y.toUpperCase()}`);if(!b.ok)throw new Error(" ");const N=await b.json(),C=await(await fetch(`${Mt}/api/rooms/${N.id}/players`)).json();let S=v?(C||[]).find(T=>T.id===v):null;S||(S=(C||[]).find(T=>T.name===x));let E;if(S)E=S;else{const T=(C||[]).map(I=>I.avatar).filter(Boolean),R=crypto.randomUUID();await fetch(`${Mt}/api/players`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:R,room_id:N.id,name:x,is_host:!1,avatar:wg(T)})}),E={id:R,room_id:N.id,name:x,is_host:!1,is_active:!0,avatar:wg(T)}}e({...N,deck:typeof N.deck=="string"?JSON.parse(N.deck):N.deck||[],current_card:typeof N.current_card=="string"?JSON.parse(N.current_card):N.current_card});const k=new Map;for(const T of C||[])k.set(T.id,T);return k.set(E.id,E),r(Array.from(k.values())),i(E.id),c({title:"! ",description:` ${x}`}),{room:N,playerId:E.id}}catch(b){return c({title:"",description:b.message,variant:"destructive"}),null}finally{l(!1)}},[c]),h=p.useCallback(async()=>{if(!t)return;const y=Td(kd());await fetch(`${Mt}/api/rooms/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({game_started:!0,deck:y,cards_remaining:52,current_card:null})})},[t]),f=p.useCallback(async()=>{if(!t||t.cards_remaining===0)return;const y=[...t.deck||[]],x=y.pop();x&&await fetch(`${Mt}/api/rooms/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({deck:y,current_card:x,cards_remaining:y.length})})},[t]),m=p.useCallback(async()=>{if(!t)return;const y=Td(kd());await fetch(`${Mt}/api/rooms/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({deck:y,cards_remaining:52,current_card:null})}),c({title:"! ",description:""})},[t,c]),w=p.useCallback(async()=>{if(!s||!t)return;await fetch(`${Mt}/api/players/${s}`,{method:"DELETE"});const x=await(await fetch(`${Mt}/api/rooms/${t.id}/players`)).json();(!x||x.length===0)&&await fetch(`${Mt}/api/rooms/${t.id}`,{method:"DELETE"}),e(null),r([]),i(null)},[s,t]),g=p.useCallback(async y=>{l(!0);try{const x=YN(),v=Td(kd()),b=crypto.randomUUID();await fetch(`${Mt}/api/rooms`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:b,code:x,host_name:y,deck:v,cards_remaining:52,game_started:!0})});const N=crypto.randomUUID();await fetch(`${Mt}/api/players`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:N,room_id:b,name:y,is_host:!0,avatar:1})});const _={id:b,code:x,host_name:y,is_active:!0,deck:v,current_card:null,cards_remaining:52,game_started:!0};return e(_),r([{id:N,room_id:b,name:y,is_host:!0,is_active:!0,avatar:1}]),i(N),c({title:" Quick Start!",description:` ${x} `}),_}catch(x){return c({title:"",description:x.message,variant:"destructive"}),null}finally{l(!1)}},[c]);return{room:t,players:n,currentPlayerId:s,isLoading:o,createRoom:u,joinRoom:d,startGame:h,drawCard:f,reshuffleDeck:m,leaveRoom:w,quickStart:g}}const mn="https://king-s-cup-party-production.up.railway.app",Zr=t=>t.replace(/_/g,"-");function gY(){const t=new Map;return{from:e=>({select:(n="*")=>({eq:(r,s)=>({eq:(i,o)=>({single:async()=>{try{const l=e==="rooms"&&r==="code"?`${mn}/api/rooms/${s}`:`${mn}/api/${Zr(e)}`,c=await fetch(l);return c.ok?{data:await c.json(),error:null}:{data:null,error:new Error("Not found")}}catch(l){return{data:null,error:l}}},async then(l){const c=await this.single();l(c)}}),single:async()=>{try{const i=e==="rooms"&&r==="code"?`${mn}/api/rooms/${s}`:`${mn}/api/${Zr(e)}`,o=await fetch(i);return o.ok?{data:await o.json(),error:null}:{data:null,error:new Error("Not found")}}catch(i){return{data:null,error:i}}},async then(i){try{const l=await(await fetch(`${mn}/api/${e==="rooms"&&r==="room_id"?`rooms/${s}/players`:Zr(e)}`)).json();i({data:Array.isArray(l)?l:[l],error:null})}catch(o){i({data:[],error:o})}}}),order:()=>({async then(r){try{const i=await(await fetch(`${mn}/api/${Zr(e)}`)).json();r({data:Array.isArray(i)?i:[],error:null})}catch(s){r({data:[],error:s})}}}),async then(r){try{const i=await(await fetch(`${mn}/api/${Zr(e)}`)).json();r({data:Array.isArray(i)?i:[],error:null})}catch(s){r({data:[],error:s})}}}),insert:n=>({select:()=>({single:async()=>{try{const r=n.id||crypto.randomUUID();return(await fetch(`${mn}/api/${e==="rooms"?"rooms":"players"}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...n,id:r})})).ok?{data:{...n,id:r},error:null}:{data:null,error:new Error("Insert failed")}}catch(r){return{data:null,error:r}}}})}),update:n=>({eq:(r,s)=>({eq:(i,o)=>({async then(l){try{await fetch(`${mn}/api/${Zr(e)}/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),l({error:null})}catch(c){l({error:c})}}}),async then(i){try{await fetch(`${mn}/api/${Zr(e)}/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),i({error:null,data:null})}catch(o){i({error:o})}}})}),delete:()=>({eq:(n,r)=>({async then(s){try{await fetch(`${mn}/api/${Zr(e)}/${r}`,{method:"DELETE"}),s({error:null})}catch(i){s({error:i})}}}),in:(n,r)=>({async then(s){try{for(const i of r)await fetch(`${mn}/api/${Zr(e)}/${i}`,{method:"DELETE"});s({error:null})}catch(i){s({error:i})}}})})}),channel:e=>{const n=[];let r=null;const s=e.match(/room-([a-zA-Z0-9-]+)/);s&&(r=s[1]);const i={on:(o,l,c)=>(n.push({event:o,callback:c}),i),subscribe:o=>(r&&(Et.joinRoom(r),Et.on("room-changed",l=>{n.forEach(({callback:c})=>c({eventType:"UPDATE",new:l}))}),Et.on("player-joined",l=>{n.forEach(({callback:c})=>c({eventType:"INSERT",new:l}))}),Et.on("player-left",l=>{n.forEach(({callback:c})=>c({eventType:"DELETE",old:{id:l.playerId}}))}),Et.on("player-changed",l=>{n.forEach(({callback:c})=>c({eventType:"UPDATE",new:l}))})),o&&setTimeout(()=>o("SUBSCRIBED"),100),i)};return t.set(e,{unsubscribe:()=>{r&&Et.leaveRoom(r)}}),i},removeChannel:e=>{},functions:{invoke:async(e,n)=>{try{return{data:await(await fetch(`${mn}/api/${e.replace("-","/")}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n.body)})).json(),error:null}}catch(r){return{data:null,error:r}}}},realtime:{connect:()=>(Et.connect(),Promise.resolve())}}}const U=gY();function vY(t){return t.value==="A"?1:["10","J","Q","K"].includes(t.value)?0:parseInt(t.value)}function Bs(t){return t.reduce((n,r)=>n+vY(r),0)%10}function uo(t){if(t.length!==2)return{isPok:!1,pokValue:null};const e=Bs(t);return e===9?{isPok:!0,pokValue:9}:e===8?{isPok:!0,pokValue:8}:{isPok:!1,pokValue:null}}function ou(t){if(t.length===2){const e=uo(t);if(e.pokValue===9)return{type:"pok9",name:" 9",multiplier:2};if(e.pokValue===8)return{type:"pok8",name:" 8",multiplier:2};const n=t[0].suit===t[1].suit;if(t[0].value===t[1].value)return{type:"pair",name:"",multiplier:2};if(n)return{type:"deng",name:"",multiplier:2}}if(t.length===3){if(t[0].value===t[1].value&&t[1].value===t[2].value)return{type:"tong",name:"",multiplier:5};if(t.every(i=>["J","Q","K"].includes(i.value)))return{type:"samLeung",name:"",multiplier:3};const n=t.map(i=>i.value==="A"?1:i.value==="J"?11:i.value==="Q"?12:i.value==="K"?13:parseInt(i.value)).sort((i,o)=>i-o);if(n[1]===n[0]+1&&n[2]===n[1]+1)return{type:"straight",name:"",multiplier:3};if(t.every(i=>i.suit===t[0].suit))return{type:"flush",name:"",multiplier:3};if(t[0].value===t[1].value||t[1].value===t[2].value||t[0].value===t[2].value)return{type:"deng",name:"",multiplier:3}}return{type:"normal",name:"",multiplier:1}}function yY(t,e){const n=uo(t),r=uo(e),s=Bs(t),i=Bs(e),o=ou(t),l=ou(e);return n.isPok&&!r.isPok?{result:"player_win",playerMultiplier:o.multiplier,dealerMultiplier:1}:!n.isPok&&r.isPok?{result:"dealer_win",playerMultiplier:1,dealerMultiplier:l.multiplier}:n.isPok&&r.isPok?n.pokValue>r.pokValue?{result:"player_win",playerMultiplier:o.multiplier,dealerMultiplier:1}:n.pokValue<r.pokValue?{result:"dealer_win",playerMultiplier:1,dealerMultiplier:l.multiplier}:{result:"dealer_win",playerMultiplier:1,dealerMultiplier:1}:s>i?{result:"player_win",playerMultiplier:o.multiplier,dealerMultiplier:1}:s<i?{result:"dealer_win",playerMultiplier:1,dealerMultiplier:l.multiplier}:{result:"dealer_win",playerMultiplier:1,dealerMultiplier:1}}function jd(){const t=["hearts","diamonds","clubs","spades"],e=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],n=[];for(const r of t)for(const s of e)n.push({suit:r,value:s});return Zl(n)}function Zl(t){const e=[...t];for(let n=e.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[e[n],e[r]]=[e[r],e[n]]}return e}function T2(t){switch(t){case"hearts":return"";case"diamonds":return"";case"clubs":return"";case"spades":return""}}function j2(t){return t==="hearts"||t==="diamonds"?"text-red-500":"text-black"}function XN(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let e="";for(let n=0;n<6;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}const JN=11;function ZN(t){const e=Array.from({length:JN},(n,r)=>r+1).filter(n=>!t.includes(n));return e.length===0?Math.floor(Math.random()*JN)+1:e[Math.floor(Math.random()*e.length)]}function xY(){const[t,e]=p.useState(null),[n,r]=p.useState([]),[s,i]=p.useState(null),[o,l]=p.useState(!1),{toast:c}=wt();p.useEffect(()=>{const _=async()=>{if(s&&t){await U.from("players").delete().eq("id",s);const{data:C}=await U.from("players").select("id").eq("room_id",t.id).eq("is_active",!0);(!C||C.length===0)&&await U.from("rooms").delete().eq("id",t.id)}};return window.addEventListener("beforeunload",_),()=>{window.removeEventListener("beforeunload",_)}},[s,t]),p.useEffect(()=>{if(t!=null&&t.id)return U.channel(`pokdeng-room-${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"rooms",filter:`id=eq.${t.id}`},_=>{if(_.eventType==="UPDATE"){const C=_.new;e(S=>S?{...S,deck:C.deck||[],game_started:C.game_started,game_phase:C.game_phase||"waiting",current_player_index:C.current_player_index||0,is_active:C.is_active}:null)}}).on("postgres_changes",{event:"*",schema:"public",table:"players",filter:`room_id=eq.${t.id}`},_=>{if(_.eventType==="INSERT"){const C=_.new;let S=[];try{typeof C.cards=="string"?S=JSON.parse(C.cards):Array.isArray(C.cards)&&(S=C.cards)}catch(E){console.error("Error parsing cards:",E)}r(E=>E.some(k=>k.id===C.id)?E:(setTimeout(()=>{c({title:" ",description:`${C.name} `,duration:3e3})},0),[...E,{...C,cards:S}]))}else if(_.eventType==="DELETE"){const C=_.old;r(S=>{const E=S.find(k=>k.id===C.id);return E&&setTimeout(()=>{c({title:"",description:`${E.name} `,duration:3e3})},0),S.filter(k=>k.id!==C.id)})}else if(_.eventType==="UPDATE"){const C=_.new;let S=[];try{typeof C.cards=="string"?S=JSON.parse(C.cards):Array.isArray(C.cards)&&(S=C.cards)}catch(E){console.error("Error parsing cards:",E)}r(E=>E.map(k=>k.id===C.id?{...C,cards:S}:k))}}).subscribe(),()=>{}},[t==null?void 0:t.id,c]);const u=p.useCallback(async _=>{l(!0);try{await Fu();const C=XN(),S=Zl(jd()),E=ZN([]),{data:k,error:T}=await U.from("rooms").insert({code:C,host_name:_,deck:S,cards_remaining:52,game_type:"pokdeng",game_phase:"waiting"}).select().single();if(T)throw T;const{data:R,error:I}=await U.from("players").insert({room_id:k.id,name:_,is_host:!0,is_dealer:!0,avatar:E,player_order:0,cards:[],points:0,bet:0,has_drawn:!1}).select().single();if(I)throw I;return e({id:k.id,code:k.code,host_name:k.host_name,is_active:k.is_active,deck:k.deck,game_started:k.game_started,game_phase:k.game_phase||"waiting",current_player_index:k.current_player_index||0}),r([{...R,cards:[]}]),i(R.id),c({title:"! ",description:`: ${C}`}),{...k,playerId:R.id}}catch(C){return c({title:"",description:C.message,variant:"destructive"}),null}finally{l(!1)}},[c]),d=p.useCallback(async(_,C,S)=>{l(!0);try{const{data:E,error:k}=await U.from("rooms").select().eq("code",_.toUpperCase()).eq("is_active",!0).eq("game_type","pokdeng").single();if(k||!E)throw new Error(" ");const{data:T}=await U.from("players").select().eq("room_id",E.id).eq("is_active",!0);let R=S?(T||[]).find($=>$.id===S):null;if(!R){const $=(T||[]).filter(V=>V.name===C);if($.length>0&&(R=$[0],console.log("Found player with same name, reusing:",R.id),$.length>1)){const V=$.slice(1).map(z=>z.id);await U.from("players").delete().in("id",V)}}let I;if(R)I=R,console.log("Session recovery: found existing player",I.id);else{if(E.game_started)throw new Error(" ");if(((T==null?void 0:T.length)||0)>=8)throw new Error(" ( 8 )");const $=(T||[]).map(M=>M.avatar).filter(Boolean),V=ZN($),{data:z,error:A}=await U.from("players").insert({room_id:E.id,name:C,is_host:!1,avatar:V,is_dealer:!1,player_order:(T==null?void 0:T.length)||0,cards:[],points:0,bet:0,has_drawn:!1}).select().single();if(A)throw A;I=z}e({id:E.id,code:E.code,host_name:E.host_name,is_active:E.is_active,deck:E.deck,game_started:E.game_started,game_phase:E.game_phase||"waiting",current_player_index:E.current_player_index||0});const F=$=>$.map(V=>{let z=[];try{typeof V.cards=="string"?z=JSON.parse(V.cards):Array.isArray(V.cards)&&(z=V.cards)}catch(A){console.error("Error parsing cards for player:",V.name,A)}return{...V,cards:z}}),P=new Map;for(const $ of T||[])P.set($.id,$);return P.has(I.id)||P.set(I.id,I),r(F(Array.from(P.values()))),i(I.id),c({title:"! ",description:` ${C}`}),{room:E,playerId:I.id}}catch(E){return c({title:"",description:E.message,variant:"destructive"}),null}finally{l(!1)}},[c]),h=p.useCallback(async()=>{if(!t||n.length<2)return;const C=[...Zl(jd())];await U.from("rooms").update({game_started:!0,deck:C,game_phase:"dealing",current_player_index:0}).eq("id",t.id);for(let S=0;S<n.length;S++){const E=C.pop();await U.from("players").update({cards:[E],points:Bs([E])}).eq("id",n[S].id),await new Promise(k=>setTimeout(k,500))}for(let S=0;S<n.length;S++){const E=n[S].cards.length>0?[...n[S].cards,C.pop()]:[C.pop(),C.pop()],k=Bs(E);await U.from("players").update({cards:E,points:k,has_drawn:!1,result:null,multiplier:1}).eq("id",n[S].id),await new Promise(T=>setTimeout(T,500))}await U.from("rooms").update({deck:C,game_phase:"drawing"}).eq("id",t.id),c({title:" !",description:""})},[t,n,c]),f=p.useCallback(async()=>{if(!t||!s)return;const _=n.find(I=>I.id===s);if(!_||_.has_drawn||_.cards.length>=3)return;const C=[...t.deck];if(C.length===0)return;const S=C.pop(),E=[..._.cards,S],k=Bs(E);await U.from("rooms").update({deck:C}).eq("id",t.id),await U.from("players").update({cards:E,points:k,has_drawn:!0}).eq("id",s);const T=n.filter(I=>!I.is_dealer),R=T.findIndex(I=>I.id===s);R<T.length-1?await U.from("rooms").update({current_player_index:R+1}).eq("id",t.id):await U.from("rooms").update({game_phase:"showdown"}).eq("id",t.id)},[t,s,n]),m=p.useCallback(async()=>{if(!t||!s)return;const _=n.find(E=>E.id===s);if(!_||_.has_drawn)return;await U.from("players").update({has_drawn:!0}).eq("id",s);const C=n.filter(E=>!E.is_dealer),S=C.findIndex(E=>E.id===s);S<C.length-1?await U.from("rooms").update({current_player_index:S+1}).eq("id",t.id):await U.from("rooms").update({game_phase:"showdown"}).eq("id",t.id)},[t,s,n]),w=p.useCallback(async()=>{if(!t||!s)return;const _=n.find(T=>T.is_dealer);if(!_||_.id!==s)return;const C=[...t.deck];if(C.length===0||_.cards.length>=3)return;const S=C.pop(),E=[..._.cards,S],k=Bs(E);await U.from("rooms").update({deck:C}).eq("id",t.id),await U.from("players").update({cards:E,points:k,has_drawn:!0}).eq("id",_.id)},[t,s,n]),g=p.useCallback(async()=>{if(!t||!s)return;const _=n.find(C=>C.is_dealer);!_||_.id!==s||_.has_drawn||await U.from("players").update({has_drawn:!0}).eq("id",_.id)},[t,s,n]),y=p.useCallback(async()=>{if(!t)return;const _=n.find(S=>S.is_dealer);if(!_)return;const C=n.map(S=>{if(S.is_dealer)return{id:S.id,result:null,multiplier:1};const E=yY(S.cards,_.cards);return{id:S.id,result:E.result==="player_win"?"player_win":"dealer_win",multiplier:E.playerMultiplier}});for(const S of C)await U.from("players").update({result:S.result,multiplier:S.multiplier}).eq("id",S.id);await U.from("rooms").update({game_phase:"ended"}).eq("id",t.id),c({title:" !",description:""})},[t,n,c]),x=p.useCallback(async()=>{if(!t)return;const C=[...Zl(jd())],S=[...n].sort((R,I)=>R.player_order-I.player_order),k=(S.findIndex(R=>R.is_dealer)+1)%S.length,T=n.map(R=>{const I=[C.pop(),C.pop()],F=Bs(I),P=R.id===S[k].id;return{id:R.id,cards:I,points:F,has_drawn:!1,result:null,multiplier:1,is_dealer:P}});await U.from("rooms").update({deck:C,game_phase:"drawing",current_player_index:0}).eq("id",t.id);for(const R of T)await U.from("players").update({cards:R.cards,points:R.points,has_drawn:R.has_drawn,result:R.result,multiplier:R.multiplier,is_dealer:R.is_dealer}).eq("id",R.id);c({title:" !",description:""})},[t,n,c]),v=p.useCallback(async()=>{if(!s||!t)return;await U.from("players").delete().eq("id",s);const{data:_}=await U.from("players").select("id").eq("room_id",t.id).eq("is_active",!0);(!_||_.length===0)&&await U.from("rooms").delete().eq("id",t.id),e(null),r([]),i(null)},[s,t]),b=p.useCallback(async(_,C=!1)=>{l(!0);try{const S=XN(),E=Zl(jd()),{data:k,error:T}=await U.from("rooms").insert({code:S,host_name:_,deck:E,cards_remaining:52,game_type:"pokdeng",game_phase:"waiting",game_started:!1}).select().single();if(T)throw T;if(C)return e({id:k.id,code:k.code,host_name:k.host_name,is_active:k.is_active,deck:k.deck,game_started:k.game_started,game_phase:k.game_phase||"waiting",current_player_index:0}),r([]),i(null),c({title:" LIVE Mode!",description:` ${S}  - `}),k;const{data:R,error:I}=await U.from("players").insert({room_id:k.id,name:_,is_host:!0,is_dealer:!0,player_order:0,cards:[]}).select().single();if(I)throw I;return e({id:k.id,code:k.code,host_name:k.host_name,is_active:k.is_active,deck:k.deck,game_started:k.game_started,game_phase:k.game_phase||"waiting",current_player_index:0}),r([{...R,cards:[]}]),i(R.id),c({title:" Quick Start!",description:` ${S} `}),k}catch(S){return c({title:"",description:S.message,variant:"destructive"}),null}finally{l(!1)}},[c]),N=p.useCallback(async _=>{if(t)try{await U.from("players").update({is_dealer:!1}).eq("room_id",t.id).eq("is_dealer",!0),await U.from("players").update({is_dealer:!0}).eq("id",_),c({title:" ",duration:2e3})}catch(C){console.error("Error setting dealer:",C),c({title:" ",variant:"destructive",duration:3e3})}},[t,c]);return{room:t,players:n,currentPlayerId:s,isLoading:o,createRoom:u,joinRoom:d,startGame:h,drawCard:f,standCard:m,dealerDraw:w,dealerStand:g,showdown:y,nextRound:x,leaveRoom:v,quickStart:b,setDealer:N}}const Sf=[{id:1,category:"",word_civilian:"",word_undercover:""},{id:2,category:"",word_civilian:"",word_undercover:""},{id:3,category:"",word_civilian:"",word_undercover:""},{id:4,category:"",word_civilian:"",word_undercover:""},{id:5,category:"",word_civilian:"",word_undercover:""},{id:6,category:"",word_civilian:"",word_undercover:""},{id:7,category:"",word_civilian:"",word_undercover:""},{id:8,category:"",word_civilian:"",word_undercover:""},{id:9,category:"",word_civilian:"",word_undercover:""},{id:10,category:"",word_civilian:"",word_undercover:""},{id:11,category:"",word_civilian:"",word_undercover:""},{id:12,category:"",word_civilian:"",word_undercover:""},{id:13,category:"",word_civilian:"",word_undercover:""},{id:14,category:"",word_civilian:"",word_undercover:""},{id:15,category:"",word_civilian:"",word_undercover:""},{id:16,category:"",word_civilian:"",word_undercover:""},{id:17,category:"",word_civilian:"",word_undercover:""},{id:18,category:"",word_civilian:"",word_undercover:""},{id:19,category:"",word_civilian:"",word_undercover:""},{id:20,category:"",word_civilian:"",word_undercover:""},{id:21,category:"",word_civilian:"",word_undercover:""},{id:22,category:"",word_civilian:"",word_undercover:""},{id:23,category:"",word_civilian:"",word_undercover:""},{id:24,category:"",word_civilian:"",word_undercover:""},{id:25,category:"",word_civilian:"",word_undercover:""},{id:26,category:"",word_civilian:"",word_undercover:""},{id:27,category:"",word_civilian:"",word_undercover:""},{id:28,category:"",word_civilian:"",word_undercover:""},{id:29,category:"",word_civilian:"",word_undercover:""},{id:30,category:"",word_civilian:"",word_undercover:""},{id:31,category:"",word_civilian:"",word_undercover:""},{id:32,category:"",word_civilian:"",word_undercover:""},{id:33,category:"",word_civilian:"",word_undercover:""},{id:34,category:"",word_civilian:"",word_undercover:""},{id:35,category:"",word_civilian:"",word_undercover:""},{id:36,category:"",word_civilian:"",word_undercover:""},{id:37,category:"",word_civilian:"",word_undercover:""},{id:38,category:"",word_civilian:"",word_undercover:""},{id:39,category:"18+",word_civilian:"",word_undercover:""},{id:40,category:"18+",word_civilian:"",word_undercover:""},{id:41,category:"18+",word_civilian:"",word_undercover:""},{id:42,category:"18+",word_civilian:"",word_undercover:""}];function wY(t){return t<=4||t<=6?1:(t<=8,2)}function bY(t){let e=Sf;return t&&t!==""&&(e=Sf.filter(n=>n.category===t)),e[Math.floor(Math.random()*e.length)]}function _Y(t,e,n=!1){const r=wY(t.length),s=n&&t.length>=5?1:0,i=new Set;for(;i.size<r;)i.add(Math.floor(Math.random()*t.length));const o=new Set;if(s>0)for(;o.size<s;){const l=Math.floor(Math.random()*t.length);i.has(l)||o.add(l)}return t.map((l,c)=>{let u="CIVILIAN",d=e.word_civilian;return i.has(c)?(u="UNDERCOVER",d=e.word_undercover):o.has(c)&&(u="MR_WHITE",d="???"),{id:l.id,name:l.name,avatar:l.avatar,role:u,word:d,is_alive:!0,vote_count:0,has_voted:!1,is_host:l.is_host}})}function CY(t){const e=t.filter(s=>s.is_alive),n=e.filter(s=>s.role==="UNDERCOVER"),r=e.filter(s=>s.role==="CIVILIAN"||s.role==="MR_WHITE");return n.length>=r.length?{isGameOver:!0,winner:"UNDERCOVER",reason:"! "}:n.length===0?{isGameOver:!0,winner:"CIVILIAN",reason:" ! "}:{isGameOver:!1,winner:null,reason:""}}function NY(t){const e=t.filter(s=>s.is_alive);if(e.length===0)return null;const n=Math.max(...e.map(s=>s.vote_count));if(n===0)return null;const r=e.filter(s=>s.vote_count===n);return r[Math.floor(Math.random()*r.length)]}function R2(){const t=new Set(Sf.map(e=>e.category));return["",...Array.from(t)]}let tl=[],SY=1e3;function Rd(){return[...Sf,...tl]}function EY(t){const e={...t,id:SY++};return tl.push(e),e}function kY(t){if(t.id>=1e3){const e=tl.findIndex(n=>n.id===t.id);e!==-1&&(tl[e]=t)}}function TY(t){t>=1e3&&(tl=tl.filter(e=>e.id!==t))}function jY(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let e="";for(let n=0;n<6;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}const eS=15;function tS(t){const e=Array.from({length:eS},(n,r)=>r+1).filter(n=>!t.includes(n));return e.length===0?Math.floor(Math.random()*eS)+1:e[Math.floor(Math.random()*e.length)]}function RY(){const[t,e]=p.useState(null),[n,r]=p.useState([]),[s,i]=p.useState(null),[o,l]=p.useState(!1),{toast:c}=wt();p.useEffect(()=>{const N=async()=>{if(s&&t){await U.from("players").delete().eq("id",s);const{data:_}=await U.from("players").select("id").eq("room_id",t.id).eq("is_active",!0);(!_||_.length===0)&&await U.from("rooms").delete().eq("id",t.id)}};return window.addEventListener("beforeunload",N),()=>{window.removeEventListener("beforeunload",N)}},[s,t]),p.useEffect(()=>{if(t!=null&&t.id)return U.channel(`undercover-room-${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"rooms",filter:`id=eq.${t.id}`},N=>{if(N.eventType==="UPDATE"){const _=N.new;e(C=>C?{...C,game_phase:_.game_phase||"WAITING",current_turn_index:_.current_player_index||0,is_active:_.is_active,vocabulary:_.current_card||null,round:_.cards_remaining||1,timer_seconds:_.timer_seconds||30,include_mr_white:_.include_mr_white||!1,selected_category:_.selected_category||""}:null)}}).on("postgres_changes",{event:"*",schema:"public",table:"players",filter:`room_id=eq.${t.id}`},N=>{if(N.eventType==="INSERT"){const _=N.new;r(C=>C.some(S=>S.id===_.id)?C:(setTimeout(()=>{c({title:" ",description:`${_.name} `,duration:3e3})},0),[...C,{id:_.id,name:_.name,avatar:_.avatar,role:_.role||"CIVILIAN",word:_.word||"",is_alive:_.is_alive??!0,vote_count:_.vote_count||0,has_voted:_.has_voted||!1,voted_for:_.voted_for,is_host:_.is_host}]))}else if(N.eventType==="DELETE"){const _=N.old;console.log("DELETE event received for player:",_.id,_.name),r(C=>{const S=C.find(k=>k.id===_.id);S?(console.log("Removing player from list:",S.name),setTimeout(()=>{c({title:"",description:`${S.name} `,duration:3e3})},0)):console.log("Player not found in current list, ID:",_.id);const E=C.filter(k=>k.id!==_.id);return console.log("Players after filter:",E.length,"players"),E})}else if(N.eventType==="UPDATE"){const _=N.new;r(C=>C.map(S=>S.id===_.id?{...S,role:_.role||S.role,word:_.word||S.word,is_alive:_.is_alive??S.is_alive,vote_count:_.vote_count??S.vote_count,has_voted:_.has_voted??S.has_voted,voted_for:_.voted_for}:S))}}).subscribe(),()=>{}},[t==null?void 0:t.id,c]);const u=p.useCallback(async N=>{l(!0);try{await Fu();const _=jY(),C=tS([]),{data:S,error:E}=await U.from("rooms").insert({code:_,host_name:N,game_type:"undercover",game_phase:"WAITING",cards_remaining:1}).select().single();if(E)throw E;const{data:k,error:T}=await U.from("players").insert({room_id:S.id,name:N,is_host:!0,avatar:C,is_alive:!0,vote_count:0,has_voted:!1}).select().single();if(T)throw T;return e({id:S.id,code:S.code,host_name:S.host_name,is_active:S.is_active,game_phase:"WAITING",current_turn_index:0,vocabulary:null,round:1,timer_seconds:30,include_mr_white:!1,selected_category:""}),r([{id:k.id,name:k.name,avatar:k.avatar,role:"CIVILIAN",word:"",is_alive:!0,vote_count:0,has_voted:!1,is_host:!0}]),i(k.id),c({title:"!",description:`: ${_}`}),{...S,playerId:k.id}}catch(_){return c({title:"",description:_.message,variant:"destructive"}),null}finally{l(!1)}},[c]),d=p.useCallback(async(N,_,C)=>{l(!0);try{const{data:S,error:E}=await U.from("rooms").select("*").eq("code",N.toUpperCase()).eq("is_active",!0).single();if(E)throw new Error("");const{data:k}=await U.from("players").select("*").eq("room_id",S.id).eq("is_active",!0);let T=C?(k||[]).find(P=>P.id===C):null;if(!T){const P=(k||[]).filter($=>$.name===_);if(P.length>0&&(T=P[0],console.log("Found player with same name, reusing:",T.id),P.length>1)){const $=P.slice(1).map(V=>V.id);console.log("Cleaning up duplicate players:",$),await U.from("players").delete().in("id",$)}}let R;if(T)R=T,console.log("Session recovery: found existing player",R.id,"is_host:",R.is_host);else{if(S.game_phase!=="WAITING")throw new Error(" ");const P=(k||[]).map(A=>A.avatar),$=tS(P),{data:V,error:z}=await U.from("players").insert({room_id:S.id,name:_,is_host:!1,avatar:$,is_alive:!0,vote_count:0,has_voted:!1}).select().single();if(z)throw z;R=V}e({id:S.id,code:S.code,host_name:S.host_name,is_active:S.is_active,game_phase:S.game_phase||"WAITING",current_turn_index:S.current_player_index||0,vocabulary:S.current_card||null,round:S.cards_remaining||1,timer_seconds:S.timer_seconds||30,include_mr_white:S.include_mr_white||!1,selected_category:S.selected_category||""});const I=new Map;for(const P of k||[])I.set(P.id,P);I.has(R.id)||I.set(R.id,R);const F=Array.from(I.values()).map(P=>({id:P.id,name:P.name,avatar:P.avatar,role:P.role||"CIVILIAN",word:P.word||"",is_alive:P.is_alive??!0,vote_count:P.vote_count||0,has_voted:P.has_voted||!1,is_host:P.is_host}));return console.log("All players after join:",F.map(P=>({name:P.name,is_host:P.is_host}))),r(F),i(R.id),c({title:"!",description:` ${_}`}),{room:S,playerId:R.id}}catch(S){return c({title:"",description:S.message,variant:"destructive"}),null}finally{l(!1)}},[c]),h=p.useCallback(async(N="",_=!1)=>{if(console.log("startGame called with:",{category:N,includeMrWhite:_,room:t,playersCount:n.length}),!t||n.length<4){c({title:"",description:" 4 ",variant:"destructive"});return}try{const C=bY(N);console.log("Selected vocabulary:",C);const S=_Y(n.map(k=>({id:k.id,name:k.name,avatar:k.avatar,is_host:k.is_host})),C,_);console.log("Assigned roles:",S);for(const k of S){const{error:T}=await U.from("players").update({role:k.role,word:k.word,is_alive:!0,vote_count:0,has_voted:!1}).eq("id",k.id);if(T)throw console.error("Error updating player:",T),T}console.log("Players updated successfully");const{error:E}=await U.from("rooms").update({game_phase:"REVEAL_WORD",current_card:C,current_player_index:0,cards_remaining:1,game_started:!0}).eq("id",t.id);if(E)throw console.error("Error updating room:",E),E;console.log("Room updated successfully"),r(S),c({title:" !",description:""})}catch(C){console.error("Error starting game:",C),c({title:"",description:" ",variant:"destructive"})}},[t,n,c]),f=p.useCallback(async()=>{t&&await U.from("rooms").update({game_phase:"DESCRIBE",current_player_index:0}).eq("id",t.id)},[t]),m=p.useCallback(async()=>{if(!t)return;const N=n.filter(C=>C.is_alive),_=(t.current_turn_index+1)%N.length;await U.from("rooms").update({current_player_index:_}).eq("id",t.id)},[t,n]),w=p.useCallback(async()=>{if(t){for(const N of n)await U.from("players").update({vote_count:0,has_voted:!1,voted_for:null}).eq("id",N.id);await U.from("rooms").update({game_phase:"VOTING"}).eq("id",t.id)}},[t,n]),g=p.useCallback(async()=>{if(!t)return;const{data:N}=await U.from("players").select("*").eq("room_id",t.id);if(!N)return;const _=N.map(S=>({id:S.id,name:S.name,avatar:S.avatar,role:S.role,word:S.word||"",is_alive:S.is_alive,vote_count:S.vote_count||0,has_voted:S.has_voted||!1,voted_for:S.voted_for,is_host:S.is_host})),C=NY(_);C&&(await U.from("players").update({is_alive:!1}).eq("id",C.id),c({title:` ${C.name} !`,description:C.role==="UNDERCOVER"?"!":C.role==="MR_WHITE"?"! ":" "})),await U.from("rooms").update({game_phase:"VOTE_RESULT"}).eq("id",t.id)},[t,c]),y=p.useCallback(async N=>{if(!s||!t)return;const _=n.find(k=>k.id===s);if(!_||_.has_voted||!_.is_alive)return;await U.from("players").update({has_voted:!0,voted_for:N}).eq("id",s);const C=n.find(k=>k.id===N);C&&await U.from("players").update({vote_count:(C.vote_count||0)+1}).eq("id",N),c({title:" ",description:` ${C==null?void 0:C.name}`});const S=n.filter(k=>k.is_alive);S.filter(k=>k.has_voted).length+1>=S.length&&await g()},[s,n,t,c,g]),x=p.useCallback(async()=>{if(!t)return;const{data:N}=await U.from("players").select("*").eq("room_id",t.id);if(!N)return;const _=N.map(S=>({id:S.id,name:S.name,avatar:S.avatar,role:S.role,word:S.word||"",is_alive:S.is_alive,vote_count:S.vote_count||0,has_voted:S.has_voted||!1,voted_for:S.voted_for,is_host:S.is_host})),C=CY(_);if(C.isGameOver)await U.from("rooms").update({game_phase:"FINISHED"}).eq("id",t.id),c({title:C.winner==="CIVILIAN"?" !":"!",description:C.reason});else{await U.from("rooms").update({game_phase:"DESCRIBE",current_player_index:0,cards_remaining:(t.round||1)+1}).eq("id",t.id);for(const S of _)await U.from("players").update({vote_count:0,has_voted:!1,voted_for:null}).eq("id",S.id)}},[t,c]),v=p.useCallback(async()=>{if(t){for(const N of n)await U.from("players").update({role:"CIVILIAN",word:"",is_alive:!0,vote_count:0,has_voted:!1,voted_for:null}).eq("id",N.id);await U.from("rooms").update({game_phase:"WAITING",current_player_index:0,current_card:null,cards_remaining:1,game_started:!1}).eq("id",t.id),c({title:" ",description:"!"})}},[t,n,c]),b=p.useCallback(async()=>{if(!s||!t)return;console.log("Leaving room - deleting player:",s);const{error:N}=await U.from("players").delete().eq("id",s);if(N){console.error("Error deleting player:",N),c({title:"",description:"",variant:"destructive"});return}console.log("Player deleted successfully");const{data:_}=await U.from("players").select("id").eq("room_id",t.id).eq("is_active",!0);(!_||_.length===0)&&(console.log("No remaining players, deleting room"),await U.from("rooms").delete().eq("id",t.id)),e(null),r([]),i(null),c({title:" "})},[s,t,c]);return{room:t,players:n,currentPlayerId:s,isLoading:o,categories:R2(),createRoom:u,joinRoom:d,startGame:h,startDescribePhase:f,nextTurn:m,startVoting:w,votePlayer:y,endVoting:g,checkResultAndContinue:x,restartGame:v,leaveRoom:b}}function IY(){const[t,e]=p.useState(null),[n,r]=p.useState([]),[s,i]=p.useState(null),[o,l]=p.useState([]),[c,u]=p.useState(!1),{toast:d}=wt();p.useEffect(()=>{const C=async()=>{if(s&&t){await U.from("players").delete().eq("id",s);const{data:S}=await U.from("players").select("id").eq("room_id",t.id);(!S||S.length===0)&&await U.from("rooms").delete().eq("id",t.id)}};return window.addEventListener("beforeunload",C),()=>{window.removeEventListener("beforeunload",C)}},[s,t]);const h=p.useCallback(async()=>{let C=localStorage.getItem("anonymousUserId");C||(C=`anon_${Math.random().toString(36).slice(2,11)}`,localStorage.setItem("anonymousUserId",C));const{data:S,error:E}=await U.from("paranoia_questions").select("*").order("created_at",{ascending:!1});if(E){console.error("Error fetching questions:",E);return}const k=(S||[]).filter(T=>T.is_default===!0||T.created_by===C);console.log(` Loaded ${k.length} questions (${(S||[]).filter(T=>T.is_default).length} default + ${k.length-(S||[]).filter(T=>T.is_default).length} custom)`),l(k)},[]);p.useEffect(()=>{h()},[h]);const f=p.useCallback((C=[])=>{if(o.length===0)return console.log(" No questions available at all"),null;const S=o.filter(k=>!C.includes(k.id));if(console.log(` Available questions: ${S.length} of ${o.length} total (${C.length} used)`),S.length===0){console.log(" All questions used! Resetting and picking from full set");const k=o[Math.floor(Math.random()*o.length)];return console.log(` Selected question (reset): "${k.question}"`),k}const E=S[Math.floor(Math.random()*S.length)];return console.log(` Selected question: "${E.question}"`),E},[o]),m=p.useCallback(()=>{var k;if(n.length===0)return null;const S=(((t==null?void 0:t.current_player_index)||0)+1)%n.length;return((k=[...n].sort((T,R)=>T.player_order-R.player_order)[S])==null?void 0:k.id)||null},[n,t==null?void 0:t.current_player_index]),w=p.useCallback(async()=>{if(!t)return;const C=t.game_state,S=(C==null?void 0:C.used_question_ids)||[],E=f(S);if(!E){d({title:"",description:"",variant:"destructive"});return}const k=m();if(!k)return;const T=o.filter(P=>!S.includes(P.id)).length;let R;T===0?(console.log(" Resetting used questions list"),R=[E.id],d({title:" ",description:" !"})):R=[...S,E.id];const I={phase:"ASKING",asker_id:k,victim_id:null,question:E.question,question_id:E.id,is_revealed:!1,used_question_ids:R},{error:F}=await U.from("rooms").update({game_state:I,current_player_index:(t.current_player_index+1)%n.length}).eq("id",t.id);F&&(console.error("Error starting round:",F),d({title:"Error",description:"Failed to start round"}))},[t,n,f,m,d]),g=p.useCallback(async C=>{if(!t||!t.game_state){console.error(" Cannot select victim: No room or game state"),d({title:"Error",description:"",variant:"destructive"});return}console.log(" Selecting victim:",C);const S=t.game_state;if(S.phase!=="ASKING"){console.error(" Cannot select victim: Wrong phase",S.phase),d({title:"Error",description:"",variant:"destructive"});return}const E={...S,phase:"REVEALING",victim_id:C};console.log(" Updating game state to REVEALING with victim:",C);const{error:k}=await U.from("rooms").update({game_state:E}).eq("id",t.id);k?(console.error(" Error selecting victim:",k),d({title:"Error",description:`Failed to select victim: ${k.message}`,variant:"destructive"})):console.log(" Victim selected successfully")},[t,d]),y=p.useCallback(async()=>{if(!t||!t.game_state)return;const S={...t.game_state,is_revealed:!0},{error:E}=await U.from("rooms").update({game_state:S}).eq("id",t.id);E&&(console.error("Error revealing question:",E),d({title:"Error",description:"Failed to reveal question"}))},[t,d]),x=p.useCallback(async()=>{await w()},[w]),v=p.useCallback(async C=>{u(!0);try{await Fu();const S=Math.random().toString(36).substring(2,8).toUpperCase(),{data:E,error:k}=await U.from("rooms").insert({code:S,host_name:C,game_type:"paranoia",game_started:!1,game_state:null,current_player_index:0}).select().single();if(k)throw k;const{data:T,error:R}=await U.from("players").insert({room_id:E.id,name:C,is_host:!0,player_order:0}).select().single();if(R)throw R;return e(E),i(T.id),r([T]),{code:E.code,playerId:T.id}}catch(S){return console.error("Error creating room:",S),d({title:"Error",description:"Failed to create room"}),null}finally{u(!1)}},[d]),b=p.useCallback(async(C,S,E)=>{u(!0);try{const{data:k,error:T}=await U.from("rooms").select("*").eq("code",C.toUpperCase()).eq("game_type","paranoia").single();if(T)throw T;const{data:R}=await U.from("players").select("*").eq("room_id",k.id);let I=E?(R||[]).find($=>$.id===E):null;if(!I){const $=(R||[]).filter(V=>V.name===S);if($.length>0&&(I=$[0],console.log("Found player with same name, reusing:",I.id),$.length>1)){const V=$.slice(1).map(z=>z.id);await U.from("players").delete().in("id",V)}}let F;if(I)F=I,console.log("Session recovery: found existing player",F.id);else{const{data:$,error:V}=await U.from("players").insert({room_id:k.id,name:S,is_host:!1,player_order:(R==null?void 0:R.length)||0}).select().single();if(V)throw V;F=$}e(k),i(F.id);const P=new Map;for(const $ of R||[])P.set($.id,$);return P.has(F.id)||P.set(F.id,F),r(Array.from(P.values())),{room:k,playerId:F.id}}catch(k){return console.error("Error joining room:",k),d({title:"Error",description:"Failed to join room"}),!1}finally{u(!1)}},[d]),N=p.useCallback(async()=>{if(!t)return;const{error:C}=await U.from("rooms").update({game_started:!0}).eq("id",t.id);if(C){console.error("Error starting game:",C),d({title:"Error",description:"Failed to start game"});return}await w()},[t,w,d]),_=p.useCallback(async()=>{s&&(await U.from("players").delete().eq("id",s),e(null),i(null),r([]))},[s]);return p.useEffect(()=>{if(t)return U.channel(`paranoia-room-${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"rooms",filter:`id=eq.${t.id}`},C=>{C.eventType==="UPDATE"&&e(C.new)}).subscribe(),U.channel(`paranoia-players-${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"players",filter:`room_id=eq.${t.id}`},async()=>{const{data:C}=await U.from("players").select("*").eq("room_id",t.id).order("player_order");r(C||[])}).subscribe(),()=>{}},[t==null?void 0:t.id]),{room:t,players:n,currentPlayerId:s,isLoading:c,questions:o,createRoom:v,joinRoom:b,startGame:N,startRound:w,selectVictim:g,revealQuestion:y,skipQuestion:x,leaveRoom:_}}function PY(){const[t,e]=p.useState(null),[n,r]=p.useState([]),[s,i]=p.useState(null),[o,l]=p.useState([]),[c,u]=p.useState(!1),{toast:d}=wt();p.useEffect(()=>{const _=async()=>{if(s&&t){await U.from("players").delete().eq("id",s);const{data:C}=await U.from("players").select("id").eq("room_id",t.id);(!C||C.length===0)&&await U.from("rooms").delete().eq("id",t.id)}};return window.addEventListener("beforeunload",_),()=>{window.removeEventListener("beforeunload",_)}},[s,t]);const h=p.useCallback(async()=>{const{data:_,error:C}=await U.from("five_sec_questions").select("*");if(C){console.error("Error fetching questions:",C);return}l(_||[])},[]);p.useEffect(()=>{h()},[h]);const f=p.useCallback(()=>o.length===0?null:o[Math.floor(Math.random()*o.length)],[o]),m=p.useCallback(()=>{var E;if(n.length===0)return null;const C=(((t==null?void 0:t.current_player_index)||0)+1)%n.length;return((E=[...n].sort((k,T)=>k.player_order-T.player_order)[C])==null?void 0:E.id)||null},[n,t==null?void 0:t.current_player_index]),w=p.useCallback(async()=>{var R;if(!t)return;const _=f();if(!_){d({title:"Error",description:"No questions available"});return}const C=m();if(!C)return;const S=((R=t.game_state)==null?void 0:R.timeLimit)||5,E=new Date(Date.now()+S*1e3).toISOString(),k={phase:"PLAYING",player_id:C,topic:_.topic,end_time:E,votes:{},timeLimit:S},{error:T}=await U.from("rooms").update({game_state:k,current_player_index:(t.current_player_index+1)%n.length}).eq("id",t.id);T&&(console.error("Error starting round:",T),d({title:"Error",description:"Failed to start round"}))},[t,n,f,m,d]),g=p.useCallback(async()=>{if(console.log("finishAnswering called",{room:t==null?void 0:t.id,game_state:t==null?void 0:t.game_state}),!t||!t.game_state){console.error("Cannot finish answering: no room or game_state");return}const C={...t.game_state,phase:"JUDGING"};console.log("Updating to JUDGING phase",C);const{error:S,data:E}=await U.from("rooms").update({game_state:C}).eq("id",t.id).select();S?(console.error("Error finishing answering:",S),d({title:"Error",description:"Failed to finish answering"})):console.log("Successfully updated to JUDGING",E)},[t,d]),y=p.useCallback(async _=>{if(!t||!t.game_state||!s)return;const C=t.game_state;if(s===C.player_id)return;const S={...C.votes,[s]:_},E={...C,votes:S},{error:k}=await U.from("rooms").update({game_state:E}).eq("id",t.id);k&&(console.error("Error voting:",k),d({title:"Error",description:"Failed to vote"}))},[t,s,d]),x=p.useCallback(async(_,C=5)=>{u(!0);try{await Fu();const S=Math.random().toString(36).substring(2,8).toUpperCase(),{data:E,error:k}=await U.from("rooms").insert({code:S,host_name:_,game_type:"fivesec",game_started:!1,game_state:{timeLimit:C},current_player_index:0}).select().single();if(k)throw k;const{data:T,error:R}=await U.from("players").insert({room_id:E.id,name:_,is_host:!0,player_order:0,points:0}).select().single();if(R)throw R;return e(E),i(T.id),r([T]),{code:E.code,playerId:T.id}}catch(S){return console.error("Error creating room:",S),d({title:"Error",description:"Failed to create room"}),null}finally{u(!1)}},[d]),v=p.useCallback(async(_,C,S)=>{u(!0);try{const{data:E,error:k}=await U.from("rooms").select("*").eq("code",_.toUpperCase()).eq("game_type","fivesec").single();if(k)throw k;const{data:T}=await U.from("players").select("*").eq("room_id",E.id);let R=S?(T||[]).find(P=>P.id===S):null;if(!R){const P=(T||[]).filter($=>$.name===C);if(P.length>0&&(R=P[0],console.log("Found player with same name, reusing:",R.id),P.length>1)){const $=P.slice(1).map(V=>V.id);await U.from("players").delete().in("id",$)}}let I;if(R)I=R,console.log("Session recovery: found existing player",I.id);else{const{data:P,error:$}=await U.from("players").insert({room_id:E.id,name:C,is_host:!1,player_order:(T==null?void 0:T.length)||0,points:0}).select().single();if($)throw $;I=P}e(E),i(I.id);const F=new Map;for(const P of T||[])F.set(P.id,P);return F.has(I.id)||F.set(I.id,I),r(Array.from(F.values())),{room:E,playerId:I.id}}catch(E){return console.error("Error joining room:",E),d({title:"Error",description:"Failed to join room"}),!1}finally{u(!1)}},[d]),b=p.useCallback(async()=>{if(!t)return;const{error:_}=await U.from("rooms").update({game_started:!0}).eq("id",t.id);if(_){console.error("Error starting game:",_),d({title:"Error",description:"Failed to start game"});return}await w()},[t,w,d]),N=p.useCallback(async()=>{s&&(await U.from("players").delete().eq("id",s),e(null),i(null),r([]))},[s]);return p.useEffect(()=>{if(t)return U.channel(`fivesec-room-${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"rooms",filter:`id=eq.${t.id}`},_=>{_.eventType==="UPDATE"&&e(_.new)}).subscribe(),U.channel(`fivesec-players-${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"players",filter:`room_id=eq.${t.id}`},async()=>{const{data:_}=await U.from("players").select("*").eq("room_id",t.id).order("player_order");r(_||[])}).subscribe(),()=>{}},[t==null?void 0:t.id]),{room:t,players:n,currentPlayerId:s,isLoading:c,createRoom:x,joinRoom:v,startGame:b,startRound:w,finishAnswering:g,vote:y,leaveRoom:N}}const _t={PLAYER_ID:"kcp_player_id",PLAYER_NAME:"kcp_player_name",ROOM_CODE:"kcp_room_code",GAME_TYPE:"kcp_game_type",AVATAR:"kcp_avatar"};function nS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function AY(){const[t,e]=p.useState({playerId:null,playerName:null,roomCode:null,gameType:null,avatar:null}),[n,r]=p.useState(!0),[s,i]=p.useState(!1);p.useEffect(()=>{(()=>{const d=new URLSearchParams(window.location.search),h=d.get("room"),f=d.get("game"),m=localStorage.getItem(_t.PLAYER_ID),w=localStorage.getItem(_t.PLAYER_NAME),g=h||localStorage.getItem(_t.ROOM_CODE),y=f||localStorage.getItem(_t.GAME_TYPE),x=localStorage.getItem(_t.AVATAR),v=x?parseInt(x,10):null;e({playerId:m,playerName:w,roomCode:g,gameType:y,avatar:v});const N=!!(m&&g&&y);i(N),r(!1),N&&console.log("Session found:",{roomCode:g,gameType:y,playerName:w})})()},[]);const o=p.useCallback(u=>{const d={...t,...u};if(d.playerId||(d.playerId=nS()),d.playerId&&localStorage.setItem(_t.PLAYER_ID,d.playerId),d.playerName&&localStorage.setItem(_t.PLAYER_NAME,d.playerName),d.roomCode&&localStorage.setItem(_t.ROOM_CODE,d.roomCode),d.gameType&&localStorage.setItem(_t.GAME_TYPE,d.gameType),d.avatar!==null&&d.avatar!==void 0&&localStorage.setItem(_t.AVATAR,d.avatar.toString()),d.roomCode&&d.gameType){const h=new URL(window.location.href);h.searchParams.set("room",d.roomCode),h.searchParams.set("game",d.gameType),window.history.replaceState({},"",h.toString())}e(d),i(!!(d.playerId&&d.roomCode&&d.gameType))},[t]),l=p.useCallback(()=>{localStorage.removeItem(_t.PLAYER_ID),localStorage.removeItem(_t.PLAYER_NAME),localStorage.removeItem(_t.ROOM_CODE),localStorage.removeItem(_t.GAME_TYPE),localStorage.removeItem(_t.AVATAR);const u=new URL(window.location.href);u.searchParams.delete("room"),u.searchParams.delete("game"),window.history.replaceState({},"",u.pathname),e({playerId:null,playerName:null,roomCode:null,gameType:null,avatar:null}),i(!1)},[]),c=p.useCallback(()=>{let u=localStorage.getItem(_t.PLAYER_ID);return u||(u=nS(),localStorage.setItem(_t.PLAYER_ID,u)),u},[]);return{sessionData:t,isRecovering:n,hasSession:s,saveSession:o,clearSession:l,getOrCreatePlayerId:c}}const DY=np("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90 active:scale-[0.98]",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90 active:scale-[0.98]",outline:"border-2 border-primary bg-transparent text-primary hover:bg-primary/5 active:scale-[0.98]",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80 active:scale-[0.98]",ghost:"hover:bg-muted hover:text-foreground active:scale-[0.98]",link:"text-primary underline-offset-4 hover:underline",neon:"bg-primary text-primary-foreground shadow-md hover:bg-primary/90 active:scale-[0.98]",glass:"bg-card/80 backdrop-blur border border-border text-foreground hover:bg-card active:scale-[0.98]"},size:{default:"h-10 px-5 py-2",sm:"h-9 rounded-lg px-4 text-xs",lg:"h-12 rounded-xl px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),D=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?CL:"button";return a.jsx(o,{className:L(DY({variant:e,size:n,className:t})),ref:i,...s})});D.displayName="Button";const me=p.forwardRef(({className:t,type:e,...n},r)=>a.jsx("input",{type:e,className:L("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));me.displayName="Input";var bg="focusScope.autoFocusOnMount",_g="focusScope.autoFocusOnUnmount",rS={bubbles:!1,cancelable:!0},MY="FocusScope",Yw=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[l,c]=p.useState(null),u=dt(s),d=dt(i),h=p.useRef(null),f=ge(e,g=>c(g)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let g=function(b){if(m.paused||!l)return;const N=b.target;l.contains(N)?h.current=N:As(h.current,{select:!0})},y=function(b){if(m.paused||!l)return;const N=b.relatedTarget;N!==null&&(l.contains(N)||As(h.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&As(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const v=new MutationObserver(x);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),v.disconnect()}}},[r,l,m.paused]),p.useEffect(()=>{if(l){iS.add(m);const g=document.activeElement;if(!l.contains(g)){const x=new CustomEvent(bg,rS);l.addEventListener(bg,u),l.dispatchEvent(x),x.defaultPrevented||(OY(UY(I2(l)),{select:!0}),document.activeElement===g&&As(l))}return()=>{l.removeEventListener(bg,u),setTimeout(()=>{const x=new CustomEvent(_g,rS);l.addEventListener(_g,d),l.dispatchEvent(x),x.defaultPrevented||As(g??document.body,{select:!0}),l.removeEventListener(_g,d),iS.remove(m)},0)}}},[l,u,d,m]);const w=p.useCallback(g=>{if(!n&&!r||m.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(y&&x){const v=g.currentTarget,[b,N]=LY(v);b&&N?!g.shiftKey&&x===N?(g.preventDefault(),n&&As(b,{select:!0})):g.shiftKey&&x===b&&(g.preventDefault(),n&&As(N,{select:!0})):x===v&&g.preventDefault()}},[n,r,m.paused]);return a.jsx(ne.div,{tabIndex:-1,...o,ref:f,onKeyDown:w})});Yw.displayName=MY;function OY(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(As(r,{select:e}),document.activeElement!==n)return}function LY(t){const e=I2(t),n=sS(e,t),r=sS(e.reverse(),t);return[n,r]}function I2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function sS(t,e){for(const n of t)if(!FY(n,{upTo:e}))return n}function FY(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function VY(t){return t instanceof HTMLInputElement&&"select"in t}function As(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&VY(t)&&e&&t.select()}}var iS=$Y();function $Y(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=oS(t,e),t.unshift(e)},remove(e){var n;t=oS(t,e),(n=t[0])==null||n.resume()}}}function oS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function UY(t){return t.filter(e=>e.tagName!=="A")}var Cg=0;function P2(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??aS()),document.body.insertAdjacentElement("beforeend",t[1]??aS()),Cg++,()=>{Cg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Cg--}},[])}function aS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Er=function(){return Er=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Er.apply(this,arguments)};function A2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function BY(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var ch="right-scroll-bar-position",uh="width-before-scroll-bar",zY="with-scroll-bars-hidden",WY="--removed-body-scroll-bar-size";function Ng(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function HY(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var GY=typeof window<"u"?p.useLayoutEffect:p.useEffect,lS=new WeakMap;function qY(t,e){var n=HY(null,function(r){return t.forEach(function(s){return Ng(s,r)})});return GY(function(){var r=lS.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(l){i.has(l)||Ng(l,null)}),i.forEach(function(l){s.has(l)||Ng(l,o)})}lS.set(n,t)},[t]),n}function KY(t){return t}function YY(t,e){e===void 0&&(e=KY);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function QY(t){t===void 0&&(t={});var e=YY(null);return e.options=Er({async:!0,ssr:!1},t),e}var D2=function(t){var e=t.sideCar,n=A2(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Er({},n))};D2.isSideCarExport=!0;function XY(t,e){return t.useMedium(e),D2}var M2=QY(),Sg=function(){},Lp=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:Sg,onWheelCapture:Sg,onTouchMoveCapture:Sg}),s=r[0],i=r[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,m=t.noRelative,w=t.noIsolation,g=t.inert,y=t.allowPinchZoom,x=t.as,v=x===void 0?"div":x,b=t.gapMode,N=A2(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=f,C=qY([n,e]),S=Er(Er({},N),s);return p.createElement(p.Fragment,null,d&&p.createElement(_,{sideCar:M2,removeScrollBar:u,shards:h,noRelative:m,noIsolation:w,inert:g,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:b}),o?p.cloneElement(p.Children.only(l),Er(Er({},S),{ref:C})):p.createElement(v,Er({},S,{className:c,ref:C}),l))});Lp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lp.classNames={fullWidth:uh,zeroRight:ch};var JY=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ZY(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=JY();return e&&t.setAttribute("nonce",e),t}function eQ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function tQ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var nQ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=ZY())&&(eQ(e,n),tQ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},rQ=function(){var t=nQ();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},O2=function(){var t=rQ(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},sQ={left:0,top:0,right:0,gap:0},Eg=function(t){return parseInt(t||"",10)||0},iQ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Eg(n),Eg(r),Eg(s)]},oQ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return sQ;var e=iQ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},aQ=O2(),Ea="data-scroll-locked",lQ=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(zY,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Ea,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ch,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(uh,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ch," .").concat(ch,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(uh," .").concat(uh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ea,`] {
    `).concat(WY,": ").concat(l,`px;
  }
`)},cS=function(){var t=parseInt(document.body.getAttribute(Ea)||"0",10);return isFinite(t)?t:0},cQ=function(){p.useEffect(function(){return document.body.setAttribute(Ea,(cS()+1).toString()),function(){var t=cS()-1;t<=0?document.body.removeAttribute(Ea):document.body.setAttribute(Ea,t.toString())}},[])},uQ=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;cQ();var i=p.useMemo(function(){return oQ(s)},[s]);return p.createElement(aQ,{styles:lQ(i,!e,s,n?"":"!important")})},$y=!1;if(typeof window<"u")try{var Id=Object.defineProperty({},"passive",{get:function(){return $y=!0,!0}});window.addEventListener("test",Id,Id),window.removeEventListener("test",Id,Id)}catch{$y=!1}var $o=$y?{passive:!1}:!1,dQ=function(t){return t.tagName==="TEXTAREA"},L2=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!dQ(t)&&n[e]==="visible")},hQ=function(t){return L2(t,"overflowY")},fQ=function(t){return L2(t,"overflowX")},uS=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=F2(t,r);if(s){var i=V2(t,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},pQ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},mQ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},F2=function(t,e){return t==="v"?hQ(e):fQ(e)},V2=function(t,e){return t==="v"?pQ(e):mQ(e)},gQ=function(t,e){return t==="h"&&e==="rtl"?-1:1},vQ=function(t,e,n,r,s){var i=gQ(t,window.getComputedStyle(e).direction),o=i*r,l=n.target,c=e.contains(l),u=!1,d=o>0,h=0,f=0;do{if(!l)break;var m=V2(t,l),w=m[0],g=m[1],y=m[2],x=g-y-i*w;(w||x)&&F2(t,l)&&(h+=x,f+=w);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(u=!0),u},Pd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},dS=function(t){return[t.deltaX,t.deltaY]},hS=function(t){return t&&"current"in t?t.current:t},yQ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},xQ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},wQ=0,Uo=[];function bQ(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(wQ++)[0],i=p.useState(O2)[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=BY([t.lockRef.current],(t.shards||[]).map(hS),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=p.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var x=Pd(g),v=n.current,b="deltaX"in g?g.deltaX:v[0]-x[0],N="deltaY"in g?g.deltaY:v[1]-x[1],_,C=g.target,S=Math.abs(b)>Math.abs(N)?"h":"v";if("touches"in g&&S==="h"&&C.type==="range")return!1;var E=uS(S,C);if(!E)return!0;if(E?_=S:(_=S==="v"?"h":"v",E=uS(S,C)),!E)return!1;if(!r.current&&"changedTouches"in g&&(b||N)&&(r.current=_),!_)return!0;var k=r.current||_;return vQ(k,y,g,k==="h"?b:N,!0)},[]),c=p.useCallback(function(g){var y=g;if(!(!Uo.length||Uo[Uo.length-1]!==i)){var x="deltaY"in y?dS(y):Pd(y),v=e.current.filter(function(_){return _.name===y.type&&(_.target===y.target||y.target===_.shadowParent)&&yQ(_.delta,x)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(hS).filter(Boolean).filter(function(_){return _.contains(y.target)}),N=b.length>0?l(y,b[0]):!o.current.noIsolation;N&&y.cancelable&&y.preventDefault()}}},[]),u=p.useCallback(function(g,y,x,v){var b={name:g,delta:y,target:x,should:v,shadowParent:_Q(x)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(N){return N!==b})},1)},[]),d=p.useCallback(function(g){n.current=Pd(g),r.current=void 0},[]),h=p.useCallback(function(g){u(g.type,dS(g),g.target,l(g,t.lockRef.current))},[]),f=p.useCallback(function(g){u(g.type,Pd(g),g.target,l(g,t.lockRef.current))},[]);p.useEffect(function(){return Uo.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,$o),document.addEventListener("touchmove",c,$o),document.addEventListener("touchstart",d,$o),function(){Uo=Uo.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,$o),document.removeEventListener("touchmove",c,$o),document.removeEventListener("touchstart",d,$o)}},[]);var m=t.removeScrollBar,w=t.inert;return p.createElement(p.Fragment,null,w?p.createElement(i,{styles:xQ(s)}):null,m?p.createElement(uQ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function _Q(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const CQ=XY(M2,bQ);var Qw=p.forwardRef(function(t,e){return p.createElement(Lp,Er({},t,{ref:e,sideCar:CQ}))});Qw.classNames=Lp.classNames;var NQ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Bo=new WeakMap,Ad=new WeakMap,Dd={},kg=0,$2=function(t){return t&&(t.host||$2(t.parentNode))},SQ=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=$2(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},EQ=function(t,e,n,r){var s=SQ(e,Array.isArray(t)?t:[t]);Dd[n]||(Dd[n]=new WeakMap);var i=Dd[n],o=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var m=f.getAttribute(r),w=m!==null&&m!=="false",g=(Bo.get(f)||0)+1,y=(i.get(f)||0)+1;Bo.set(f,g),i.set(f,y),o.push(f),g===1&&w&&Ad.set(f,!0),y===1&&f.setAttribute(n,"true"),w||f.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return d(e),l.clear(),kg++,function(){o.forEach(function(h){var f=Bo.get(h)-1,m=i.get(h)-1;Bo.set(h,f),i.set(h,m),f||(Ad.has(h)||h.removeAttribute(r),Ad.delete(h)),m||h.removeAttribute(n)}),kg--,kg||(Bo=new WeakMap,Bo=new WeakMap,Ad=new WeakMap,Dd={})}},U2=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=NQ(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),EQ(r,s,n,"aria-hidden")):function(){return null}},Fp="Dialog",[B2,qZ]=cn(Fp),[kQ,hr]=B2(Fp),z2=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,l=p.useRef(null),c=p.useRef(null),[u,d]=cr({prop:r,defaultProp:s??!1,onChange:i,caller:Fp});return a.jsx(kQ,{scope:e,triggerRef:l,contentRef:c,contentId:Pr(),titleId:Pr(),descriptionId:Pr(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};z2.displayName=Fp;var W2="DialogTrigger",H2=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=hr(W2,n),i=ge(e,s.triggerRef);return a.jsx(ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Zw(s.open),...r,ref:i,onClick:ee(t.onClick,s.onOpenToggle)})});H2.displayName=W2;var Xw="DialogPortal",[TQ,G2]=B2(Xw,{forceMount:void 0}),q2=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=hr(Xw,e);return a.jsx(TQ,{scope:e,forceMount:n,children:p.Children.map(r,o=>a.jsx(Nn,{present:n||i.open,children:a.jsx(Zf,{asChild:!0,container:s,children:o})}))})};q2.displayName=Xw;var Ef="DialogOverlay",K2=p.forwardRef((t,e)=>{const n=G2(Ef,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=hr(Ef,t.__scopeDialog);return i.modal?a.jsx(Nn,{present:r||i.open,children:a.jsx(RQ,{...s,ref:e})}):null});K2.displayName=Ef;var jQ=Ba("DialogOverlay.RemoveScroll"),RQ=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=hr(Ef,n);return a.jsx(Qw,{as:jQ,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(ne.div,{"data-state":Zw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ko="DialogContent",Y2=p.forwardRef((t,e)=>{const n=G2(ko,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=hr(ko,t.__scopeDialog);return a.jsx(Nn,{present:r||i.open,children:i.modal?a.jsx(IQ,{...s,ref:e}):a.jsx(PQ,{...s,ref:e})})});Y2.displayName=ko;var IQ=p.forwardRef((t,e)=>{const n=hr(ko,t.__scopeDialog),r=p.useRef(null),s=ge(e,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return U2(i)},[]),a.jsx(Q2,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ee(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ee(t.onFocusOutside,i=>i.preventDefault())})}),PQ=p.forwardRef((t,e)=>{const n=hr(ko,t.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return a.jsx(Q2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Q2=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,l=hr(ko,n),c=p.useRef(null),u=ge(e,c);return P2(),a.jsxs(a.Fragment,{children:[a.jsx(Yw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(mu,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Zw(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(AQ,{titleId:l.titleId}),a.jsx(MQ,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Jw="DialogTitle",X2=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=hr(Jw,n);return a.jsx(ne.h2,{id:s.titleId,...r,ref:e})});X2.displayName=Jw;var J2="DialogDescription",Z2=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=hr(J2,n);return a.jsx(ne.p,{id:s.descriptionId,...r,ref:e})});Z2.displayName=J2;var eA="DialogClose",tA=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=hr(eA,n);return a.jsx(ne.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,()=>s.onOpenChange(!1))})});tA.displayName=eA;function Zw(t){return t?"open":"closed"}var nA="DialogTitleWarning",[KZ,rA]=bL(nA,{contentName:ko,titleName:Jw,docsSlug:"dialog"}),AQ=({titleId:t})=>{const e=rA(nA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},DQ="DialogDescriptionWarning",MQ=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${rA(DQ).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},OQ=z2,LQ=H2,FQ=q2,sA=K2,iA=Y2,oA=X2,aA=Z2,VQ=tA;const Wr=OQ,Ri=LQ,$Q=FQ,lA=p.forwardRef(({className:t,...e},n)=>a.jsx(sA,{ref:n,className:L("fixed inset-0 z-[100] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));lA.displayName=sA.displayName;const fr=p.forwardRef(({className:t,children:e,...n},r)=>a.jsxs($Q,{children:[a.jsx(lA,{}),a.jsxs(iA,{ref:r,className:L("fixed left-[50%] top-[50%] z-[110] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,a.jsxs(VQ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(Tr,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fr.displayName=iA.displayName;const pr=({className:t,...e})=>a.jsx("div",{className:L("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});pr.displayName="DialogHeader";const mr=p.forwardRef(({className:t,...e},n)=>a.jsx(oA,{ref:n,className:L("text-lg font-semibold leading-none tracking-tight",t),...e}));mr.displayName=oA.displayName;const Hr=p.forwardRef(({className:t,...e},n)=>a.jsx(aA,{ref:n,className:L("text-sm text-muted-foreground",t),...e}));Hr.displayName=aA.displayName;var UQ=p.createContext(void 0);function Cl(t){const e=p.useContext(UQ);return t||e||"ltr"}function Uy(t,[e,n]){return Math.min(n,Math.max(e,t))}function BQ(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var eb="ScrollArea",[cA,YZ]=cn(eb),[zQ,Un]=cA(eb),uA=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[l,c]=p.useState(null),[u,d]=p.useState(null),[h,f]=p.useState(null),[m,w]=p.useState(null),[g,y]=p.useState(null),[x,v]=p.useState(0),[b,N]=p.useState(0),[_,C]=p.useState(!1),[S,E]=p.useState(!1),k=ge(e,R=>c(R)),T=Cl(s);return a.jsx(zQ,{scope:n,type:r,dir:T,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:w,scrollbarXEnabled:_,onScrollbarXEnabledChange:C,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:S,onScrollbarYEnabledChange:E,onCornerWidthChange:v,onCornerHeightChange:N,children:a.jsx(ne.div,{dir:T,...o,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});uA.displayName=eb;var dA="ScrollAreaViewport",hA=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,o=Un(dA,n),l=p.useRef(null),c=ge(e,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(ne.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});hA.displayName=dA;var Gr="ScrollAreaScrollbar",tb=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Un(Gr,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=t.orientation==="horizontal";return p.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(WQ,{...r,ref:e,forceMount:n}):s.type==="scroll"?a.jsx(HQ,{...r,ref:e,forceMount:n}):s.type==="auto"?a.jsx(fA,{...r,ref:e,forceMount:n}):s.type==="always"?a.jsx(nb,{...r,ref:e}):null});tb.displayName=Gr;var WQ=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Un(Gr,t.__scopeScrollArea),[i,o]=p.useState(!1);return p.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(Nn,{present:n||i,children:a.jsx(fA,{"data-state":i?"visible":"hidden",...r,ref:e})})}),HQ=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Un(Gr,t.__scopeScrollArea),i=t.orientation==="horizontal",o=$p(()=>c("SCROLL_END"),100),[l,c]=BQ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),p.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const m=u[d];h!==m&&(c("SCROLL"),o()),h=m};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,i,c,o]),a.jsx(Nn,{present:n||l!=="hidden",children:a.jsx(nb,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:ee(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ee(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),fA=p.forwardRef((t,e)=>{const n=Un(Gr,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=p.useState(!1),l=t.orientation==="horizontal",c=$p(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return nl(n.viewport,c),nl(n.content,c),a.jsx(Nn,{present:r||i,children:a.jsx(nb,{"data-state":i?"visible":"hidden",...s,ref:e})})}),nb=p.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=Un(Gr,t.__scopeScrollArea),i=p.useRef(null),o=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=yA(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,m){return XQ(f,o.current,l,m)}return n==="horizontal"?a.jsx(GQ,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollLeft,m=fS(f,l,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):n==="vertical"?a.jsx(qQ,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollTop,m=fS(f,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),GQ=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Un(Gr,t.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=ge(e,c,i.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(mA,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Vp(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(f),wA(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Tf(o.paddingLeft),paddingEnd:Tf(o.paddingRight)}})}})}),qQ=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Un(Gr,t.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=ge(e,c,i.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(mA,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Vp(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(f),wA(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Tf(o.paddingTop),paddingEnd:Tf(o.paddingBottom)}})}})}),[KQ,pA]=cA(Gr),mA=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=t,m=Un(Gr,n),[w,g]=p.useState(null),y=ge(e,k=>g(k)),x=p.useRef(null),v=p.useRef(""),b=m.viewport,N=r.content-r.viewport,_=dt(d),C=dt(c),S=$p(h,10);function E(k){if(x.current){const T=k.clientX-x.current.left,R=k.clientY-x.current.top;u({x:T,y:R})}}return p.useEffect(()=>{const k=T=>{const R=T.target;(w==null?void 0:w.contains(R))&&_(T,N)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[b,w,N,_]),p.useEffect(C,[r,C]),nl(w,S),nl(m.content,S),a.jsx(KQ,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:dt(i),onThumbPointerUp:dt(o),onThumbPositionChange:C,onThumbPointerDown:dt(l),children:a.jsx(ne.div,{...f,ref:y,style:{position:"absolute",...f.style},onPointerDown:ee(t.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),x.current=w.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),E(k))}),onPointerMove:ee(t.onPointerMove,E),onPointerUp:ee(t.onPointerUp,k=>{const T=k.target;T.hasPointerCapture(k.pointerId)&&T.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=v.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),kf="ScrollAreaThumb",gA=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=pA(kf,t.__scopeScrollArea);return a.jsx(Nn,{present:n||s.hasThumb,children:a.jsx(YQ,{ref:e,...r})})}),YQ=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=Un(kf,n),o=pA(kf,n),{onThumbPositionChange:l}=o,c=ge(e,h=>o.onThumbChange(h)),u=p.useRef(void 0),d=$p(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(d(),!u.current){const m=JQ(h,l);u.current=m,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,d,l]),a.jsx(ne.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ee(t.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),w=h.clientX-m.left,g=h.clientY-m.top;o.onThumbPointerDown({x:w,y:g})}),onPointerUp:ee(t.onPointerUp,o.onThumbPointerUp)})});gA.displayName=kf;var rb="ScrollAreaCorner",vA=p.forwardRef((t,e)=>{const n=Un(rb,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?a.jsx(QQ,{...t,ref:e}):null});vA.displayName=rb;var QQ=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=Un(rb,n),[i,o]=p.useState(0),[l,c]=p.useState(0),u=!!(i&&l);return nl(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),nl(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?a.jsx(ne.div,{...r,ref:e,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Tf(t){return t?parseInt(t,10):0}function yA(t,e){const n=t/e;return isNaN(n)?0:n}function Vp(t){const e=yA(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function XQ(t,e,n,r="ltr"){const s=Vp(n),i=s/2,o=e||i,l=s-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return xA([c,u],h)(t)}function fS(t,e,n="ltr"){const r=Vp(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,l=i-r,c=n==="ltr"?[0,o]:[o*-1,0],u=Uy(t,c);return xA([0,o],[0,l])(u)}function xA(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function wA(t,e){return t>0&&t<e}var JQ=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function $p(t,e){const n=dt(t),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function nl(t,e){const n=dt(e);mt(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var bA=uA,ZQ=hA,eX=vA;const Ii=p.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(bA,{ref:r,className:L("relative overflow-hidden",t),...n,children:[a.jsx(ZQ,{className:"h-full w-full rounded-[inherit]",children:e}),a.jsx(_A,{}),a.jsx(eX,{})]}));Ii.displayName=bA.displayName;const _A=p.forwardRef(({className:t,orientation:e="vertical",...n},r)=>a.jsx(tb,{ref:r,orientation:e,className:L("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:a.jsx(gA,{className:"relative flex-1 rounded-full bg-border"})}));_A.displayName=tb.displayName;const tX="https://king-s-cup-party-production.up.railway.app";async function dn(t,e){try{const n=await fetch(`${tX}${t}`,{headers:{"Content-Type":"application/json",...e==null?void 0:e.headers},...e});return n.ok?await n.json():(console.error(`API Error: ${n.status} ${n.statusText}`),null)}catch(n){return console.error("API call failed:",n),null}}async function By(){const t=await dn("/api/games?field=cover_url");if(!t)return Hy();const e={};return t.forEach(n=>{n.cover_url&&(e[n.id]=n.cover_url)}),e}async function zy(){const t=await dn("/api/games?field=image_url");if(!t)return Gy();const e={};return t.forEach(n=>{n.image_url&&(e[n.id]=n.image_url)}),e}async function Wy(){const t=await dn("/api/games");if(!t)return TA();const e={};return t.forEach(n=>{e[n.id]={title:n.title,emoji:n.emoji,gradient:n.gradient}}),e}async function nX(t,e){console.log(` Saving cover for ${t}`);const n=Hy();if(n[t]=e,pS(n),await dn(`/api/games/${t}`,{method:"PUT",body:JSON.stringify({cover_url:e})})){console.log(` Saved cover for ${t} to MySQL`);const s=Hy();return delete s[t],Object.keys(s).length>0?pS(s):localStorage.removeItem(Bp),!0}return console.log(` MySQL failed, using localStorage for ${t}`),!0}async function rX(t,e){console.log(` Saving icon for ${t}`);const n=Gy();if(n[t]=e,mS(n),await dn(`/api/games/${t}`,{method:"PUT",body:JSON.stringify({image_url:e})})){console.log(` Saved icon for ${t} to MySQL`);const s=Gy();return delete s[t],Object.keys(s).length>0?mS(s):localStorage.removeItem(zp),!0}return console.log(` MySQL failed, using localStorage for ${t}`),!0}async function CA(t,e){if(await dn(`/api/games/${t}`,{method:"PUT",body:JSON.stringify({title:e.title,emoji:e.emoji,gradient:e.gradient})}))return console.log(` Saved profile for ${t}`),!0;const r=TA();return r[t]=e,dX(r),!0}async function sX(t){return!!await dn(`/api/games/${t}`,{method:"PUT",body:JSON.stringify({cover_url:null})})}async function iX(t){return!!await dn(`/api/games/${t}`,{method:"PUT",body:JSON.stringify({image_url:null})})}async function oX(){const t=await dn("/api/games/clear-covers",{method:"POST"});return localStorage.removeItem(Bp),!!t}async function aX(){const t=await dn("/api/games/clear-icons",{method:"POST"});return localStorage.removeItem(zp),!!t}async function Up(){const t=await dn("/api/floating-names");return t?t.map(e=>e.name):EA()}async function lX(t){if(!await dn("/api/floating-names",{method:"POST",body:JSON.stringify({name:t})})){const n=EA();return n.push(t),kA(n),!1}return!0}async function cX(t){return!!await dn(`/api/floating-names/${encodeURIComponent(t)}`,{method:"DELETE"})}async function uX(){const t=await dn("/api/floating-names",{method:"DELETE"});return kA([]),!!t}const NA="admin_floating_names",Bp="admin_game_covers",zp="admin_game_icons",SA="admin_game_profiles";function EA(){try{const t=localStorage.getItem(NA);return t?JSON.parse(t):[]}catch{return[]}}function kA(t){localStorage.setItem(NA,JSON.stringify(t))}function Hy(){try{const t=localStorage.getItem(Bp);return t?JSON.parse(t):{}}catch{return{}}}function pS(t){try{localStorage.setItem(Bp,JSON.stringify(t))}catch(e){console.error("Failed to save covers to localStorage:",e)}}function Gy(){try{const t=localStorage.getItem(zp);return t?JSON.parse(t):{}}catch{return{}}}function mS(t){try{localStorage.setItem(zp,JSON.stringify(t))}catch(e){console.error("Failed to save icons to localStorage:",e)}}function TA(){try{const t=localStorage.getItem(SA);return t?JSON.parse(t):{}}catch{return{}}}function dX(t){try{localStorage.setItem(SA,JSON.stringify(t))}catch(e){console.error("Failed to save profiles to localStorage:",e)}}async function hX(t,e){return CA(t,e)}function fX({games:t,onClose:e,onCoversUpdate:n}){const[r,s]=p.useState({}),[i,o]=p.useState(!1),[l,c]=p.useState(null),u=p.useRef({}),{toast:d}=wt();p.useEffect(()=>{(async()=>{const x=await By();s(x)})()},[]);const h=y=>new Promise((x,v)=>{const b=new FileReader;b.onload=N=>{var C;const _=new Image;_.onload=()=>{const S=document.createElement("canvas"),E=S.getContext("2d");if(!E){v(new Error("Could not get canvas context"));return}let k=_.width,T=_.height;const R=800,I=1200;if(k>R||T>I){const P=Math.min(R/k,I/T);k=k*P,T=T*P}S.width=k,S.height=T,E.drawImage(_,0,0,k,T);const F=S.toDataURL("image/jpeg",.85);x(F)},_.onerror=()=>v(new Error("Failed to load image")),_.src=(C=N.target)==null?void 0:C.result},b.onerror=()=>v(b.error),b.readAsDataURL(y)}),f=async(y,x)=>{var b;if(console.log(` Uploading ${x.name} for ${y}`,{type:x.type,size:x.size,sizeInMB:(x.size/1024/1024).toFixed(2)+" MB"}),!x.type.startsWith("image/")){d({title:"",description:` ${x.name} `,variant:"destructive"});return}const v=10*1024*1024;if(x.size>v){const N=(x.size/1024/1024).toFixed(2);d({title:"",description:` ${N} MB ( 10 MB)`,variant:"destructive"});return}c(y),o(!0);try{console.log(` Converting ${x.name} to base64...`);const N=await h(x);if(console.log(` Base64 size: ${(N.length/1024).toFixed(2)} KB`),console.log(" Saving to storage..."),await nX(y,N)){console.log(" Saved successfully!");const C={...r,[y]:N};s(C),n(),d({title:"! ",description:` ${(b=t.find(S=>S.id===y))==null?void 0:b.name} `})}else console.error(" Save failed"),d({title:"",description:" ",variant:"destructive"})}catch(N){console.error(" Upload error:",N),d({title:"",description:N instanceof Error?N.message:"",variant:"destructive"})}finally{o(!1),c(null)}},m=async y=>{o(!0);const x=await sX(y);if(o(!1),x){const v={...r};delete v[y],s(v),n(),d({title:"",description:""})}else d({title:"",description:"",variant:"destructive"})},w=async()=>{o(!0);const y=await oX();o(!1),y?(s({}),n(),d({title:"",description:""})):d({title:"",description:"",variant:"destructive"})},g=y=>{var x;(x=u.current[y])==null||x.click()};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-gradient-to-br from-indigo-900 to-black w-full max-w-2xl rounded-2xl border border-indigo-500/30 shadow-2xl overflow-hidden",children:[a.jsx("div",{className:"bg-indigo-600/30 px-6 py-4 border-b border-indigo-500/30",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-500 flex items-center justify-center",children:a.jsx(Mh,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:" "}),a.jsx("p",{className:"text-indigo-300 text-sm",children:""})]})]}),a.jsx(D,{variant:"ghost",size:"icon",onClick:e,className:"text-white/70 hover:text-white hover:bg-white/10",children:a.jsx(Tr,{className:"w-5 h-5"})})]})}),a.jsx(Ii,{className:"h-[60vh]",children:a.jsxs("div",{className:"p-6 space-y-4",children:[t.map(y=>a.jsx("div",{className:"bg-black/30 rounded-xl border border-indigo-500/20 p-4",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`w-24 h-32 rounded-xl overflow-hidden flex-shrink-0 flex items-center justify-center bg-gradient-to-br ${y.gradient}`,style:r[y.id]?{backgroundImage:`url(${r[y.id]})`,backgroundSize:"cover",backgroundPosition:"center"}:void 0,children:!r[y.id]&&a.jsx("span",{className:"text-5xl",children:y.emoji})}),a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-bold text-white",children:y.name}),r[y.id]&&a.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>m(y.id),disabled:i,className:"text-red-400 hover:text-red-300 hover:bg-red-500/20",children:[a.jsx(xo,{className:"w-4 h-4 mr-1"}),""]})]}),a.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:x=>u.current[y.id]=x,onChange:x=>{var b;const v=(b=x.target.files)==null?void 0:b[0];v&&(f(y.id,v),x.target.value="")}}),a.jsx(D,{variant:"secondary",size:"sm",onClick:()=>g(y.id),disabled:i,className:"bg-indigo-600 hover:bg-indigo-700 text-white w-full",children:l===y.id?a.jsxs(a.Fragment,{children:[a.jsx(pt,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):a.jsxs(a.Fragment,{children:[a.jsx(mT,{className:"w-4 h-4 mr-2"}),r[y.id]?"":""]})}),r[y.id]&&a.jsx("p",{className:"text-xs text-green-400",children:" "})]})]})},y.id)),a.jsx("div",{className:"bg-indigo-500/10 border border-indigo-500/20 rounded-lg p-4",children:a.jsxs("p",{className:"text-indigo-300 text-sm",children:[" ",a.jsx("strong",{children:":"}),"  (JPG, PNG, GIF, WEBP)  10MB"]})})]})}),a.jsx("div",{className:"bg-black/30 px-6 py-4 border-t border-indigo-500/30",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsxs(D,{variant:"outline",onClick:w,disabled:i||Object.keys(r).length===0,className:"border-red-500/30 text-red-400 hover:bg-red-500/20",children:[a.jsx(oo,{className:"w-4 h-4 mr-2"}),""]}),a.jsx(D,{onClick:e,className:"bg-indigo-600 hover:bg-indigo-700",children:""})]})})]})})}function pX({games:t,onClose:e,onProfilesUpdate:n}){const[r,s]=p.useState({}),[i,o]=p.useState(!1),[l,c]=p.useState(null),{toast:u}=wt();p.useEffect(()=>{(async()=>{o(!0);const g=await Wy();s(g),o(!1)})()},[]);const d=w=>{const g=r[w.id];return{title:(g==null?void 0:g.title)??w.name,emoji:(g==null?void 0:g.emoji)??w.emoji,gradient:(g==null?void 0:g.gradient)??w.gradient}},h=(w,g,y)=>{s(x=>{const v=x[w.id]??{title:w.name,emoji:w.emoji,gradient:w.gradient};return{...x,[w.id]:{...v,[g]:y}}})},f=async w=>{const g=d(w);c(w.id),o(!0);const y=await CA(w.id,{title:g.title,emoji:g.emoji,gradient:g.gradient});o(!1),c(null),y?(n(),u({title:"",description:` ${w.name}`})):u({title:"",description:"",variant:"destructive"})},m=async w=>{c(w.id),o(!0);const g=await hX(w.id,{title:w.name,emoji:w.emoji,gradient:w.gradient});o(!1),c(null),g?(s(y=>{const x={...y};return delete x[w.id],x}),n(),u({title:"",description:` ${w.name}`})):u({title:"",description:"",variant:"destructive"})};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-gradient-to-br from-amber-900 to-black w-full max-w-3xl rounded-2xl border border-amber-500/30 shadow-2xl overflow-hidden",children:[a.jsx("div",{className:"bg-amber-600/30 px-6 py-4 border-b border-amber-500/30",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500 flex items-center justify-center",children:a.jsx(kr,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:" "}),a.jsx("p",{className:"text-amber-200 text-sm",children:"  "})]})]}),a.jsx(D,{variant:"ghost",size:"icon",onClick:e,className:"text-white/70 hover:text-white hover:bg-white/10",children:a.jsx(Tr,{className:"w-5 h-5"})})]})}),a.jsx(Ii,{className:"h-[65vh]",children:a.jsxs("div",{className:"p-6 space-y-4",children:[t.map(w=>{const g=d(w);return a.jsx("div",{className:"bg-black/30 rounded-xl border border-amber-500/20 p-4",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`w-24 h-24 rounded-xl flex-shrink-0 flex items-center justify-center text-4xl bg-gradient-to-br ${g.gradient}`,children:a.jsx("span",{children:g.emoji})}),a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-bold text-white",children:g.title}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(D,{variant:"outline",size:"sm",onClick:()=>m(w),disabled:i,className:"border-red-500/40 text-red-300 hover:bg-red-500/20",children:[a.jsx(oo,{className:"w-4 h-4 mr-1"})," "]}),a.jsx(D,{size:"sm",onClick:()=>f(w),disabled:i,className:"bg-amber-600 hover:bg-amber-700 text-white",children:l===w.id?a.jsxs(a.Fragment,{children:[a.jsx(pt,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):a.jsxs(a.Fragment,{children:[a.jsx(r0,{className:"w-4 h-4 mr-2"})," "]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm text-white/70",children:""}),a.jsx(me,{value:g.title,onChange:y=>h(w,"title",y.target.value),className:"bg-white/10 border-amber-500/30 text-white"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm text-white/70",children:""}),a.jsx(me,{value:g.emoji||"",onChange:y=>h(w,"emoji",y.target.value),className:"bg-white/10 border-amber-500/30 text-white",maxLength:3})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm text-white/70",children:"Gradient class"}),a.jsx(me,{value:g.gradient||"",onChange:y=>h(w,"gradient",y.target.value),className:"bg-white/10 border-amber-500/30 text-white",placeholder:"from-indigo-500 to-purple-600"})]})]})]})]})},w.id)}),a.jsx("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-lg p-4 text-amber-100 text-sm",children:"  Tailwind gradient classes  from-amber-500 to-orange-600"})]})}),a.jsx("div",{className:"bg-black/30 px-6 py-4 border-t border-amber-500/30 flex justify-end",children:a.jsx(D,{onClick:e,className:"bg-amber-600 hover:bg-amber-700",children:""})})]})})}function mX({games:t,onClose:e,onIconsUpdate:n}){const[r,s]=p.useState({}),[i,o]=p.useState(!1),[l,c]=p.useState(null),u=p.useRef({}),{toast:d}=wt();p.useEffect(()=>{(async()=>{const x=await zy();s(x)})()},[]);const h=y=>{var x;return(x=u.current[y])==null?void 0:x.click()},f=y=>new Promise((x,v)=>{const b=new FileReader;b.onload=()=>x(b.result),b.onerror=()=>v(b.error),b.readAsDataURL(y)}),m=async(y,x)=>{if(!x.type.startsWith("image/")){d({title:"",description:"",variant:"destructive"});return}if(x.size>10*1024*1024){d({title:"",description:" 10MB",variant:"destructive"});return}c(y),o(!0);try{const v=await f(x);await rX(y,v)?(s(N=>({...N,[y]:v})),n(),d({title:"",description:` ${y}`})):d({title:"",variant:"destructive"})}catch(v){console.error(v),d({title:"",variant:"destructive"})}finally{c(null),o(!1)}},w=async y=>{o(!0);const x=await iX(y);o(!1),x?(s(v=>{const b={...v};return delete b[y],b}),n(),d({title:"",description:""})):d({title:"",variant:"destructive"})},g=async()=>{o(!0);const y=await aX();o(!1),y&&(s({}),n(),d({title:""}))};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-gradient-to-br from-amber-900 to-black w-full max-w-2xl rounded-2xl border border-amber-500/30 shadow-2xl overflow-hidden",children:[a.jsxs("div",{className:"bg-amber-600/30 px-6 py-4 border-b border-amber-500/30 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500 flex items-center justify-center",children:a.jsx(Mh,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:" "}),a.jsx("p",{className:"text-amber-200 text-sm",children:" emoji"})]})]}),a.jsx(D,{variant:"ghost",size:"icon",onClick:e,className:"text-white/70 hover:text-white hover:bg-white/10",children:a.jsx(Tr,{className:"w-5 h-5"})})]}),a.jsx(Ii,{className:"h-[60vh]",children:a.jsx("div",{className:"p-6 space-y-4",children:t.map(y=>a.jsxs("div",{className:"bg-black/30 rounded-xl border border-amber-500/20 p-4 flex gap-4 items-center",children:[a.jsx("div",{className:"w-20 h-20 rounded-xl flex-shrink-0 border border-amber-500/30 overflow-hidden",style:{backgroundImage:r[y.id]?`url(${r[y.id]})`:void 0,backgroundSize:"cover",backgroundPosition:"center"},children:!r[y.id]&&a.jsx("div",{className:`w-full h-full bg-gradient-to-br ${y.gradient} flex items-center justify-center text-4xl`,children:y.emoji})}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-semibold",children:y.name}),a.jsxs("p",{className:"text-xs text-amber-200",children:["ID: ",y.id]})]}),r[y.id]&&a.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>w(y.id),disabled:i,className:"text-red-400 hover:text-red-300 hover:bg-red-500/20",children:[a.jsx(xo,{className:"w-4 h-4 mr-1"})," "]})]}),a.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:x=>u.current[y.id]=x,onChange:x=>{var b;const v=(b=x.target.files)==null?void 0:b[0];v&&(m(y.id,v),x.target.value="")}}),a.jsx(D,{size:"sm",onClick:()=>h(y.id),disabled:i,className:"bg-amber-600 hover:bg-amber-700 text-white",children:l===y.id?a.jsxs(a.Fragment,{children:[a.jsx(pt,{className:"w-4 h-4 mr-2 animate-spin"})," ","..."]}):a.jsxs(a.Fragment,{children:[a.jsx(mT,{className:"w-4 h-4 mr-2"}),r[y.id]?"":""]})}),r[y.id]&&a.jsx("p",{className:"text-xs text-green-400",children:" "})]})]},y.id))})}),a.jsxs("div",{className:"bg-black/30 px-6 py-4 border-t border-amber-500/30 flex justify-between",children:[a.jsxs(D,{variant:"outline",onClick:g,disabled:i||Object.keys(r).length===0,className:"border-red-500/30 text-red-400 hover:bg-red-500/20",children:[a.jsx(xo,{className:"w-4 h-4 mr-2"})," "]}),a.jsx(D,{onClick:e,className:"bg-amber-600 hover:bg-amber-700 text-white",children:""})]})]})})}const gX=[{id:"doraemon",emoji:"",name:"King's Cup",gradient:"from-red-500 to-orange-500"},{id:"pokdeng",emoji:"",name:"Pok Deng",gradient:"from-emerald-500 to-green-600"},{id:"undercover",emoji:"",name:"Undercover",gradient:"from-purple-600 to-indigo-600"},{id:"paranoia",emoji:"",name:"Paranoia",gradient:"from-pink-500 to-rose-600"},{id:"5-sec",emoji:"",name:"5 Second Rule",gradient:"from-yellow-400 to-orange-500"},{id:"texas-holdem",emoji:"",name:"Texas Hold'em",gradient:"from-blue-600 to-cyan-600"}];function jA({onClose:t,games:e,onCoversUpdate:n,onProfilesUpdate:r,onIconsUpdate:s}){const i=e&&e.length>0?e:gX,[o,l]=p.useState([]),[c,u]=p.useState(""),[d,h]=p.useState(!0),[f,m]=p.useState(!1),[w,g]=p.useState(!1),[y,x]=p.useState(!1),[v,b]=p.useState("names");p.useEffect(()=>{N()},[]);const N=async()=>{h(!0);const E=await Up();l(E),h(!1)},_=async()=>{if(!c.trim())return;const E=c.trim();u(""),l(k=>[...k,E]),await lX(E)},C=async E=>{const k=o[E];l(T=>T.filter((R,I)=>I!==E)),await cX(k)},S=async()=>{l([]),await uX()};return f&&i.length>0?a.jsx(fX,{games:i,onClose:()=>m(!1),onCoversUpdate:()=>{m(!1),n==null||n()}}):w&&i.length>0?a.jsx(pX,{games:i,onClose:()=>g(!1),onProfilesUpdate:()=>{g(!1),r==null||r()}}):y&&i.length>0?a.jsx(mX,{games:i,onClose:()=>x(!1),onIconsUpdate:()=>{x(!1),s==null||s()}}):a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-gradient-to-br from-purple-900 to-black w-full max-w-md rounded-2xl border border-purple-500/30 shadow-2xl overflow-hidden",children:[a.jsx("div",{className:"bg-purple-600/30 px-6 py-4 border-b border-purple-500/30",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-500 flex items-center justify-center",children:a.jsx(Vn,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:" Admin Panel"}),a.jsx("p",{className:"text-purple-300 text-sm",children:" BONNE"})]})]}),a.jsx(D,{variant:"ghost",size:"icon",onClick:t,className:"text-white/70 hover:text-white hover:bg-white/10",children:a.jsx(Tr,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"bg-black/20 px-6 py-3 border-b border-purple-500/20 flex gap-2",children:[a.jsxs(D,{variant:v==="names"?"default":"ghost",size:"sm",onClick:()=>b("names"),className:v==="names"?"bg-purple-600 text-white":"text-purple-300 hover:text-white hover:bg-purple-600/20",children:[a.jsx(Vn,{className:"w-4 h-4 mr-2"}),""]}),a.jsxs(D,{variant:v==="covers"?"default":"ghost",size:"sm",onClick:()=>b("covers"),className:v==="covers"?"bg-purple-600 text-white":"text-purple-300 hover:text-white hover:bg-purple-600/20",children:[a.jsx(Mh,{className:"w-4 h-4 mr-2"}),""]}),a.jsxs(D,{variant:v==="profiles"?"default":"ghost",size:"sm",onClick:()=>b("profiles"),className:v==="profiles"?"bg-purple-600 text-white":"text-purple-300 hover:text-white hover:bg-purple-600/20",children:[a.jsx(kr,{className:"w-4 h-4 mr-2"}),""]}),a.jsxs(D,{variant:v==="icons"?"default":"ghost",size:"sm",onClick:()=>b("icons"),className:v==="icons"?"bg-purple-600 text-white":"text-purple-300 hover:text-white hover:bg-purple-600/20",children:[a.jsx(Om,{className:"w-4 h-4 mr-2"}),""]})]}),v==="names"&&a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-white/60 text-sm",children:" Lobby"})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(me,{placeholder:"...",value:c,onChange:E=>u(E.target.value),onKeyDown:E=>E.key==="Enter"&&_(),className:"flex-1 bg-white/10 border-purple-500/30 text-white placeholder:text-white/40",maxLength:20}),a.jsx(D,{onClick:_,disabled:!c.trim(),className:"bg-purple-500 hover:bg-purple-600 text-white",children:a.jsx(xu,{className:"w-4 h-4"})})]}),a.jsx(Ii,{className:"h-48 rounded-lg bg-black/30 border border-purple-500/20",children:a.jsx("div",{className:"p-3 space-y-2",children:d?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(pt,{className:"w-6 h-6 text-purple-400 animate-spin"})}):o.length===0?a.jsx("p",{className:"text-center text-white/40 text-sm py-8",children:""}):o.map((E,k)=>a.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded-lg bg-purple-500/20 border border-purple-500/30",children:[a.jsx("span",{className:"text-white font-medium",children:E}),a.jsx(D,{variant:"ghost",size:"icon",onClick:()=>C(k),className:"w-8 h-8 text-red-400 hover:text-red-300 hover:bg-red-500/20",children:a.jsx(xo,{className:"w-4 h-4"})})]},k))})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(D,{variant:"outline",onClick:S,disabled:o.length===0,className:"flex-1 border-red-500/30 text-red-400 hover:bg-red-500/20 hover:text-red-300",children:[a.jsx(xo,{className:"w-4 h-4 mr-2"}),""]}),a.jsxs(D,{onClick:t,className:"flex-1 bg-purple-500 hover:bg-purple-600 text-white",children:[a.jsx(vu,{className:"w-4 h-4 mr-2"}),""]})]}),a.jsx("div",{className:"text-center pt-2 border-t border-purple-500/20",children:a.jsxs("p",{className:"text-purple-300 text-sm",children:[":"," ",a.jsx("span",{className:"font-bold text-white",children:o.length})," "]})})]}),v==="covers"&&a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-white/60 text-sm mb-4",children:" () "})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs(D,{onClick:()=>x(!0),disabled:i.length===0,className:"w-full bg-amber-500 hover:bg-amber-600 text-white py-6 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Om,{className:"w-5 h-5 mr-2"}),"Upload Icon ()"]}),a.jsxs(D,{onClick:()=>m(!0),disabled:i.length===0,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white py-6 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Mh,{className:"w-5 h-5 mr-2"}),"Upload Cover ()"]})]}),i.length===0&&a.jsx("div",{className:"bg-yellow-500/20 border border-yellow-500/30 rounded-lg p-4 text-center",children:a.jsx("p",{className:"text-yellow-300 text-sm",children:"   Admin Panel "})}),a.jsx("div",{className:"bg-black/30 border border-purple-500/20 rounded-lg p-4",children:a.jsxs("p",{className:"text-white/60 text-sm",children:[" ",a.jsx("strong",{children:":"})," Upload Icon    Upload Cover   10MB"]})}),a.jsx(D,{onClick:t,variant:"outline",className:"w-full border-purple-500/30 text-purple-300 hover:bg-purple-500/20",children:""})]}),v==="profiles"&&a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-white/60 text-sm mb-4",children:"  "})}),a.jsxs(D,{onClick:()=>g(!0),disabled:i.length===0,className:"w-full bg-amber-600 hover:bg-amber-700 text-white py-6 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(kr,{className:"w-5 h-5 mr-2"}),""]}),i.length===0&&a.jsx("div",{className:"bg-yellow-500/20 border border-yellow-500/30 rounded-lg p-4 text-center",children:a.jsx("p",{className:"text-yellow-300 text-sm",children:"   Admin Panel "})}),a.jsx("div",{className:"bg-black/30 border border-purple-500/20 rounded-lg p-4",children:a.jsxs("p",{className:"text-white/60 text-sm",children:[" ",a.jsx("strong",{children:":"}),"    Tailwind  from-amber-500 to-orange-600"]})}),a.jsx(D,{onClick:t,variant:"outline",className:"w-full border-purple-500/30 text-purple-300 hover:bg-purple-500/20",children:""})]}),v==="icons"&&a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-white/60 text-sm mb-4",children:" ( emoji)"})}),a.jsxs(D,{onClick:()=>x(!0),disabled:i.length===0,className:"w-full bg-amber-500 hover:bg-amber-600 text-white py-6 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Om,{className:"w-5 h-5 mr-2"}),""]}),i.length===0&&a.jsx("div",{className:"bg-yellow-500/20 border border-yellow-500/30 rounded-lg p-4 text-center",children:a.jsx("p",{className:"text-yellow-300 text-sm",children:"   Admin Panel "})}),a.jsx("div",{className:"bg-black/30 border border-purple-500/20 rounded-lg p-4",children:a.jsxs("p",{className:"text-white/60 text-sm",children:[" ",a.jsx("strong",{children:":"})," ",""]})}),a.jsx(D,{onClick:t,variant:"outline",className:"w-full border-purple-500/30 text-purple-300 hover:bg-purple-500/20",children:""})]})]})})}const Ct=["#ff6b6b","#4ecdc4","#ffe66d","#a8e6cf","#ff8b94","#c7ceea","#b5ead7","#ffd3b6","#dcedc1","#a0d2eb","#d4a5a5","#ffaaa5","#ffc6ff","#9bf6ff","#caffbf","#fdffb6","#bdb2ff","#ffc6ff","#a0c4ff","#ffadad"];function sb({names:t}){const e=p.useRef(null),n=p.useRef([]),r=p.useRef();p.useEffect(()=>{if(t.length===0)return;const i=new Set;n.current=t.map((o,l)=>{let c=Ct[l%Ct.length],u=0;for(;i.has(c)&&u<Ct.length;)c=Ct[(l+u)%Ct.length],u++;return i.add(c),{x:Math.random()*(window.innerWidth-100),y:Math.random()*(window.innerHeight-30),vx:(Math.random()>.5?1:-1)*(.5+Math.random()*.5),vy:(Math.random()>.5?1:-1)*(.5+Math.random()*.5),color:c,element:null}})},[t]);const s=p.useCallback(()=>{n.current.forEach(i=>{if(!i.element)return;i.x+=i.vx,i.y+=i.vy;const o=i.element.getBoundingClientRect();if(i.x<=0||i.x+o.width>=window.innerWidth){i.vx*=-1,i.x=Math.max(0,Math.min(i.x,window.innerWidth-o.width));const l=Ct[Math.floor(Math.random()*Ct.length)];i.color=l,i.element.style.color=l,i.element.style.textShadow=`0 0 10px ${l}, 0 0 20px ${l}, 0 0 30px ${l}`}if(i.y<=0||i.y+o.height>=window.innerHeight){i.vy*=-1,i.y=Math.max(0,Math.min(i.y,window.innerHeight-o.height));const l=Ct[Math.floor(Math.random()*Ct.length)];i.color=l,i.element.style.color=l,i.element.style.textShadow=`0 0 10px ${l}, 0 0 20px ${l}, 0 0 30px ${l}`}i.element.style.transform=`translate(${i.x}px, ${i.y}px)`}),r.current=requestAnimationFrame(s)},[]);return p.useEffect(()=>{if(t.length!==0)return r.current=requestAnimationFrame(s),()=>{r.current&&cancelAnimationFrame(r.current)}},[t,s]),t.length===0?null:a.jsx("div",{ref:e,className:"fixed inset-0 pointer-events-none z-0 overflow-hidden",children:t.map((i,o)=>{var l,c,u,d;return a.jsxs("div",{ref:h=>{n.current[o]&&(n.current[o].element=h)},className:"fixed text-sm font-bold pointer-events-none whitespace-nowrap",style:{color:((l=n.current[o])==null?void 0:l.color)||Ct[o%Ct.length],filter:"brightness(1.2) saturate(1.3)",textShadow:`0 0 8px ${((c=n.current[o])==null?void 0:c.color)||Ct[o%Ct.length]}, 0 0 15px ${((u=n.current[o])==null?void 0:u.color)||Ct[o%Ct.length]}, 0 0 25px ${((d=n.current[o])==null?void 0:d.color)||Ct[o%Ct.length]}`,left:0,top:0,willChange:"transform"},children:[o===0&&" ",i]},o)})})}const vX={th:{back:"",loading:"...",error:"",close:"",save:"",cancel:"",edit:"",delete:"",add:"",search:"",confirm:"",selectGame:"",selectGamePrompt:"",kingsCup:"",kingsCupDesc:"King's Cup - ",kingsCupSubtitle:"",pokDeng:"",pokDengDesc:"Pok Deng - ",undercover:"Undercover",undercoverDesc:" - ",partyMotto:" ",liveMode:"LIVE",liveModeDesc:"Host  ",enterNameToStart:"",enterCodeAndName:"",roomCodePlaceholder:" (6 )",quickStartDesc:"!",themeChange:"",themeSelectTheme:"",createRoom:"",joinRoom:"",roomCode:"",yourName:"",enterName:"...",enterCode:" 6 ...",createNewRoom:"",joinRoomBtn:"",quickStart:" ",creating:"...",joining:"...",room:"",waitingForPlayers:"",players:"",host:"Host",leaveRoom:"",startGame:"",minPlayers:"",people:"",undercoverTitle:"Undercover",undercoverSubtitle:" - !",category:"",allCategories:"",includeMrWhite:" (Mr. White)",revealWord:"",holdToReveal:" (!)",yourWord:":",holdToView:"",role:"",startDescribe:"",describePhase:"",describeRound:"",turn:"",nextPlayer:"",nextPerson:"",startVoting:"",voting:"!",vote:"",waitingForOthers:"...",selectSpy:"",selectSuspect:"",voteResult:"",votes:"",continue:"",gameOver:"",finalResult:"",restartGame:"",civilian:"",spy:"",gameStarted:" !",eliminated:"!",waitingPlayers:"",playersInRoom:"",needMinPlayers:" 4 ",seeYourWord:"",tapToReveal:" (!)",yourWordIs:"",holdToSee:"",alivePlayers:"",manageWords:"",vocabularyManager:"",addWord:"",editWord:"",editVocabulary:"",addVocabulary:"",addNewWord:"",categoryName:"",categoryPlaceholder:" , ",civilianWord:"",civilianPlaceholder:"",undercoverWord:"",undercoverPlaceholder:"",searchWords:"...",searchVocabulary:"...",noWords:"",noWordsFound:"",noVocabularyFound:"",noVocabularyYet:" ",addWordToStart:"",cannotEditDefault:"",cannotDeleteDefault:"",words:"",invalidName:"",nameTooShort:" ( 2 )",nameTooLong:" ( 20 )",nameContainsBadWords:"",roomNotFound:"",gameAlreadyStarted:" ",pokDengTitle:" ",pokDengSubtitle:"!",bet:"",draw:"",stand:"",showdown:"",nextRound:"",dealer:"",setDealer:"",points:"",multiplier:"",winner:"",roomCreated:"! ",roomJoined:"! ",playerJoined:" ",playerLeft:" ",leftRoom:" ",voted:" ",youVotedFor:""},en:{back:"Back",loading:"Loading...",error:"Error",close:"Close",save:"Save",cancel:"Cancel",edit:"Edit",delete:"Delete",add:"Add",search:"Search",confirm:"Confirm",selectGame:"Select Game",selectGamePrompt:"Choose a game to play",kingsCup:"King's Cup",kingsCupDesc:"King's Cup - Drinking Game",kingsCupSubtitle:"Drink till you drop!",pokDeng:"Pok Deng",pokDengDesc:"Pok Deng - Card Game",undercover:"Undercover",undercoverDesc:"Find the Spy - Detective Game",partyMotto:"Drink for fun, Party til' dawn",liveMode:"LIVE",liveModeDesc:"Host shares screen, players use phones",enterNameToStart:"Enter your name to start",enterCodeAndName:"Enter room code and your name",roomCodePlaceholder:"Room Code (6 digits)",quickStartDesc:"Enter your name and start playing!",themeChange:"Change Theme",themeSelectTheme:"Select Theme",createRoom:"Create Room",joinRoom:"Join Room",roomCode:"Room Code",yourName:"Your Name",enterName:"Enter name...",enterCode:"Enter 6-digit code...",createNewRoom:"Create New Room",joinRoomBtn:" Join Room",quickStart:" Quick Start",creating:"Creating...",joining:"Joining...",room:"Room",waitingForPlayers:"Waiting for players",players:"Players",host:"Host",leaveRoom:"Leave Room",startGame:"Start Game",minPlayers:"Need at least",people:"players",undercoverTitle:"Undercover",undercoverSubtitle:"Find the impostor among you!",category:"Category",allCategories:"All",includeMrWhite:"Include Mr. White",revealWord:"Reveal Your Word",holdToReveal:"Hold to reveal (Don't let others see!)",yourWord:"Your word is:",holdToView:"Hold to view word",role:"Role",startDescribe:"Start Describing",describePhase:"Round",describeRound:"Describe Round",turn:"Turn",nextPlayer:"Next",nextPerson:"Next Person",startVoting:"Start Voting",voting:"Vote!",vote:"Vote",waitingForOthers:"Waiting for others...",selectSpy:"Select who you think is the spy",selectSuspect:"Select who you think is the spy",voteResult:"Vote Result",votes:"votes",continue:"Continue",gameOver:"Game Over",finalResult:"Final Result",restartGame:"Restart Game",civilian:"Civilian",spy:"Undercover",gameStarted:" Game Started!",eliminated:"has been eliminated!",waitingPlayers:"Waiting for players",playersInRoom:"Players in Room",needMinPlayers:"Need at least 4 players",seeYourWord:"See Your Word",tapToReveal:"Hold to reveal (Don't let others see!)",yourWordIs:"Your word is",holdToSee:"Hold to see word",alivePlayers:"Alive Players",manageWords:"Manage Words",vocabularyManager:"Vocabulary Manager",addWord:"Add Word",editWord:"Edit Vocabulary",editVocabulary:"Edit Vocabulary",addVocabulary:"Add New Vocabulary",addNewWord:"Add New Vocabulary",categoryName:"Category",categoryPlaceholder:"e.g. Food, Places",civilianWord:"Civilian Word",civilianPlaceholder:"Word for civilians",undercoverWord:"Undercover Word",undercoverPlaceholder:"Word for undercover",searchWords:"Search words...",searchVocabulary:"Search vocabulary...",noWords:"No vocabularies yet",noWordsFound:"No matching vocabularies found",noVocabularyFound:"No matching vocabularies found",noVocabularyYet:"No vocabularies yet. Click Add Word to get started",addWordToStart:"Click Add Word to get started",cannotEditDefault:"Cannot edit default words",cannotDeleteDefault:"Cannot delete default words",words:"words",invalidName:"Invalid name",nameTooShort:"Name too short (minimum 2 characters)",nameTooLong:"Name too long (maximum 20 characters)",nameContainsBadWords:"Please use an appropriate name",roomNotFound:"Room not found",gameAlreadyStarted:"Game already started, cannot join",pokDengTitle:" Pok Deng",pokDengSubtitle:"Thai card game!",bet:"Bet",draw:"Draw",stand:"Stand",showdown:"Showdown",nextRound:"Next Round",dealer:"Dealer",setDealer:"Set as Dealer",points:"Points",multiplier:"x",winner:"Winner",roomCreated:"Room created successfully! ",roomJoined:"Joined room successfully! ",playerJoined:" New player joined",playerLeft:" Player left",leftRoom:" Left room",voted:" Voted",youVotedFor:"You voted for"}};let jf="th";function yX(t){jf=t,typeof window<"u"&&localStorage.setItem("language",t)}function Rf(){if(typeof window<"u"){const t=localStorage.getItem("language");(t==="th"||t==="en")&&(jf=t)}return jf}function B(t){return vX[jf][t]}typeof window<"u"&&Rf();const xX=["","","","","","","","","","","","","","fuck","shit","bitch","ass","damn","hell","dick","pussy","cock","cunt","bastard","nazi","hitler","xxx","porn","sex"];function If(t){const e=t.trim();if(e.length<2)return{isValid:!1,error:"nameTooShort"};if(e.length>20)return{isValid:!1,error:"nameTooLong"};const n=e.toLowerCase();for(const s of xX)if(n.includes(s.toLowerCase()))return{isValid:!1,error:"nameContainsBadWords"};return/[a-zA-Z0-9-]/.test(e)?{isValid:!0}:{isValid:!1,error:"invalidName"}}function wX({onCreateRoom:t,onJoinRoom:e,onQuickStart:n,isLoading:r,onBack:s}){const{displayName:i}=zr(),[o,l]=p.useState("menu"),[c,u]=p.useState(""),[d,h]=p.useState(""),[f,m]=p.useState(""),[w,g]=p.useState(!1),[y,x]=p.useState(!1),[v,b]=p.useState([]),N=p.useRef(""),{toast:_}=wt();p.useEffect(()=>{i&&!c&&u(i)},[i]),p.useEffect(()=>{(async()=>{const T=await Up();b(T)})()},[y]),p.useEffect(()=>{const k=T=>{if(T.target instanceof HTMLInputElement||T.target instanceof HTMLTextAreaElement)return;const R=T.key.toLowerCase(),I=N.current+R;"adminhee444".startsWith(I)?(N.current=I,I==="adminhee444"&&n&&(N.current="",g(!0))):N.current="adminhee444".startsWith(R)?R:""};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[n]);const C=async()=>{if(!c.trim())return;const k=If(c);if(!k.isValid){_({title:B("error"),description:k.error||B("invalidName"),variant:"destructive"});return}await t(c.trim())},S=async()=>{if(!c.trim()||!d.trim())return;if(d.trim()==="777777"&&c.trim().toUpperCase()==="BONNE"){x(!0);return}const k=If(c);if(!k.isValid){_({title:B("error"),description:k.error||B("invalidName"),variant:"destructive"});return}await e(d.trim(),c.trim())},E=async()=>{!f.trim()||!n||(await n(f.trim()),g(!1),m(""))};return a.jsxs("div",{className:"min-h-screen min-h-[100dvh] flex flex-col items-center justify-center p-4 sm:p-6 relative",children:[a.jsx(sb,{names:v}),y&&a.jsx(jA,{onClose:()=>x(!1)}),a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('/king-s-cup-party/bg-party.jpg')"}}),a.jsx("div",{className:"absolute inset-0 bg-black/60"}),s&&a.jsx("div",{className:"absolute top-4 left-4 z-20",children:a.jsx(D,{variant:"ghost",size:"icon",onClick:s,className:"text-white/70 hover:text-white hover:bg-white/10",children:a.jsx(ga,{className:"w-5 h-5 rotate-180"})})}),a.jsxs("div",{className:"text-center mb-6 sm:mb-8 relative z-10",children:[a.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-2 drop-shadow-lg",children:["",B("kingsCup")]}),a.jsx("p",{className:"text-white/80 text-base sm:text-lg",children:B("kingsCupSubtitle")})]}),a.jsxs("div",{className:"bg-black/40 backdrop-blur-md rounded-2xl w-full max-w-xs sm:max-w-sm p-4 sm:p-6 relative z-10 border border-white/10",children:[o==="menu"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs(D,{variant:"default",size:"lg",className:"w-full bg-white text-black hover:bg-white/90",onClick:()=>l("create"),children:[a.jsx(xu,{className:"w-5 h-5"}),B("createNewRoom")]}),a.jsx("p",{className:"text-white/50 text-xs text-center"})]}),a.jsxs(D,{variant:"outline",size:"lg",className:"w-full border-white/30 text-white hover:bg-white/10",onClick:()=>l("join"),children:[a.jsx(Vn,{className:"w-5 h-5"}),B("joinRoom")]}),n&&a.jsxs("div",{className:"space-y-1 pt-2 border-t border-white/10",children:[a.jsxs(D,{variant:"ghost",size:"lg",className:"w-full text-white/70 hover:text-white hover:bg-white/10",onClick:()=>g(!0),disabled:r,children:[a.jsx(Fh,{className:"w-5 h-5"})," ",B("liveMode")]}),a.jsx("p",{className:"text-white/50 text-xs text-center",children:B("liveModeDesc")})]})]}),o==="create"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-white mb-1",children:B("createNewRoom")}),a.jsx("p",{className:"text-white/60 text-sm",children:B("enterNameToStart")})]}),a.jsx(me,{placeholder:B("yourName"),value:c,onChange:k=>u(k.target.value),className:"text-center bg-white/10 border-white/20 text-white placeholder:text-white/50",maxLength:20}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(D,{variant:"ghost",size:"lg",className:"flex-1 text-white/70 hover:text-white hover:bg-white/10",onClick:()=>l("menu"),children:B("back")}),a.jsx(D,{variant:"default",size:"lg",className:"flex-1 bg-white text-black hover:bg-white/90",onClick:C,disabled:!c.trim()||r,children:r?a.jsx(pt,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[B("createRoom"),a.jsx(ga,{className:"w-4 h-4"})]})})]})]}),o==="join"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-white mb-1",children:B("joinRoom")}),a.jsx("p",{className:"text-white/60 text-sm",children:B("enterCodeAndName")})]}),a.jsx(me,{placeholder:B("roomCodePlaceholder"),value:d,onChange:k=>h(k.target.value.toUpperCase()),className:"text-center text-xl font-mono tracking-widest bg-white/10 border-white/20 text-white placeholder:text-white/50",maxLength:6}),a.jsx(me,{placeholder:B("yourName"),value:c,onChange:k=>u(k.target.value),className:"text-center bg-white/10 border-white/20 text-white placeholder:text-white/50",maxLength:20}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(D,{variant:"ghost",size:"lg",className:"flex-1 text-white/70 hover:text-white hover:bg-white/10",onClick:()=>l("menu"),children:B("back")}),a.jsx(D,{variant:"default",size:"lg",className:"flex-1 bg-white text-black hover:bg-white/90",onClick:S,disabled:!c.trim()||d.length!==6||r,children:r?a.jsx(pt,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[B("joinRoom"),a.jsx(ga,{className:"w-4 h-4"})]})})]})]})]}),a.jsx("p",{className:"mt-6 text-white/40 text-sm relative z-10",children:B("partyMotto")}),a.jsx(Wr,{open:w,onOpenChange:g,children:a.jsxs(fr,{className:"sm:max-w-sm bg-black/90 border-white/20 text-white",children:[a.jsxs(pr,{children:[a.jsx(mr,{className:"text-center text-white",children:B("quickStart")}),a.jsx(Hr,{className:"text-center text-white/60",children:B("quickStartDesc")})]}),a.jsxs("div",{className:"space-y-4 pt-2",children:[a.jsx(me,{placeholder:"",value:f,onChange:k=>m(k.target.value),className:"text-center bg-white/10 border-white/20 text-white placeholder:text-white/50",maxLength:20,autoFocus:!0,onKeyDown:k=>{k.key==="Enter"&&f.trim()&&E()}}),a.jsx(D,{variant:"default",size:"lg",className:"w-full bg-white text-black hover:bg-white/90",onClick:E,disabled:!f.trim()||r,children:r?a.jsx(pt,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(Fh,{className:"w-5 h-5"}),"!"]})})]})]})})]})}function Wp({className:t}){return a.jsxs("div",{className:L("absolute inset-0 overflow-hidden",t),children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-800 via-slate-900 to-black"}),a.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-20",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("defs",{children:a.jsx("pattern",{id:"diamond-pattern",x:"0",y:"0",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:a.jsx("path",{d:"M10 0L20 10L10 20L0 10Z",fill:"white",opacity:"0.5"})})}),a.jsx("rect",{width:"100%",height:"100%",fill:"url(#diamond-pattern)"})]}),a.jsx("div",{className:"absolute inset-2 sm:inset-3 rounded-lg border-2 border-white/20"}),a.jsx("div",{className:"absolute inset-3 sm:inset-4 rounded-md border border-white/10"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 rounded-full border-2 border-white/30 flex items-center justify-center",children:a.jsx("div",{className:"w-12 h-12 sm:w-18 sm:h-18 rounded-full border border-white/20 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-white font-bold text-lg sm:text-2xl leading-none",children:""}),a.jsx("div",{className:"text-white/60 text-[8px] sm:text-xs mt-0.5",children:"K's Cup"})]})})}),a.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[a.jsx("div",{className:"absolute w-20 sm:w-28 h-0.5 bg-gradient-to-r from-transparent via-white/20 to-transparent"}),a.jsx("div",{className:"absolute w-0.5 h-20 sm:h-28 bg-gradient-to-b from-transparent via-white/20 to-transparent"})]})]})})]})}function bX({value:t,suit:e}){const n=Fy[e],r=Vy[e];return(()=>{switch(t){case"A":return a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("span",{className:L("text-7xl sm:text-8xl",r),children:n})});case"2":return a.jsxs("div",{className:"flex flex-col justify-between items-center h-full py-4",children:[a.jsx("span",{className:L("text-3xl sm:text-4xl",r),children:n}),a.jsx("span",{className:L("text-3xl sm:text-4xl rotate-180",r),children:n})]});case"3":return a.jsxs("div",{className:"flex flex-col justify-between items-center h-full py-4",children:[a.jsx("span",{className:L("text-3xl sm:text-4xl",r),children:n}),a.jsx("span",{className:L("text-3xl sm:text-4xl",r),children:n}),a.jsx("span",{className:L("text-3xl sm:text-4xl rotate-180",r),children:n})]});case"4":return a.jsxs("div",{className:"grid grid-cols-2 gap-x-8 h-full py-4",children:[a.jsxs("div",{className:"flex flex-col justify-between items-center",children:[a.jsx("span",{className:L("text-3xl sm:text-4xl",r),children:n}),a.jsx("span",{className:L("text-3xl sm:text-4xl rotate-180",r),children:n})]}),a.jsxs("div",{className:"flex flex-col justify-between items-center",children:[a.jsx("span",{className:L("text-3xl sm:text-4xl",r),children:n}),a.jsx("span",{className:L("text-3xl sm:text-4xl rotate-180",r),children:n})]})]});case"5":return a.jsxs("div",{className:"grid grid-cols-2 gap-x-8 h-full py-4 relative",children:[a.jsxs("div",{className:"flex flex-col justify-between items-center",children:[a.jsx("span",{className:L("text-3xl sm:text-4xl",r),children:n}),a.jsx("span",{className:L("text-3xl sm:text-4xl rotate-180",r),children:n})]}),a.jsxs("div",{className:"flex flex-col justify-between items-center",children:[a.jsx("span",{className:L("text-3xl sm:text-4xl",r),children:n}),a.jsx("span",{className:L("text-3xl sm:text-4xl rotate-180",r),children:n})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("span",{className:L("text-3xl sm:text-4xl",r),children:n})})]});case"6":return a.jsxs("div",{className:"grid grid-cols-2 gap-x-8 h-full py-4",children:[a.jsxs("div",{className:"flex flex-col justify-between items-center",children:[a.jsx("span",{className:L("text-2xl sm:text-3xl",r),children:n}),a.jsx("span",{className:L("text-2xl sm:text-3xl",r),children:n}),a.jsx("span",{className:L("text-2xl sm:text-3xl rotate-180",r),children:n})]}),a.jsxs("div",{className:"flex flex-col justify-between items-center",children:[a.jsx("span",{className:L("text-2xl sm:text-3xl",r),children:n}),a.jsx("span",{className:L("text-2xl sm:text-3xl",r),children:n}),a.jsx("span",{className:L("text-2xl sm:text-3xl rotate-180",r),children:n})]})]});case"7":return a.jsxs("div",{className:"grid grid-cols-2 gap-x-8 h-full py-4 relative",children:[a.jsxs("div",{className:"flex flex-col justify-between items-center",children:[a.jsx("span",{className:L("text-2xl sm:text-3xl",r),children:n}),a.jsx("span",{className:L("text-2xl sm:text-3xl",r),children:n}),a.jsx("span",{className:L("text-2xl sm:text-3xl rotate-180",r),children:n})]}),a.jsxs("div",{className:"flex flex-col justify-between items-center",children:[a.jsx("span",{className:L("text-2xl sm:text-3xl",r),children:n}),a.jsx("span",{className:L("text-2xl sm:text-3xl",r),children:n}),a.jsx("span",{className:L("text-2xl sm:text-3xl rotate-180",r),children:n})]}),a.jsx("div",{className:"absolute inset-x-0 top-1/3 flex items-center justify-center",children:a.jsx("span",{className:L("text-2xl sm:text-3xl",r),children:n})})]});case"8":return a.jsxs("div",{className:"grid grid-cols-2 gap-x-8 h-full py-3 relative",children:[a.jsxs("div",{className:"flex flex-col justify-between items-center",children:[a.jsx("span",{className:L("text-2xl sm:text-3xl",r),children:n}),a.jsx("span",{className:L("text-2xl sm:text-3xl",r),children:n}),a.jsx("span",{className:L("text-2xl sm:text-3xl rotate-180",r),children:n})]}),a.jsxs("div",{className:"flex flex-col justify-between items-center",children:[a.jsx("span",{className:L("text-2xl sm:text-3xl",r),children:n}),a.jsx("span",{className:L("text-2xl sm:text-3xl",r),children:n}),a.jsx("span",{className:L("text-2xl sm:text-3xl rotate-180",r),children:n})]}),a.jsx("div",{className:"absolute inset-x-0 top-[30%] flex items-center justify-center",children:a.jsx("span",{className:L("text-2xl sm:text-3xl",r),children:n})}),a.jsx("div",{className:"absolute inset-x-0 bottom-[30%] flex items-center justify-center",children:a.jsx("span",{className:L("text-2xl sm:text-3xl rotate-180",r),children:n})})]});case"9":return a.jsxs("div",{className:"grid grid-cols-2 gap-x-6 h-full py-2 relative",children:[a.jsxs("div",{className:"flex flex-col justify-between items-center",children:[a.jsx("span",{className:L("text-xl sm:text-2xl",r),children:n}),a.jsx("span",{className:L("text-xl sm:text-2xl",r),children:n}),a.jsx("span",{className:L("text-xl sm:text-2xl rotate-180",r),children:n}),a.jsx("span",{className:L("text-xl sm:text-2xl rotate-180",r),children:n})]}),a.jsxs("div",{className:"flex flex-col justify-between items-center",children:[a.jsx("span",{className:L("text-xl sm:text-2xl",r),children:n}),a.jsx("span",{className:L("text-xl sm:text-2xl",r),children:n}),a.jsx("span",{className:L("text-xl sm:text-2xl rotate-180",r),children:n}),a.jsx("span",{className:L("text-xl sm:text-2xl rotate-180",r),children:n})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("span",{className:L("text-xl sm:text-2xl",r),children:n})})]});case"10":return a.jsxs("div",{className:"grid grid-cols-2 gap-x-6 h-full py-2 relative",children:[a.jsxs("div",{className:"flex flex-col justify-between items-center",children:[a.jsx("span",{className:L("text-xl sm:text-2xl",r),children:n}),a.jsx("span",{className:L("text-xl sm:text-2xl",r),children:n}),a.jsx("span",{className:L("text-xl sm:text-2xl rotate-180",r),children:n}),a.jsx("span",{className:L("text-xl sm:text-2xl rotate-180",r),children:n})]}),a.jsxs("div",{className:"flex flex-col justify-between items-center",children:[a.jsx("span",{className:L("text-xl sm:text-2xl",r),children:n}),a.jsx("span",{className:L("text-xl sm:text-2xl",r),children:n}),a.jsx("span",{className:L("text-xl sm:text-2xl rotate-180",r),children:n}),a.jsx("span",{className:L("text-xl sm:text-2xl rotate-180",r),children:n})]}),a.jsx("div",{className:"absolute inset-x-0 top-[25%] flex items-center justify-center",children:a.jsx("span",{className:L("text-xl sm:text-2xl",r),children:n})}),a.jsx("div",{className:"absolute inset-x-0 bottom-[25%] flex items-center justify-center",children:a.jsx("span",{className:L("text-xl sm:text-2xl rotate-180",r),children:n})})]});case"J":case"Q":case"K":return a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:L("text-6xl sm:text-7xl font-bold",r),children:t}),a.jsx("div",{className:L("text-4xl sm:text-5xl mt-1",r),children:n})]})});default:return a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("span",{className:L("text-6xl sm:text-7xl",r),children:n})})}})()}function gS({card:t,isFlipped:e=!0,size:n="lg",showRule:r=!1}){const s={sm:"w-16 h-24",md:"w-24 h-36",lg:"w-32 h-48 sm:w-44 sm:h-64 md:w-52 md:h-72",large:"w-56 h-80 sm:w-72 sm:h-[26rem] md:w-80 md:h-[30rem]"},i={sm:"text-sm",md:"text-lg",lg:"text-xl sm:text-2xl md:text-3xl",large:"text-3xl sm:text-4xl md:text-5xl"},o={sm:"text-sm",md:"text-lg",lg:"text-lg sm:text-xl md:text-2xl",large:"text-2xl sm:text-3xl md:text-4xl"};if(!t)return a.jsx("div",{className:L(s[n],"rounded-xl bg-muted border-2 border-dashed border-border flex items-center justify-center"),children:a.jsx("span",{className:"text-muted-foreground text-3xl",children:"?"})});const l=co[t.value];return a.jsxs("div",{className:"card-flip",children:[a.jsxs("div",{className:L("card-inner relative",s[n],e&&"flipped"),children:[a.jsx("div",{className:L("card-face rounded-xl overflow-hidden shadow-xl",s[n]),children:a.jsx(Wp,{})}),a.jsxs("div",{className:L("card-face card-back rounded-xl bg-paper border border-paper-border shadow-xl overflow-hidden",s[n]),children:[a.jsxs("div",{className:L("absolute top-2 left-2 sm:top-3 sm:left-3 flex flex-col items-center",Vy[t.suit]),children:[a.jsx("span",{className:L("font-bold leading-none",i[n]),children:t.value}),a.jsx("span",{className:L("leading-none",o[n]),children:Fy[t.suit]})]}),a.jsx("div",{className:"absolute inset-0 px-8 py-10 sm:px-10 sm:py-12",children:a.jsx(bX,{value:t.value,suit:t.suit})}),a.jsxs("div",{className:L("absolute bottom-2 right-2 sm:bottom-3 sm:right-3 flex flex-col items-center rotate-180",Vy[t.suit]),children:[a.jsx("span",{className:L("font-bold leading-none",i[n]),children:t.value}),a.jsx("span",{className:L("leading-none",o[n]),children:Fy[t.suit]})]})]})]}),r&&e&&l&&a.jsx("div",{className:"mt-6 text-center max-w-xs mx-auto",children:a.jsxs("div",{className:"bg-black/40 backdrop-blur-md rounded-xl p-5 border border-white/10",children:[a.jsx("div",{className:"text-4xl mb-3",children:l.emoji}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:l.title}),a.jsx("p",{className:"text-white/70",children:l.description})]})})]})}function qy(){return a.jsxs("div",{className:"flex flex-col items-center justify-center py-4 select-none",children:[a.jsx(te.div,{animate:{scale:[1,1.15,1],opacity:[.8,1,.8]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"mb-3",children:a.jsx("span",{className:"text-5xl sm:text-6xl block",children:""})}),a.jsx(te.p,{animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"text-white/70 text-sm sm:text-base font-medium",children:"..."})]})}function RA({players:t,currentPlayerId:e}){return a.jsxs("div",{className:"bg-black/40 backdrop-blur-md rounded-xl p-3 sm:p-4 relative z-10 border border-white/10",children:[a.jsxs("h3",{className:"text-xs sm:text-sm font-medium text-white/60 mb-2 sm:mb-3 flex items-center gap-2",children:[a.jsx(vT,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white/60"}),a.jsxs("span",{className:"text-white",children:[" (",t.length,")"]})]}),a.jsx("div",{className:"flex gap-2 sm:gap-3 overflow-x-auto sm:flex-wrap sm:overflow-visible pb-2 sm:pb-0 -mx-1 px-1 scrollbar-hide",children:t.map(n=>a.jsxs("div",{className:L("flex flex-col items-center gap-1 sm:gap-2 p-2 sm:p-3 rounded-xl text-xs sm:text-sm font-medium transition-all flex-shrink-0 min-w-[70px] sm:min-w-[90px]",n.id===e?"bg-white text-black ring-2 ring-amber-400":"bg-white/10 text-white hover:bg-white/20"),children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:`/king-s-cup-party/${n.avatar||1}.jpg`,alt:n.name,className:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 rounded-full object-cover border-2 sm:border-3 border-white/40 shadow-lg"}),n.is_host&&a.jsx(za,{className:"w-4 h-4 sm:w-5 sm:h-5 text-amber-400 absolute -top-1 -right-1 drop-shadow-md"})]}),a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("span",{className:"truncate max-w-[60px] sm:max-w-[80px]",children:n.name}),n.id===e&&a.jsx("span",{className:"text-[10px] sm:text-xs opacity-60",children:"()"})]})]},n.id))})]})}function _X({cardsRemaining:t,onDraw:e,disabled:n,showCount:r=!0}){const s=p.useMemo(()=>Array.from({length:8}).map(()=>({rotation:(Math.random()-.5)*6,offsetX:(Math.random()-.5)*4,offsetY:(Math.random()-.5)*2})),[]),i=Math.min(Math.ceil(t/7),8);return t===0?a.jsx("div",{className:"relative w-28 h-40 sm:w-36 sm:h-52 md:w-44 md:h-64 rounded-xl border-2 border-dashed border-white/20 flex items-center justify-center bg-black/20 backdrop-blur-sm",children:a.jsx("span",{className:"text-white/50 text-sm sm:text-lg",children:""})}):a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"relative w-28 h-40 sm:w-36 sm:h-52 md:w-44 md:h-64",children:Array.from({length:i}).map((o,l)=>{const c=l===i-1,u=s[l];return a.jsx("div",{className:L("absolute w-full h-full rounded-xl transition-all duration-200 overflow-hidden","shadow-lg",c&&!n&&"hover:scale-[1.03] hover:-translate-y-2 cursor-pointer hover:shadow-xl"),style:{bottom:`${l*2}px`,transform:`rotate(${u.rotation}deg) translateX(${u.offsetX}px)`,zIndex:l},onClick:c&&!n?e:void 0,children:a.jsx(Wp,{})},l)})}),r&&a.jsxs("div",{className:"absolute -top-8 sm:-top-10 left-1/2 -translate-x-1/2 px-3 sm:px-4 py-1 sm:py-1.5 rounded-full bg-black/60 backdrop-blur-sm text-xs sm:text-sm font-medium border border-white/10 z-20",children:[a.jsx("span",{className:"text-lg sm:text-xl font-bold text-white",children:t}),a.jsx("span",{className:"text-white/60 ml-1",children:""})]})]})}const IA=p.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{className:L("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));IA.displayName="Textarea";const Tg="custom_rules_";function PA(t){const[e,n]=p.useState(co);return p.useEffect(()=>{const i=localStorage.getItem(Tg+t);if(i)try{n(JSON.parse(i))}catch{n(co)}},[t]),{customRules:e,saveRules:i=>{n(i),localStorage.setItem(Tg+t,JSON.stringify(i))},resetRules:()=>{n(co),localStorage.removeItem(Tg+t)}}}function CX({roomCode:t,isHost:e,onRulesChange:n}){const{toast:r}=wt(),[s,i]=p.useState(!1),[o,l]=p.useState(co),{customRules:c,saveRules:u,resetRules:d}=PA(t);p.useEffect(()=>{l(c),n==null||n(c)},[c,n]);const h=()=>{u(o),n==null||n(o),i(!1),r({title:" !",description:""})},f=()=>{d(),l(co),n==null||n(co),r({title:" ",description:""})},m=(w,g,y)=>{l(x=>({...x,[w]:{...x[w],[g]:y}}))};return e?a.jsxs(Wr,{open:s,onOpenChange:i,children:[a.jsx(Ri,{asChild:!0,children:a.jsx(D,{variant:"ghost",size:"icon",className:"text-white/70 hover:text-amber-400 hover:bg-amber-400/10 w-8 h-8 sm:w-10 sm:h-10",children:a.jsx(wu,{className:"w-4 h-4 sm:w-5 sm:h-5"})})}),a.jsxs(fr,{className:"max-w-lg max-h-[90vh] bg-gray-900 border-white/10 text-white",children:[a.jsxs(pr,{children:[a.jsx(mr,{className:"text-xl font-bold flex items-center gap-2",children:" "}),a.jsx(Hr,{className:"sr-only",children:""})]}),a.jsx(Ii,{className:"h-[60vh] pr-4",children:a.jsx("div",{className:"space-y-4",children:N2.map(w=>{var g,y,x;return a.jsxs("div",{className:"bg-black/40 rounded-xl p-4 border border-white/10",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("span",{className:"text-2xl w-10 h-10 flex items-center justify-center bg-white/10 rounded-lg font-bold",children:w}),a.jsx(me,{value:((g=o[w])==null?void 0:g.emoji)||"",onChange:v=>m(w,"emoji",v.target.value),className:"w-16 text-center text-xl bg-black/30 border-white/20",placeholder:""}),a.jsx(me,{value:((y=o[w])==null?void 0:y.title)||"",onChange:v=>m(w,"title",v.target.value),className:"flex-1 bg-black/30 border-white/20",placeholder:""})]}),a.jsx(IA,{value:((x=o[w])==null?void 0:x.description)||"",onChange:v=>m(w,"description",v.target.value),className:"bg-black/30 border-white/20 resize-none",placeholder:"...",rows:2})]},w)})})}),a.jsxs("div",{className:"flex gap-2 pt-4 border-t border-white/10",children:[a.jsxs(D,{variant:"outline",onClick:f,className:"flex-1 border-white/20 text-white hover:bg-white/10",children:[a.jsx(oo,{className:"w-4 h-4 mr-2"}),""]}),a.jsxs(D,{onClick:h,className:"flex-1 bg-amber-500 hover:bg-amber-600 text-black",children:[a.jsx(r0,{className:"w-4 h-4 mr-2"}),""]})]})]})]}):null}const NX=np("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function au({className:t,variant:e,...n}){return a.jsx("div",{className:L(NX({variant:e}),t),...n})}async function SX(t,e=3){try{const n=[],r=` Undercover  "${t}"
    
:
-  
-  Undercover 
- 
- 

:
 "": Civilian: "", Undercover: ""
 "": Civilian: "", Undercover: ""
 "": Civilian: "", Undercover: ""

 ${e}  "${t}":`;await new Promise(i=>setTimeout(i,1500));const s=t.toLowerCase();return s.includes("")||s.includes("")?n.push({category:t,word_civilian:"",word_undercover:""},{category:t,word_civilian:"",word_undercover:""},{category:t,word_civilian:"",word_undercover:""}):s.includes("")||s.includes("")?n.push({category:t,word_civilian:"",word_undercover:""},{category:t,word_civilian:"",word_undercover:""},{category:t,word_civilian:"",word_undercover:""}):s.includes("")?n.push({category:t,word_civilian:"",word_undercover:""},{category:t,word_civilian:"",word_undercover:""},{category:t,word_civilian:"",word_undercover:""}):s.includes("")?n.push({category:t,word_civilian:"",word_undercover:""},{category:t,word_civilian:"",word_undercover:""},{category:t,word_civilian:"",word_undercover:""}):s.includes("")||s.includes("")?n.push({category:t,word_civilian:"",word_undercover:""},{category:t,word_civilian:"",word_undercover:""},{category:t,word_civilian:"",word_undercover:""}):s.includes("")?n.push({category:t,word_civilian:"",word_undercover:""},{category:t,word_civilian:"",word_undercover:""},{category:t,word_civilian:"",word_undercover:""}):s.includes("")||s.includes("")?n.push({category:t,word_civilian:"",word_undercover:""},{category:t,word_civilian:"",word_undercover:""},{category:t,word_civilian:"",word_undercover:""}):s.includes("")?n.push({category:t,word_civilian:"",word_undercover:""},{category:t,word_civilian:"",word_undercover:""},{category:t,word_civilian:"",word_undercover:""}):n.push({category:t,word_civilian:"",word_undercover:""},{category:t,word_civilian:"",word_undercover:""},{category:t,word_civilian:"",word_undercover:""}),n.slice(0,e)}catch(n){throw console.error("Error generating vocabulary:",n),new Error(" ")}}async function AA(t,e=4,n="medium"){try{await new Promise(c=>setTimeout(c,1e3));const r=[" 1 ",""," 1  "," 1 "," 1 "],s=[":  '' "," 1-21  7  7 ","  "," "," '':  ","  ","  "],i=["Master Rule:   ",":  ''  3 ",":    1 ",":   2 ","  ",`:  ${e}  `,":   "];let o;switch(n){case"easy":o=r;break;case"hard":o=i;break;default:o=s}const l=o[Math.floor(Math.random()*o.length)];return{card:t,rule:l,difficulty:n}}catch(r){throw console.error("Error generating rule:",r),new Error(" ")}}async function EX(t=5,e=4){const n=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],r=["easy","medium","hard"],s=[];for(let i=0;i<t;i++){const o=n[Math.floor(Math.random()*n.length)],l=r[Math.floor(Math.random()*r.length)];s.push(AA(o,e,l))}return Promise.all(s)}async function kX(t=5){try{const e=` Paranoia
    
:
- 
-   
- 
- 

:
- "?"
- "?"
- "?"

 ${t} :`;return await new Promise(s=>setTimeout(s,1200)),[...["?","?","?","?","?","?","?","?","?","?","?","?","?","?","?"]].sort(()=>Math.random()-.5).slice(0,t)}catch(e){return console.error("Error generating Paranoia questions:",e),["?","?","?","?","?"].slice(0,t)}}function TX({playerCount:t,onApplyRule:e}){const[n,r]=p.useState(!1),[s,i]=p.useState(!1),[o,l]=p.useState([]),[c,u]=p.useState(null),{toast:d}=wt(),h=async()=>{i(!0);try{const y=await EX(5,t);l(y),d({title:" !",description:`AI  ${y.length} `})}catch(y){d({title:"",description:y instanceof Error?y.message:"",variant:"destructive"})}finally{i(!1)}},f=async y=>{i(!0);try{const x=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],v=x[Math.floor(Math.random()*x.length)],b=await AA(v,t,y);l([b,...o]),d({title:" !",description:` ${b.card}`})}catch(x){d({title:"",description:x instanceof Error?x.message:"",variant:"destructive"})}finally{i(!1)}},m=(y,x)=>{navigator.clipboard.writeText(`${y.card}: ${y.rule}`),u(x),setTimeout(()=>u(null),2e3),d({title:"!",description:""})},w=y=>{switch(y){case"easy":return"bg-green-500/20 text-green-400 border-green-500/30";case"medium":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"hard":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},g=y=>{switch(y){case"easy":return"";case"medium":return"";case"hard":return"";default:return y}};return a.jsxs(Wr,{open:n,onOpenChange:r,children:[a.jsx(Ri,{asChild:!0,children:a.jsxs(D,{variant:"outline",size:"sm",className:"bg-gradient-to-r from-purple-500/20 to-pink-500/20 border-purple-500/30 text-purple-300 hover:from-purple-500/30 hover:to-pink-500/30",children:[a.jsx(kr,{className:"w-4 h-4 mr-2"}),"AI "]})}),a.jsxs(fr,{className:"sm:max-w-2xl bg-gray-900 text-white border-white/20 max-h-[90vh] flex flex-col",children:[a.jsxs(pr,{children:[a.jsxs(mr,{className:"flex items-center gap-2 text-xl",children:[a.jsx(kr,{className:"w-6 h-6 text-purple-400"}),"AI Rule Generator"]}),a.jsxs(Hr,{className:"text-white/60",children:[" AI   ",t," "]})]}),a.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(D,{onClick:()=>h(),disabled:s,className:"flex-1 bg-purple-500 hover:bg-purple-600",children:s?a.jsxs(a.Fragment,{children:[a.jsx(pt,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"w-4 h-4 mr-2"})," 5 "]})}),o.length>0&&a.jsx(D,{onClick:()=>l([]),variant:"outline",className:"border-white/20 text-white/70 hover:bg-white/10",children:""})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsx(D,{onClick:()=>f("easy"),disabled:s,variant:"outline",className:"border-green-500/30 text-green-400 hover:bg-green-500/10",size:"sm",children:"+ "}),a.jsx(D,{onClick:()=>f("medium"),disabled:s,variant:"outline",className:"border-yellow-500/30 text-yellow-400 hover:bg-yellow-500/10",size:"sm",children:"+ "}),a.jsx(D,{onClick:()=>f("hard"),disabled:s,variant:"outline",className:"border-red-500/30 text-red-400 hover:bg-red-500/10",size:"sm",children:"+ "})]}),o.length>0?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h3",{className:"text-sm font-semibold text-white/80",children:[" (",o.length,"):"]}),o.map((y,x)=>a.jsx("div",{className:"bg-black/40 backdrop-blur-md rounded-lg p-4 border border-white/10 hover:border-white/20 transition-colors",children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsxs(au,{variant:"outline",className:"bg-purple-500/20 text-purple-300 border-purple-500/30",children:[" ",y.card]}),a.jsx(au,{variant:"outline",className:w(y.difficulty),children:g(y.difficulty)})]}),a.jsx("p",{className:"text-white/90 text-sm leading-relaxed",children:y.rule})]}),a.jsx(D,{onClick:()=>m(y,x),size:"sm",variant:"ghost",className:"text-white/60 hover:text-white hover:bg-white/10",children:c===x?a.jsx(io,{className:"w-4 h-4 text-green-400"}):a.jsx(yo,{className:"w-4 h-4"})})]})},x))]}):a.jsxs("div",{className:"text-center py-12 text-white/40",children:[a.jsx(kr,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),a.jsx("p",{className:"text-sm",children:" AI "})]})]}),a.jsx("div",{className:"border-t border-white/10 pt-4 mt-4",children:a.jsx("p",{className:"text-xs text-white/40 text-center",children:"  "})})]})]})}const DA=()=>{const{userId:t}=zr(),[e,n]=p.useState([]),[r,s]=p.useState([]),[i,o]=p.useState([]),[l,c]=p.useState(!0);return p.useEffect(()=>{if(!t){n([]),s([]),o([]),c(!1);return}const y=Be(ze,`users/${t}/friends`),x=Be(ze,`users/${t}/friendRequests`),v=Be(ze,`users/${t}/gameInvites`),b=new Map,N=zo(y,E=>{const k=E.val();if(k){const T=Object.entries(k).map(([I,F])=>({id:I,displayName:F.displayName,addedAt:F.addedAt}));T.forEach(I=>{if(!b.has(I.id)){const F=Be(ze,`users/${I.id}`),P=zo(F,$=>{if($.exists()){const V=$.val().displayName;n(z=>z.map(A=>A.id===I.id?{...A,displayName:V}:A))}});b.set(I.id,P)}});const R=new Set(T.map(I=>I.id));b.forEach((I,F)=>{R.has(F)||(I(),b.delete(F))}),n(T)}else b.forEach(T=>T()),b.clear(),n([]);c(!1)}),_=zo(x,E=>{const k=E.val();if(k){const T=Object.entries(k).map(([R,I])=>({id:R,fromId:I.fromId,fromName:I.fromName,sentAt:I.sentAt}));s(T)}else s([])}),C=new Map,S=zo(v,E=>{const k=E.val();if(k){const R=Object.entries(k).map(([F,P])=>({id:F,fromId:P.fromId,fromName:P.fromName,roomCode:P.roomCode,gameType:P.gameType,gameName:P.gameName,sentAt:P.sentAt})).filter(F=>Date.now()-F.sentAt<10*60*1e3);R.forEach(F=>{if(!C.has(F.fromId)){const P=Be(ze,`users/${F.fromId}`),$=zo(P,V=>{if(V.exists()){const z=V.val().displayName;o(A=>A.map(M=>M.fromId===F.fromId?{...M,fromName:z}:M))}});C.set(F.fromId,$)}});const I=new Set(R.map(F=>F.fromId));C.forEach((F,P)=>{I.has(P)||(F(),C.delete(P))}),o(R)}else C.forEach(T=>T()),C.clear(),o([])});return()=>{N(),_(),S(),b.forEach(E=>E()),b.clear(),C.forEach(E=>E()),C.clear()}},[t]),{friends:e,friendRequests:r,gameInvites:i,loading:l,searchUserById:async y=>{if(!y||y===t)return null;const x=Be(ze,`users/${y}`),v=await Wi(x);if(v.exists()){const b=v.val();return{id:b.id,displayName:b.displayName}}return null},sendFriendRequest:async y=>{if(!t)return!1;const x=Be(ze,`users/${t}`),v=await Wi(x);if(!v.exists())return!1;const b=v.val(),N=Be(ze,`users/${t}/friends/${y}`);if((await Wi(N)).exists())return!1;const C=Be(ze,`users/${y}/friendRequests/${t}`);return await sa(C,{fromId:t,fromName:b.displayName,sentAt:Date.now()}),!0},acceptFriendRequest:async(y,x,v)=>{if(!t)return!1;const b=Be(ze,`users/${t}`),N=await Wi(b);if(!N.exists())return!1;const _=N.val(),C=Be(ze,`users/${t}/friends/${x}`),S=Be(ze,`users/${x}/friends/${t}`);await sa(C,{displayName:v,addedAt:Date.now()}),await sa(S,{displayName:_.displayName,addedAt:Date.now()});const E=Be(ze,`users/${t}/friendRequests/${y}`);return await Wl(E),!0},declineFriendRequest:async y=>{if(!t)return!1;const x=Be(ze,`users/${t}/friendRequests/${y}`);return await Wl(x),!0},removeFriend:async y=>{if(!t)return!1;const x=Be(ze,`users/${t}/friends/${y}`),v=Be(ze,`users/${y}/friends/${t}`);return await Wl(x),await Wl(v),!0},sendGameInvite:async(y,x,v,b)=>{if(!t)return!1;const N=Be(ze,`users/${t}`),_=await Wi(N);if(!_.exists())return!1;const C=_.val(),S=Be(ze,`users/${y}/gameInvites/${Date.now()}`);return await sa(S,{fromId:t,fromName:C.displayName,roomCode:x,gameType:v,gameName:b,sentAt:Date.now()}),!0},dismissGameInvite:async y=>{if(!t)return!1;const x=Be(ze,`users/${t}/gameInvites/${y}`);return await Wl(x),!0}}},MA=({onClose:t,currentRoomCode:e,currentGameType:n,currentGameName:r,onJoinRoom:s})=>{const{userId:i,displayName:o,logout:l,updateDisplayName:c}=zr(),{friends:u,friendRequests:d,gameInvites:h,loading:f,searchUserById:m,sendFriendRequest:w,acceptFriendRequest:g,declineFriendRequest:y,removeFriend:x,sendGameInvite:v,dismissGameInvite:b}=DA(),[N,_]=p.useState(""),[C,S]=p.useState(null),[E,k]=p.useState(!1),[T,R]=p.useState("friends"),[I,F]=p.useState(null),[P,$]=p.useState(!1),[V,z]=p.useState(o||""),[A,M]=p.useState(!1),j=async()=>{if(V.trim().length<2){st.error(" 2 ");return}if(V.trim().length>20){st.error(" 20 ");return}M(!0);const G=await c(V.trim());M(!1),G?(st.success("!"),$(!1)):st.error("")},W=async()=>{if(!N.trim())return;k(!0);const G=await m(N.trim());S(G),k(!1),G||st.error("")},K=async()=>{if(!C)return;await w(C.id)?(st.success("!"),S(null),_("")):st.error("")},re=async(G,fe,Ue)=>{await g(G,fe,Ue)&&st.success(` ${Ue} !`)},ae=async G=>{await y(G),st.info("")},Te=async(G,fe)=>{await x(G)&&st.info(` ${fe} `)},Re=async(G,fe)=>{if(!e||!n||!r){st.error("");return}F(G);const Ue=await v(G,e,n,r);F(null),Ue?st.success(` ${fe} !`):st.error("")},Q=async G=>{await b(G.id),s?(s(G.roomCode,G.gameType),t(),st.success(` ${G.roomCode}...`)):(navigator.clipboard.writeText(G.roomCode),st.success(` ${G.roomCode} !`))},_e=async G=>{await b(G),st.info("")},Ae=()=>{i&&(navigator.clipboard.writeText(i),st.success(" ID !"))},be=async()=>{await l(),t(),st.info("")};return d.length+h.length,Jx.createPortal(a.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",style:{zIndex:9999},onClick:t,children:a.jsxs(te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-zinc-900 rounded-2xl w-full max-w-md max-h-[85vh] overflow-hidden border border-zinc-700",style:{zIndex:1e4},onClick:G=>G.stopPropagation(),children:[a.jsx("div",{className:"bg-gradient-to-r from-cyan-600 to-blue-600 p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center font-bold text-lg",children:(o==null?void 0:o.charAt(0).toUpperCase())||"?"}),a.jsxs("div",{children:[P?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(me,{value:V,onChange:G=>z(G.target.value),className:"h-8 w-32 bg-white/20 border-white/30 text-white placeholder:text-white/50",placeholder:"...",maxLength:20}),a.jsx(D,{size:"icon",variant:"ghost",onClick:j,disabled:A,className:"h-8 w-8 text-white hover:bg-white/20",children:A?a.jsx(pt,{className:"animate-spin",size:16}):a.jsx(io,{size:16})}),a.jsx(D,{size:"icon",variant:"ghost",onClick:()=>{$(!1),z(o||"")},className:"h-8 w-8 text-white hover:bg-white/20",children:a.jsx(Tr,{size:16})})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h2",{className:"font-bold text-lg",children:o}),a.jsx(D,{size:"icon",variant:"ghost",onClick:()=>{z(o||""),$(!0)},className:"h-6 w-6 text-white/70 hover:text-white hover:bg-white/20",children:a.jsx(Oh,{size:14})})]}),a.jsxs("p",{className:"text-xs text-white/70",children:["ID: ",i==null?void 0:i.slice(0,8),"..."]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(D,{size:"icon",variant:"ghost",onClick:Ae,className:"text-white hover:bg-white/20",children:a.jsx(yo,{size:18})}),a.jsx(D,{size:"icon",variant:"ghost",onClick:be,className:"text-white hover:bg-white/20",children:a.jsx(vu,{size:18})}),a.jsx(D,{size:"icon",variant:"ghost",onClick:t,className:"text-white hover:bg-white/20",children:a.jsx(Tr,{size:18})})]})]})}),a.jsxs("div",{className:"flex border-b border-zinc-700",children:[a.jsxs("button",{onClick:()=>R("friends"),className:`flex-1 py-3 text-sm font-medium transition-colors ${T==="friends"?"text-cyan-400 border-b-2 border-cyan-400":"text-zinc-400 hover:text-white"}`,children:[a.jsx(Vn,{size:16,className:"inline mr-1"}),""]}),a.jsxs("button",{onClick:()=>R("requests"),className:`flex-1 py-3 text-sm font-medium transition-colors relative ${T==="requests"?"text-cyan-400 border-b-2 border-cyan-400":"text-zinc-400 hover:text-white"}`,children:[a.jsx(m5,{size:16,className:"inline mr-1"}),"",d.length>0&&a.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-red-500 rounded-full text-xs",children:d.length})]}),a.jsxs("button",{onClick:()=>R("invites"),className:`flex-1 py-3 text-sm font-medium transition-colors relative ${T==="invites"?"text-cyan-400 border-b-2 border-cyan-400":"text-zinc-400 hover:text-white"}`,children:[a.jsx(kv,{size:16,className:"inline mr-1"}),"",h.length>0&&a.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-green-500 rounded-full text-xs",children:h.length})]}),a.jsx("button",{onClick:()=>R("search"),className:`flex-1 py-3 text-sm font-medium transition-colors ${T==="search"?"text-cyan-400 border-b-2 border-cyan-400":"text-zinc-400 hover:text-white"}`,children:a.jsx(Tv,{size:16,className:"inline"})})]}),a.jsx("div",{className:"p-4 overflow-y-auto max-h-[50vh]",children:f?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(pt,{className:"animate-spin",size:24})}):a.jsxs(a.Fragment,{children:[T==="friends"&&a.jsxs("div",{className:"space-y-2",children:[e&&a.jsxs("div",{className:"mb-4 p-3 bg-gradient-to-r from-green-600/20 to-emerald-600/20 rounded-lg border border-green-500/30",children:[a.jsxs("p",{className:"text-sm text-green-400 flex items-center gap-2",children:[a.jsx(kv,{size:16}),":"," ",a.jsx("span",{className:"font-bold",children:e})]}),a.jsx("p",{className:"text-xs text-zinc-400 mt-1",children:""})]}),u.length===0?a.jsx("p",{className:"text-center text-zinc-500 py-8",children:""}):u.map(G=>a.jsxs(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center justify-between p-3 bg-zinc-800 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-cyan-500 to-blue-500 flex items-center justify-center font-bold",children:G.displayName.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:G.displayName}),a.jsxs("p",{className:"text-xs text-zinc-500",children:["ID: ",G.id.slice(0,8),"..."]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[e&&a.jsx(D,{size:"icon",onClick:()=>Re(G.id,G.displayName),disabled:I===G.id,className:"bg-green-600 hover:bg-green-700",children:I===G.id?a.jsx(pt,{className:"animate-spin",size:18}):a.jsx(C5,{size:18})}),a.jsx(D,{size:"icon",variant:"ghost",onClick:()=>Te(G.id,G.displayName),className:"text-red-400 hover:text-red-300 hover:bg-red-500/20",children:a.jsx(N5,{size:18})})]})]},G.id))]}),T==="requests"&&a.jsx("div",{className:"space-y-2",children:d.length===0?a.jsx("p",{className:"text-center text-zinc-500 py-8",children:""}):d.map(G=>a.jsxs(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center justify-between p-3 bg-zinc-800 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center font-bold",children:G.fromName.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:G.fromName}),a.jsx("p",{className:"text-xs text-zinc-500",children:""})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(D,{size:"icon",onClick:()=>re(G.id,G.fromId,G.fromName),className:"bg-green-600 hover:bg-green-700",children:a.jsx(io,{size:18})}),a.jsx(D,{size:"icon",variant:"ghost",onClick:()=>ae(G.id),className:"text-red-400 hover:text-red-300 hover:bg-red-500/20",children:a.jsx(Tr,{size:18})})]})]},G.id))}),T==="invites"&&a.jsx("div",{className:"space-y-2",children:h.length===0?a.jsx("p",{className:"text-center text-zinc-500 py-8",children:""}):h.map(G=>a.jsxs(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"p-3 bg-zinc-800 rounded-lg border border-green-500/30",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center font-bold",children:G.fromName.charAt(0).toUpperCase()}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:G.fromName}),a.jsxs("p",{className:"text-xs text-zinc-500",children:[" ",G.gameName]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsxs("div",{className:"flex-1 bg-zinc-900 px-3 py-2 rounded text-sm",children:[a.jsx("span",{className:"text-zinc-400",children:": "}),a.jsx("span",{className:"text-green-400 font-mono font-bold",children:G.roomCode})]}),a.jsxs(D,{size:"sm",onClick:()=>Q(G),className:"bg-green-600 hover:bg-green-700",children:[a.jsx(io,{size:16,className:"mr-1"}),""]}),a.jsx(D,{size:"icon",variant:"ghost",onClick:()=>_e(G.id),className:"text-red-400 hover:text-red-300 hover:bg-red-500/20",children:a.jsx(Tr,{size:18})})]}),a.jsxs("p",{className:"text-xs text-zinc-600 mt-2",children:[""," ",Math.max(0,Math.ceil((10*60*1e3-(Date.now()-G.sentAt))/6e4))," ",""]})]},G.id))}),T==="search"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(me,{value:N,onChange:G=>_(G.target.value),placeholder:" ID ...",className:"bg-zinc-800 border-zinc-700"}),a.jsx(D,{onClick:W,disabled:E,children:E?a.jsx(pt,{className:"animate-spin",size:18}):a.jsx(Tv,{size:18})})]}),C&&a.jsxs(te.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center justify-between p-4 bg-zinc-800 rounded-lg border border-cyan-500/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-cyan-500 to-blue-500 flex items-center justify-center font-bold text-lg",children:C.displayName.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-lg",children:C.displayName}),a.jsxs("p",{className:"text-xs text-zinc-500",children:["ID: ",C.id.slice(0,8),"..."]})]})]}),a.jsxs(D,{onClick:K,className:"bg-cyan-600 hover:bg-cyan-700",children:[a.jsx(gT,{size:18,className:"mr-2"}),""]})]}),a.jsxs("div",{className:"mt-6 p-4 bg-zinc-800/50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-zinc-400 text-center",children:" ID :"}),a.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[a.jsx("code",{className:"bg-zinc-900 px-3 py-2 rounded text-cyan-400 text-sm break-all",children:i}),a.jsx(D,{size:"icon",variant:"ghost",onClick:Ae,children:a.jsx(yo,{size:16})})]})]})]})]})})]})}),document.body)},Mo=({currentRoomCode:t,currentGameType:e,currentGameName:n,onJoinRoom:r})=>{const{user:s,loading:i,login:o}=zr(),{gameInvites:l,friendRequests:c}=DA(),[u,d]=p.useState(!1),[h,f]=p.useState(!1),m=async()=>{f(!0);try{await o(),st.success("!")}catch{st.error("")}finally{f(!1)}},w=((l==null?void 0:l.length)||0)+((c==null?void 0:c.length)||0);return i?a.jsx(D,{variant:"ghost",size:"sm",disabled:!0,className:"text-white",children:a.jsx(pt,{className:"animate-spin",size:18})}):a.jsxs(a.Fragment,{children:[s?a.jsxs(D,{onClick:()=>d(!0),size:"sm",className:"bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 relative text-white",children:[a.jsx(Vn,{size:16,className:"mr-1"}),"",w>0&&a.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-[10px] flex items-center justify-center animate-pulse",children:w})]}):a.jsxs(D,{onClick:m,disabled:h,size:"sm",className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white",children:[h?a.jsx(pt,{className:"animate-spin mr-1",size:16}):a.jsx(b5,{size:16,className:"mr-1"}),""]}),a.jsx(Ip,{children:u&&a.jsx(MA,{onClose:()=>d(!1),currentRoomCode:t,currentGameType:e,currentGameName:n,onJoinRoom:r})})]})};function OA({active:t,duration:e=3e3,onComplete:n}){const[r,s]=p.useState([]);return p.useEffect(()=>{if(!t){s([]);return}const i=["#FFD700","#FF69B4","#00CED1","#FF6347","#9370DB","#32CD32","#FF1493","#00BFFF"],o=[],l=50;for(let h=0;h<l;h++)o.push({id:h,x:Math.random()*window.innerWidth,y:-20,rotation:Math.random()*360,scale:Math.random()*.5+.5,color:i[Math.floor(Math.random()*i.length)],velocityX:(Math.random()-.5)*8,velocityY:Math.random()*3+2,rotationSpeed:(Math.random()-.5)*10});s(o);const c=Date.now();let u;const d=()=>{if(Date.now()-c>e){s([]),n==null||n();return}s(f=>f.map(m=>({...m,x:m.x+m.velocityX,y:m.y+m.velocityY,rotation:m.rotation+m.rotationSpeed,velocityY:m.velocityY+.2}))),u=requestAnimationFrame(d)};return u=requestAnimationFrame(d),()=>{cancelAnimationFrame(u)}},[t,e,n]),!t||r.length===0?null:a.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:r.map(i=>a.jsx("div",{className:"absolute w-3 h-3 rounded-sm",style:{left:i.x,top:i.y,backgroundColor:i.color,transform:`rotate(${i.rotation}deg) scale(${i.scale})`,transition:"none"}},i.id))})}function jX({room:t,players:e,currentPlayerId:n,isHost:r,onStartGame:s,onDrawCard:i,onReshuffle:o,onLeave:l}){var C,S,E,k,T,R;const{toast:c}=wt(),[u,d]=p.useState(!1),[h,f]=p.useState(0),[m,w]=p.useState(0),g=p.useRef(null),{customRules:y}=PA(t.code),x=y,v=async()=>{const I=t.code;let F=!1;try{navigator.clipboard&&navigator.clipboard.writeText&&(await navigator.clipboard.writeText(I),F=!0)}catch{}if(!F)try{const P=document.createElement("textarea");P.value=I,P.style.position="fixed",P.style.left="-9999px",P.style.top="0",document.body.appendChild(P),P.focus(),P.select();const $=document.execCommand("copy");document.body.removeChild(P),F=$}catch{}c({title:F?" !":" ",description:I,duration:5e3})},b=()=>{if(t.cards_remaining===0)return;const I=Date.now();if(I-m<500&&h>0){const P=h+1;if(f(P),w(I),P>=3&&r){f(0),o(),c({title:" !",description:""});return}}else f(1),w(I),N()},N=()=>{t.cards_remaining!==0&&(d(!1),setTimeout(()=>{i(),setTimeout(()=>{d(!0),setTimeout(()=>{var I;(I=g.current)==null||I.scrollIntoView({behavior:"smooth",block:"center"})},300)},300)},200))},_=t.cards_remaining===0&&t.current_card!==null;return a.jsxs("div",{className:"min-h-screen min-h-[100dvh] flex flex-col p-2 sm:p-4 md:p-6 relative overflow-hidden",children:[a.jsx(OA,{active:_&&t.cards_remaining===0,duration:6e3}),a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat blur-sm scale-105",style:{backgroundImage:"url('/king-s-cup-party/bg-game.jpg')"}}),a.jsx("div",{className:"absolute inset-0 bg-black/50"}),a.jsxs("header",{className:"flex items-center justify-between mb-2 sm:mb-4 relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[a.jsx(D,{variant:"ghost",size:"icon",onClick:l,className:"text-white/70 hover:text-red-400 hover:bg-red-400/10 w-8 h-8 sm:w-10 sm:h-10",children:a.jsx(vu,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"font-semibold text-white text-sm sm:text-lg",children:" "}),a.jsxs("button",{onClick:v,className:"flex items-center gap-1 text-xs sm:text-sm text-white/60 hover:text-white transition-colors",children:[a.jsx("span",{className:"font-mono bg-white/10 px-1.5 sm:px-2 py-0.5 rounded text-xs sm:text-sm",children:t.code}),a.jsx(yo,{className:"w-3 h-3"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Mo,{currentRoomCode:t.code,currentGameType:"kingscup",currentGameName:B("kingsCup")}),r&&a.jsx(CX,{roomCode:t.code,isHost:r}),a.jsx(TX,{playerCount:e.length}),r&&t.game_started&&!_&&a.jsx(D,{variant:"ghost",size:"icon",onClick:()=>{o(),c({title:" !",description:""})},className:"text-white/70 hover:text-amber-400 hover:bg-amber-400/10 w-8 h-8 sm:w-10 sm:h-10",children:a.jsx(Lh,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),r&&!t.game_started&&a.jsxs(D,{variant:"default",onClick:s,disabled:e.length<2,className:"bg-white text-black hover:bg-white/90 text-xs sm:text-sm px-3 sm:px-4",children:[a.jsx(yu,{className:"w-3 h-3 sm:w-4 sm:h-4"}),a.jsx("span",{className:"hidden sm:inline",children:""}),a.jsx("span",{className:"sm:hidden",children:""})]})]})]}),a.jsx("div",{className:"mb-2 sm:mb-4",children:a.jsx(RA,{players:e,currentPlayerId:n??void 0})}),a.jsx("div",{className:"flex-1 flex flex-col items-center justify-center py-4 sm:py-6 md:py-8 relative z-10",children:t.game_started?_?a.jsx("div",{className:"text-center px-2",children:a.jsxs("div",{className:"bg-black/40 backdrop-blur-md rounded-2xl p-6 sm:p-8 border border-white/10",children:[a.jsx("div",{className:"text-5xl sm:text-6xl mb-3 sm:mb-4",children:""}),a.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:"!"}),a.jsx("p",{className:"text-white/60 mb-4 sm:mb-6 text-base sm:text-lg",children:" !"}),r&&a.jsxs(D,{variant:"default",size:"lg",onClick:o,className:"bg-white text-black hover:bg-white/90",children:[a.jsx(Lh,{className:"w-4 h-4 sm:w-5 sm:h-5"}),""]})]})}):a.jsx("div",{className:"flex-1 flex flex-col items-center justify-center w-full px-2 sm:px-4",children:r?a.jsxs("div",{className:"flex flex-col items-center justify-center w-full",children:[t.current_card?a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(gS,{card:t.current_card,isFlipped:!0,showRule:!1,size:"large"}),a.jsx("div",{className:"mt-6 sm:mt-8 bg-black/60 backdrop-blur-md rounded-2xl px-6 py-4 sm:px-8 sm:py-6 border border-white/10 max-w-md",children:a.jsxs("div",{className:"flex items-center gap-4 sm:gap-5",children:[a.jsx("span",{className:"text-4xl sm:text-5xl md:text-6xl",children:((C=x[t.current_card.value])==null?void 0:C.emoji)||""}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-amber-400 font-bold text-lg sm:text-xl md:text-2xl",children:(S=x[t.current_card.value])==null?void 0:S.title}),a.jsx("p",{className:"text-white/80 text-sm sm:text-base md:text-lg",children:(E=x[t.current_card.value])==null?void 0:E.description})]})]})})]}):a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"w-48 h-72 sm:w-56 sm:h-80 md:w-64 md:h-96 flex items-center justify-center bg-black/30 backdrop-blur-md rounded-2xl border-2 border-dashed border-white/20",children:a.jsx(qy,{})}),a.jsx("div",{className:"mt-6 bg-black/40 backdrop-blur-md rounded-xl px-6 py-4 border border-white/10",children:a.jsxs("p",{className:"text-white/50 text-xs sm:text-sm text-center",children:["",a.jsx("br",{}),""]})})]}),a.jsxs("div",{className:"mt-6 bg-black/40 backdrop-blur-md rounded-full px-6 py-2 border border-white/10",children:[a.jsx("span",{className:"text-2xl sm:text-3xl font-bold text-white",children:t.cards_remaining}),a.jsx("span",{className:"text-white/60 ml-2",children:""})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-center gap-4 sm:gap-8 md:gap-12",children:[t.current_card?a.jsx(gS,{card:t.current_card,isFlipped:u,showRule:!1}):a.jsx("div",{className:"w-32 h-48 sm:w-44 sm:h-64 flex items-center justify-center bg-black/30 backdrop-blur-md rounded-xl border-2 border-dashed border-white/20",children:a.jsxs("p",{className:"text-white/50 text-xs sm:text-sm text-center px-2",children:["",a.jsx("br",{}),""]})}),a.jsx(_X,{cardsRemaining:t.cards_remaining,onDraw:b,disabled:t.cards_remaining===0,showCount:!0})]}),t.current_card&&u&&a.jsx("div",{ref:g,className:"mt-4 sm:mt-6 bg-black/60 backdrop-blur-md rounded-xl px-5 py-3 sm:px-6 sm:py-4 border border-white/10 max-w-sm",children:a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[a.jsx("span",{className:"text-3xl sm:text-4xl",children:((k=x[t.current_card.value])==null?void 0:k.emoji)||""}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-amber-400 font-bold text-sm sm:text-base",children:(T=x[t.current_card.value])==null?void 0:T.title}),a.jsx("p",{className:"text-white/80 text-xs sm:text-sm",children:(R=x[t.current_card.value])==null?void 0:R.description})]})]})})]})}):a.jsxs("div",{className:"text-center px-2",children:[a.jsxs("div",{className:"bg-black/40 backdrop-blur-md rounded-2xl p-5 sm:p-8 mb-4 sm:mb-6 border border-white/10",children:[a.jsx(qy,{}),a.jsx("p",{className:"text-white/60 text-xs sm:text-sm mt-2",children:r?'  ""':" Host "})]}),a.jsxs("div",{className:"bg-black/40 backdrop-blur-md rounded-xl p-4 sm:p-5 inline-block border border-white/10",children:[a.jsx("p",{className:"text-xs text-white/50 mb-1 sm:mb-2",children:""}),a.jsx("button",{onClick:v,className:"font-mono text-3xl sm:text-4xl font-bold text-white tracking-widest hover:opacity-80 transition-opacity",children:t.code})]})]})})]})}function RX({onCreateRoom:t,onJoinRoom:e,onQuickStart:n,isLoading:r,onBack:s}){const{displayName:i}=zr(),[o,l]=p.useState("menu"),[c,u]=p.useState(""),[d,h]=p.useState(""),[f,m]=p.useState(""),[w,g]=p.useState(!1),[y,x]=p.useState([]),v=p.useRef("");p.useEffect(()=>{i&&!c&&u(i)},[i]),p.useEffect(()=>{(async()=>{const S=await Up();x(S)})()},[]),p.useEffect(()=>{const C=S=>{if(S.target instanceof HTMLInputElement||S.target instanceof HTMLTextAreaElement)return;const E=S.key.toLowerCase(),k=v.current+E;"adminhee444".startsWith(k)?(v.current=k,k==="adminhee444"&&n&&(v.current="",g(!0))):v.current="adminhee444".startsWith(E)?E:""};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[n]);const b=async()=>{c.trim()&&await t(c.trim())},N=async()=>{!c.trim()||!d.trim()||await e(d.trim(),c.trim())},_=async()=>{!f.trim()||!n||(await n(f.trim()),g(!1),m(""))};return a.jsxs("div",{className:"min-h-screen min-h-[100dvh] flex flex-col items-center justify-center p-4 sm:p-6 relative",children:[a.jsx(sb,{names:y}),a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('/king-s-cup-party/bg-party.jpg')"}}),a.jsx("div",{className:"absolute inset-0 bg-black/60"}),s&&a.jsx("div",{className:"absolute top-4 left-4 z-20",children:a.jsx(D,{variant:"ghost",size:"icon",onClick:s,className:"text-white/70 hover:text-white hover:bg-white/10",children:a.jsx(ga,{className:"w-5 h-5 rotate-180"})})}),a.jsxs("div",{className:"text-center mb-6 sm:mb-8 relative z-10",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-2 drop-shadow-lg",children:""}),a.jsx("p",{className:"text-white/80 text-base sm:text-lg",children:" Online"})]}),a.jsxs("div",{className:"bg-black/40 backdrop-blur-md rounded-2xl w-full max-w-xs sm:max-w-sm p-4 sm:p-6 relative z-10 border border-white/10",children:[o==="menu"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs(D,{variant:"default",size:"lg",className:"w-full bg-white text-black hover:bg-white/90",onClick:()=>l("create"),children:[a.jsx(xu,{className:"w-5 h-5"}),""]}),a.jsx("p",{className:"text-white/50 text-xs text-center"})]}),a.jsxs(D,{variant:"outline",size:"lg",className:"w-full border-white/30 text-white hover:bg-white/10",onClick:()=>l("join"),children:[a.jsx(Vn,{className:"w-5 h-5"}),""]}),n&&a.jsxs("div",{className:"space-y-1 pt-2 border-t border-white/10",children:[a.jsxs(D,{variant:"ghost",size:"lg",className:"w-full text-white/70 hover:text-white hover:bg-white/10",onClick:()=>g(!0),disabled:r,children:[a.jsx(Fh,{className:"w-5 h-5"})," LIVE"]}),a.jsx("p",{className:"text-white/50 text-xs text-center",children:" "})]})]}),o==="create"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-white mb-1",children:""}),a.jsx("p",{className:"text-white/60 text-sm",children:""})]}),a.jsx(me,{placeholder:"",value:c,onChange:C=>u(C.target.value),className:"text-center bg-white/10 border-white/20 text-white placeholder:text-white/50",maxLength:20}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(D,{variant:"ghost",size:"lg",className:"flex-1 text-white/70 hover:text-white hover:bg-white/10",onClick:()=>l("menu"),children:""}),a.jsx(D,{variant:"default",size:"lg",className:"flex-1 bg-white text-black hover:bg-white/90",onClick:b,disabled:!c.trim()||r,children:r?a.jsx(pt,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:["",a.jsx(ga,{className:"w-4 h-4"})]})})]})]}),o==="join"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-white mb-1",children:""}),a.jsx("p",{className:"text-white/60 text-sm",children:""})]}),a.jsx(me,{placeholder:" (6 )",value:d,onChange:C=>h(C.target.value.toUpperCase()),className:"text-center text-xl font-mono tracking-widest bg-white/10 border-white/20 text-white placeholder:text-white/50",maxLength:6}),a.jsx(me,{placeholder:"",value:c,onChange:C=>u(C.target.value),className:"text-center bg-white/10 border-white/20 text-white placeholder:text-white/50",maxLength:20}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(D,{variant:"ghost",size:"lg",className:"flex-1 text-white/70 hover:text-white hover:bg-white/10",onClick:()=>l("menu"),children:""}),a.jsx(D,{variant:"default",size:"lg",className:"flex-1 bg-white text-black hover:bg-white/90",onClick:N,disabled:!c.trim()||d.length!==6||r,children:r?a.jsx(pt,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:["",a.jsx(ga,{className:"w-4 h-4"})]})})]})]})]}),a.jsx("p",{className:"mt-6 text-white/40 text-sm relative z-10",children:" 2-8 "}),a.jsx(Wr,{open:w,onOpenChange:g,children:a.jsxs(fr,{className:"sm:max-w-sm bg-black/90 border-white/20 text-white",children:[a.jsxs(pr,{children:[a.jsx(mr,{className:"text-center text-white",children:" LIVE Mode"}),a.jsx(Hr,{className:"text-center text-white/60",children:""})]}),a.jsxs("div",{className:"space-y-4 pt-2",children:[a.jsx(me,{placeholder:"",value:f,onChange:C=>m(C.target.value),className:"text-center bg-white/10 border-white/20 text-white placeholder:text-white/50",maxLength:20,autoFocus:!0,onKeyDown:C=>{C.key==="Enter"&&f.trim()&&_()}}),a.jsx(D,{variant:"default",size:"lg",className:"w-full bg-white text-black hover:bg-white/90",onClick:_,disabled:!f.trim()||r,children:r?a.jsx(pt,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(Fh,{className:"w-5 h-5"}),"!"]})})]})]})})]})}function IX({card:t,faceDown:e=!1}){return e?a.jsx("div",{className:"w-8 h-12 sm:w-10 sm:h-14 rounded-md shadow-md overflow-hidden relative",children:a.jsx(Wp,{})}):a.jsxs(te.div,{initial:{rotateY:180,scale:.8},animate:{rotateY:0,scale:1},transition:{duration:.3},className:"w-8 h-12 sm:w-10 sm:h-14 rounded-md bg-white border border-gray-200 shadow-md flex flex-col items-center justify-center",children:[a.jsx("span",{className:`text-xs sm:text-sm font-bold ${j2(t.suit)}`,children:t.value}),a.jsx("span",{className:"text-sm sm:text-base",children:T2(t.suit)})]})}function PX({players:t,currentPlayerId:e,showCards:n=!1,currentTurnPlayerId:r,gamePhase:s}){return a.jsxs("div",{className:"bg-black/40 backdrop-blur-md rounded-xl p-3 sm:p-4 relative z-10 border border-white/10",children:[a.jsx("h3",{className:"text-xs sm:text-sm font-medium text-white/60 mb-2 sm:mb-3 flex items-center gap-2",children:a.jsxs("span",{className:"text-white",children:["  (",t.length,")"]})}),a.jsx("div",{className:"flex gap-3 sm:gap-4 overflow-x-auto pb-2 -mx-1 px-1 scrollbar-hide",children:t.map(i=>{const o=i.id===r,l=i.cards&&i.cards.length===2?uo(i.cards):{isPok:!1,pokValue:null},c=i.cards&&i.cards.length>0?ou(i.cards):null;return a.jsxs("div",{className:L("flex flex-col items-center gap-1 sm:gap-2 p-2 sm:p-3 rounded-xl text-xs sm:text-sm font-medium transition-all flex-shrink-0",i.is_dealer?"bg-amber-500/20 border-2 border-amber-500":o?"bg-green-500/20 border-2 border-green-500 animate-pulse":i.id===e?"bg-white/20 ring-2 ring-white/50":"bg-white/10 text-white"),children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:`/king-s-cup-party/${i.avatar||1}.jpg`,alt:i.name,className:"w-12 h-12 sm:w-14 sm:h-14 rounded-full object-cover border-2 border-white/40 shadow-lg"}),i.is_host&&a.jsx(za,{className:"w-4 h-4 text-amber-400 absolute -top-1 -right-1 drop-shadow-md"}),i.is_dealer&&a.jsx("span",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 text-[10px] bg-amber-500 text-black px-1.5 rounded-full font-bold",children:""})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"text-white truncate max-w-[70px] sm:max-w-[80px] block",children:i.name}),s==="drawing"&&i.has_drawn&&a.jsx("span",{className:"text-[10px] text-green-400",children:" "}),o&&a.jsx("span",{className:"text-[10px] text-green-300",children:" "})]}),i.cards&&i.cards.length>0&&a.jsx("div",{className:"flex gap-1 mt-1",children:i.cards.map((u,d)=>a.jsx(IX,{card:u,faceDown:!n},d))}),n&&i.cards&&i.cards.length>0&&a.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[a.jsx("span",{className:"text-lg sm:text-xl font-bold text-amber-400",children:i.points}),l.isPok&&l.pokValue!==null&&a.jsxs("span",{className:"text-[9px] sm:text-[10px] bg-green-500 text-white px-1.5 py-0.5 rounded-full animate-bounce",children:[" ",l.pokValue,"!"]}),c&&c.type!=="normal"&&!l.isPok&&a.jsx("span",{className:"text-[9px] sm:text-[10px] bg-purple-500 text-white px-1.5 py-0.5 rounded-full",children:c.name})]}),i.result&&n&&a.jsx("span",{className:`text-[10px] sm:text-xs font-bold px-2 py-0.5 rounded-full ${i.result==="player_win"?"bg-green-500 text-white":i.is_dealer?"bg-amber-500 text-black":"bg-red-500 text-white"}`,children:i.is_dealer?"":i.result==="player_win"?` ${i.multiplier&&i.multiplier>1?` x${i.multiplier}`:""}`:""})]},i.id)})})]})}var AX="Label",LA=p.forwardRef((t,e)=>a.jsx(ne.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));LA.displayName=AX;var FA=LA;const DX=np("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Lt=p.forwardRef(({className:t,...e},n)=>a.jsx(FA,{ref:n,className:L(DX(),t),...e}));Lt.displayName=FA.displayName;const vS={pok9Multiplier:2,pok8Multiplier:2,tongMultiplier:5,samLeungMultiplier:3,straightMultiplier:3,flushMultiplier:3,dengMultiplier:2,pairMultiplier:2};function MX({roomCode:t,isHost:e}){const{toast:n}=wt(),[r,s]=p.useState(!1),[i,o]=p.useState(vS);p.useEffect(()=>{const d=localStorage.getItem(`pokdeng_rules_${t}`);d&&o(JSON.parse(d))},[t]);const l=()=>{localStorage.setItem(`pokdeng_rules_${t}`,JSON.stringify(i)),s(!1),n({title:" !",description:""})},c=()=>{o(vS),localStorage.removeItem(`pokdeng_rules_${t}`),n({title:" ",description:""})},u=(d,h)=>{o(f=>({...f,[d]:Math.max(1,Math.min(10,h))}))};return e?a.jsxs(Wr,{open:r,onOpenChange:s,children:[a.jsx(Ri,{asChild:!0,children:a.jsx(D,{variant:"ghost",size:"icon",className:"text-white/70 hover:text-amber-400 hover:bg-amber-400/10 w-8 h-8 sm:w-10 sm:h-10",title:"",children:a.jsx(wu,{className:"w-4 h-4 sm:w-5 sm:h-5"})})}),a.jsxs(fr,{className:"max-w-md max-h-[90vh] bg-gray-900 border-white/10 text-white",children:[a.jsxs(pr,{children:[a.jsx(mr,{className:"text-xl font-bold flex items-center gap-2",children:" "}),a.jsx(Hr,{className:"sr-only",children:""})]}),a.jsx(Ii,{className:"h-[60vh] pr-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-black/40 rounded-xl p-4 border border-white/10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs(Lt,{className:"text-amber-400 font-bold flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:""})," 9"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(me,{type:"number",min:1,max:10,value:i.pok9Multiplier,onChange:d=>u("pok9Multiplier",parseInt(d.target.value)||1),className:"w-16 text-center bg-black/30 border-white/20"}),a.jsx("span",{className:"text-white/60",children:""})]})]}),a.jsx("p",{className:"text-xs text-white/50",children:" 2  9 "})]}),a.jsxs("div",{className:"bg-black/40 rounded-xl p-4 border border-white/10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs(Lt,{className:"text-amber-400 font-bold flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:""})," 8"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(me,{type:"number",min:1,max:10,value:i.pok8Multiplier,onChange:d=>u("pok8Multiplier",parseInt(d.target.value)||1),className:"w-16 text-center bg-black/30 border-white/20"}),a.jsx("span",{className:"text-white/60",children:""})]})]}),a.jsx("p",{className:"text-xs text-white/50",children:" 2  8 "})]}),a.jsxs("div",{className:"bg-black/40 rounded-xl p-4 border border-white/10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs(Lt,{className:"text-amber-400 font-bold flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:""})," (Three of a Kind)"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(me,{type:"number",min:1,max:10,value:i.tongMultiplier,onChange:d=>u("tongMultiplier",parseInt(d.target.value)||1),className:"w-16 text-center bg-black/30 border-white/20"}),a.jsx("span",{className:"text-white/60",children:""})]})]}),a.jsx("p",{className:"text-xs text-white/50",children:" 3  ( 7-7-7)"})]}),a.jsxs("div",{className:"bg-black/40 rounded-xl p-4 border border-white/10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs(Lt,{className:"text-amber-400 font-bold flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:""}),""]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(me,{type:"number",min:1,max:10,value:i.samLeungMultiplier,onChange:d=>u("samLeungMultiplier",parseInt(d.target.value)||1),className:"w-16 text-center bg-black/30 border-white/20"}),a.jsx("span",{className:"text-white/60",children:""})]})]}),a.jsx("p",{className:"text-xs text-white/50",children:"J-Q-K ( 3 )"})]}),a.jsxs("div",{className:"bg-black/40 rounded-xl p-4 border border-white/10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs(Lt,{className:"text-amber-400 font-bold flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:""})," (Straight)"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(me,{type:"number",min:1,max:10,value:i.straightMultiplier,onChange:d=>u("straightMultiplier",parseInt(d.target.value)||1),className:"w-16 text-center bg-black/30 border-white/20"}),a.jsx("span",{className:"text-white/60",children:""})]})]}),a.jsx("p",{className:"text-xs text-white/50",children:" 3  ( 5-6-7)"})]}),a.jsxs("div",{className:"bg-black/40 rounded-xl p-4 border border-white/10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs(Lt,{className:"text-amber-400 font-bold flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:""})," (Flush)"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(me,{type:"number",min:1,max:10,value:i.flushMultiplier,onChange:d=>u("flushMultiplier",parseInt(d.target.value)||1),className:"w-16 text-center bg-black/30 border-white/20"}),a.jsx("span",{className:"text-white/60",children:""})]})]}),a.jsx("p",{className:"text-xs text-white/50",children:" 3 "})]}),a.jsxs("div",{className:"bg-black/40 rounded-xl p-4 border border-white/10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs(Lt,{className:"text-amber-400 font-bold flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:""})," (Same Suit)"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(me,{type:"number",min:1,max:10,value:i.dengMultiplier,onChange:d=>u("dengMultiplier",parseInt(d.target.value)||1),className:"w-16 text-center bg-black/30 border-white/20"}),a.jsx("span",{className:"text-white/60",children:""})]})]}),a.jsx("p",{className:"text-xs text-white/50",children:" 2 "})]}),a.jsxs("div",{className:"bg-black/40 rounded-xl p-4 border border-white/10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs(Lt,{className:"text-amber-400 font-bold flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:""})," (Pair)"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(me,{type:"number",min:1,max:10,value:i.pairMultiplier,onChange:d=>u("pairMultiplier",parseInt(d.target.value)||1),className:"w-16 text-center bg-black/30 border-white/20"}),a.jsx("span",{className:"text-white/60",children:""})]})]}),a.jsx("p",{className:"text-xs text-white/50",children:" 2 "})]})]})}),a.jsxs("div",{className:"flex gap-2 pt-4 border-t border-white/10",children:[a.jsxs(D,{variant:"outline",onClick:c,className:"flex-1 border-white/20 text-white hover:bg-white/10",children:[a.jsx(oo,{className:"w-4 h-4 mr-2"}),""]}),a.jsxs(D,{onClick:l,className:"flex-1 bg-amber-500 hover:bg-amber-600 text-black",children:[a.jsx(r0,{className:"w-4 h-4 mr-2"}),""]})]})]})]}):null}function OX({card:t,faceDown:e=!1}){return e?a.jsx("div",{className:"w-20 h-28 sm:w-24 sm:h-36 rounded-xl shadow-xl overflow-hidden relative",children:a.jsx(Wp,{})}):a.jsxs(te.div,{initial:{rotateY:180,scale:.8},animate:{rotateY:0,scale:1},transition:{duration:.4},className:"w-20 h-28 sm:w-24 sm:h-36 rounded-xl bg-white border-2 border-gray-200 shadow-xl flex flex-col items-center justify-center",children:[a.jsx("span",{className:`text-2xl sm:text-3xl font-bold ${j2(t.suit)}`,children:t.value}),a.jsx("span",{className:"text-3xl sm:text-4xl",children:T2(t.suit)})]})}function LX({room:t,players:e,currentPlayerId:n,isHost:r,isLiveMode:s=!1,onStartGame:i,onDrawCard:o,onStandCard:l,onDealerDraw:c,onDealerStand:u,onShowdown:d,onNextRound:h,onLeave:f,onSetDealer:m}){var A,M;const{toast:w}=wt(),[g,y]=p.useState(!1),[x,v]=p.useState(!1),b=()=>{const j=t.code;navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(j).then(()=>{w({title:" !",description:`: ${j}`,duration:3e3})}).catch(()=>{N(j)}):N(j)},N=j=>{const W=document.createElement("textarea");W.value=j,W.style.position="fixed",W.style.top="0",W.style.left="0",W.style.width="2em",W.style.height="2em",W.style.padding="0",W.style.border="none",W.style.outline="none",W.style.boxShadow="none",W.style.background="transparent",document.body.appendChild(W),W.focus(),W.select();try{document.execCommand("copy"),w({title:" !",description:`: ${j}`,duration:3e3})}catch{w({title:" ",description:`${j} ()`,duration:5e3})}document.body.removeChild(W)},_=e.find(j=>j.id===n),C=e.find(j=>j.is_dealer),S=e.filter(j=>!j.is_dealer).sort((j,W)=>j.player_order-W.player_order),E=t.game_phase==="drawing"?S[t.current_player_index]:null,k=(E==null?void 0:E.id)===n,T=t.game_phase==="showdown"&&C&&!C.has_drawn,R=_==null?void 0:_.is_dealer,I=e.every(j=>j.has_drawn),F=e.filter(j=>j.has_drawn).length,P=e.length,$=t.game_phase==="showdown"||t.game_phase==="ended",V=r&&s,z=p.useRef(!1);return p.useEffect(()=>{if(t.game_phase==="showdown"&&I&&!z.current){z.current=!0;const j=setTimeout(()=>{d()},1e3);return()=>clearTimeout(j)}(t.game_phase==="drawing"||t.game_phase==="waiting")&&(z.current=!1)},[t.game_phase,I,d]),a.jsxs("div",{className:"min-h-screen min-h-[100dvh] flex flex-col p-2 sm:p-4 md:p-6 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat blur-sm scale-105",style:{backgroundImage:"url('/king-s-cup-party/bg-game.jpg')"}}),a.jsx("div",{className:"absolute inset-0 bg-black/50"}),a.jsxs("header",{className:"flex items-center justify-between mb-2 sm:mb-4 relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[a.jsx(D,{variant:"ghost",size:"icon",onClick:f,className:"text-white/70 hover:text-red-400 hover:bg-red-400/10 w-8 h-8 sm:w-10 sm:h-10",children:a.jsx(vu,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"font-semibold text-white text-sm sm:text-lg",children:[" "," ",V&&a.jsx("span",{className:"text-amber-400",children:" LIVE"})]}),a.jsxs("button",{onClick:b,className:"flex items-center gap-1 text-xs sm:text-sm text-white/60 hover:text-white transition-colors",children:[a.jsx("span",{className:"font-mono bg-white/10 px-1.5 sm:px-2 py-0.5 rounded text-xs sm:text-sm",children:t.code}),a.jsx(yo,{className:"w-3 h-3"}),a.jsxs("div",{className:"flex items-center gap-1 ml-1 bg-green-500/20 border border-green-500/50 rounded-full px-1.5 py-0.5",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-green-400 rounded-full animate-pulse"}),a.jsx("span",{className:"text-[10px] text-green-300 font-medium",children:"LIVE"})]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Mo,{currentRoomCode:t.code,currentGameType:"pokdeng",currentGameName:B("pokDeng")}),(r||s&&!n)&&m&&a.jsxs(Wr,{open:x,onOpenChange:v,children:[a.jsx(Ri,{asChild:!0,children:a.jsx(D,{variant:"ghost",size:"icon",className:"text-amber-400 hover:text-amber-300 hover:bg-amber-400/10 w-8 h-8 sm:w-10 sm:h-10",title:"",children:a.jsx(za,{className:"w-4 h-4 sm:w-5 sm:h-5"})})}),a.jsxs(fr,{className:"bg-black/95 border-amber-500/50 text-white max-w-md",children:[a.jsx(pr,{children:a.jsx(mr,{className:"text-amber-400 text-xl",children:" "})}),a.jsx("div",{className:"grid grid-cols-2 gap-3 mt-4",children:e.map(j=>a.jsx(D,{onClick:()=>{m(j.id),v(!1),w({title:" ",description:`${j.name} `})},variant:j.is_dealer?"default":"outline",className:`h-auto py-3 ${j.is_dealer?"bg-amber-500 hover:bg-amber-600 text-black border-amber-400":"border-white/30 text-white hover:bg-white/10"}`,children:a.jsxs("div",{className:"flex flex-col items-center gap-2 w-full",children:[j.avatar&&a.jsx("img",{src:`/king-s-cup-party/${j.avatar}.jpg`,alt:j.name,className:"w-12 h-12 rounded-full object-cover border-2 border-white/40"}),a.jsx("span",{className:"text-sm font-medium truncate max-w-full",children:j.name}),j.is_dealer&&a.jsx("span",{className:"text-xl",children:""})]})},j.id))})]})]}),(r||s&&!n)&&a.jsx(MX,{roomCode:t.code,isHost:!0}),(r||s&&!n)&&t.game_started&&a.jsx(D,{variant:"ghost",size:"icon",onClick:h,className:"text-green-400 hover:text-green-300 hover:bg-green-400/10 w-8 h-8 sm:w-10 sm:h-10",title:" / ",children:a.jsx(oo,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),(r||s&&!n)&&!t.game_started&&a.jsxs(D,{variant:"default",onClick:i,disabled:e.length<2,className:"bg-white text-black hover:bg-white/90 text-xs sm:text-sm px-3 sm:px-4",children:[a.jsx(yu,{className:"w-3 h-3 sm:w-4 sm:h-4"}),a.jsx("span",{className:"hidden sm:inline",children:""}),a.jsx("span",{className:"sm:hidden",children:""})]})]})]}),a.jsx("div",{className:"mb-2 sm:mb-4",children:V?a.jsx(PX,{players:e.map(j=>({id:j.id,name:j.name,is_host:j.is_host,avatar:j.avatar,cards:j.cards,points:j.points,is_dealer:j.is_dealer,has_drawn:j.has_drawn,result:j.result??void 0,multiplier:j.multiplier})),currentPlayerId:n??void 0,showCards:$||t.game_started,currentTurnPlayerId:E==null?void 0:E.id,gamePhase:t.game_phase??void 0}):a.jsx(RA,{players:e.map(j=>({id:j.id,name:j.name,is_host:j.is_host,avatar:j.avatar})),currentPlayerId:n??void 0})}),a.jsx("div",{className:"flex-1 flex flex-col items-center justify-center py-2 sm:py-4 md:py-6 relative z-10 overflow-y-auto",children:t.game_started?V?a.jsxs("div",{className:"flex flex-col items-center justify-start w-full h-full overflow-y-auto",children:[a.jsx("div",{className:"text-center mb-4 sm:mb-6",children:a.jsxs("span",{className:"bg-amber-500/20 text-amber-400 px-6 sm:px-8 py-2 sm:py-3 rounded-full text-lg sm:text-xl md:text-2xl font-medium",children:[t.game_phase==="dealing"&&" ...",t.game_phase==="drawing"&&` : ${(E==null?void 0:E.name)||"..."}`,t.game_phase==="showdown"&&(T?" ":" !"),t.game_phase==="ended"&&" "]})}),a.jsxs("div",{className:"text-white text-sm mb-4 bg-black/50 p-3 rounded",children:[a.jsxs("div",{children:[": ",e.length," "]}),a.jsxs("div",{children:[": ",(C==null?void 0:C.name)||""]}),a.jsxs("div",{children:[": ",F,"/",P]}),e.map(j=>{var W;return a.jsxs("div",{className:"text-xs",children:[j.name,": cards=",((W=j.cards)==null?void 0:W.length)||0," "]},j.id)})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full max-w-6xl px-4",children:e.length===0?a.jsx("div",{className:"col-span-full text-white text-center text-xl bg-red-500/20 p-8 rounded",children:"  - players.length = 0"}):e.map(j=>{var W;return a.jsxs("div",{className:`p-6 rounded-2xl border-2 ${j.is_dealer?"bg-amber-500/20 border-amber-500":"bg-white/5 border-white/20"}`,children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[j.avatar&&a.jsx("img",{src:`/king-s-cup-party/${j.avatar}.jpg`,alt:j.name,className:"w-12 h-12 rounded-full object-cover border-2 border-white/40"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-white font-bold text-lg",children:[j.is_dealer?" ":"",j.name]}),j.is_dealer&&a.jsx("span",{className:"text-xs bg-amber-500 text-black px-2 py-0.5 rounded-full",children:""})]}),a.jsxs("div",{className:"text-2xl font-bold text-amber-400",children:[j.points||0," "]})]})]}),a.jsx("div",{className:"flex gap-2 justify-center mb-4 min-h-[100px]",children:j.cards&&j.cards.length>0?j.cards.map((K,re)=>a.jsxs("div",{className:"w-16 h-24 rounded-lg bg-white border-2 border-gray-200 shadow-lg flex flex-col items-center justify-center",children:[a.jsx("span",{className:`text-xl font-bold ${K.suit==="hearts"||K.suit==="diamonds"?"text-red-500":"text-black"}`,children:K.value}),a.jsxs("span",{className:"text-2xl",children:[K.suit==="hearts"&&"",K.suit==="diamonds"&&"",K.suit==="clubs"&&"",K.suit==="spades"&&""]})]},re)):a.jsxs("div",{className:"text-white bg-red-500/30 p-4 rounded text-sm",children:[" player.cards = ",JSON.stringify(j.cards),a.jsx("br",{}),"length = ",((W=j.cards)==null?void 0:W.length)||0]})}),a.jsx("div",{className:"text-center",children:j.result&&t.game_phase==="ended"?a.jsxs("div",{className:`inline-block px-4 py-2 rounded-full text-lg font-bold ${j.result==="player_win"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:[j.result==="player_win"?" !":" ",j.multiplier&&j.multiplier>1&&` x${j.multiplier}`]}):j.has_drawn?a.jsx("span",{className:"text-sm text-green-300",children:" "}):a.jsx("span",{className:"text-sm text-yellow-300 animate-pulse",children:" ..."})})]},j.id)})}),a.jsxs("div",{className:"flex flex-col items-center gap-3 py-4 sm:py-6 mt-4",children:[(r||s&&!n)&&m&&t.game_phase!=="ended"&&a.jsxs(D,{onClick:()=>v(!0),variant:"outline",size:"sm",className:"border-amber-500/50 text-amber-400 hover:bg-amber-500/20 hover:text-amber-300",children:[a.jsx(za,{className:"w-4 h-4 mr-2"}),""]}),t.game_phase==="showdown"&&a.jsx("div",{className:"bg-blue-500/20 border border-blue-500/50 rounded-xl px-6 py-4 mb-2",children:a.jsxs("p",{className:"text-blue-300 text-center text-sm",children:[" : ",F,"/",P," ",a.jsx("br",{}),a.jsx("span",{className:"text-xs text-blue-200/60",children:e.map(j=>`${j.name}: ${j.has_drawn?"":""}`).join(" | ")})]})}),T&&a.jsx("div",{className:"bg-amber-500/20 border border-amber-500/50 rounded-xl px-6 py-4",children:a.jsxs("p",{className:"text-amber-400 font-medium text-center text-lg",children:[" ",a.jsx("br",{}),a.jsx("span",{className:"text-sm text-amber-300/70",children:""})]})}),t.game_phase==="showdown"&&a.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[a.jsxs(D,{onClick:d,disabled:!I,size:"lg",className:`font-bold text-lg px-8 py-6 ${I?"bg-purple-500 hover:bg-purple-600 text-white animate-pulse":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:[a.jsx(Ev,{className:"w-6 h-6 mr-2"}),I?"":` (${F}/${P})`]}),!I&&F>=P-1&&a.jsx(D,{onClick:d,variant:"outline",size:"sm",className:"text-xs text-orange-400 border-orange-500/50 hover:bg-orange-500/20",children:""})]}),t.game_phase==="ended"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"w-full max-w-4xl bg-black/60 backdrop-blur-md rounded-2xl border-2 border-amber-500/50 p-6 mb-6",children:[a.jsx("h2",{className:"text-center text-2xl sm:text-3xl font-bold text-amber-400 mb-6",children:" "}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-white",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b-2 border-white/20",children:[a.jsx("th",{className:"text-left py-3 px-4 font-bold text-amber-300",children:""}),a.jsx("th",{className:"text-left py-3 px-4 font-bold text-amber-300",children:""}),a.jsx("th",{className:"text-center py-3 px-4 font-bold text-amber-300",children:""}),a.jsx("th",{className:"text-center py-3 px-4 font-bold text-amber-300",children:""}),a.jsx("th",{className:"text-center py-3 px-4 font-bold text-amber-300",children:""})]})}),a.jsx("tbody",{children:e.sort((j,W)=>j.result==="player_win"&&W.result!=="player_win"?-1:j.result!=="player_win"&&W.result==="player_win"?1:(W.points||0)-(j.points||0)).map((j,W)=>a.jsxs("tr",{className:`border-b border-white/10 transition-all hover:bg-white/5 ${j.result==="player_win"?"bg-green-500/10":"bg-red-500/5"}`,children:[a.jsx("td",{className:"py-4 px-4 text-center",children:a.jsx("span",{className:`text-2xl font-bold ${W===0&&j.result==="player_win"?"text-amber-400":"text-white/60"}`,children:W===0&&j.result==="player_win"?"":W+1})}),a.jsx("td",{className:"py-4 px-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[j.avatar&&a.jsx("img",{src:`/king-s-cup-party/${j.avatar}.jpg`,alt:j.name,className:"w-10 h-10 rounded-full object-cover border-2 border-white/30"}),a.jsx("div",{children:a.jsxs("div",{className:"font-bold text-base sm:text-lg flex items-center gap-2",children:[j.name,j.is_dealer&&a.jsx("span",{className:"text-xs bg-amber-500 text-black px-2 py-0.5 rounded-full",children:""})]})})]})}),a.jsxs("td",{className:"py-4 px-4 text-center",children:[a.jsx("span",{className:"text-2xl sm:text-3xl font-bold text-amber-400",children:j.points||0}),a.jsx("span",{className:"text-white/50 text-sm ml-1",children:""})]}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("div",{className:"flex gap-1 justify-center",children:j.cards&&j.cards.length>0?j.cards.map((K,re)=>a.jsxs("div",{className:"w-8 h-12 sm:w-10 sm:h-14 rounded bg-white border border-gray-200 flex flex-col items-center justify-center text-xs",children:[a.jsx("span",{className:`font-bold ${K.suit==="hearts"||K.suit==="diamonds"?"text-red-500":"text-black"}`,children:K.value}),a.jsxs("span",{className:"text-sm",children:[K.suit==="hearts"&&"",K.suit==="diamonds"&&"",K.suit==="clubs"&&"",K.suit==="spades"&&""]})]},re)):a.jsx("span",{className:"text-white/30 text-xs",children:"-"})})}),a.jsx("td",{className:"py-4 px-4 text-center",children:j.result==="player_win"?a.jsxs("div",{className:"flex flex-col items-center gap-1",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsx("span",{className:"text-green-400 font-bold text-sm sm:text-base",children:"!"}),j.multiplier&&j.multiplier>1&&a.jsxs("span",{className:"text-xs text-green-300 bg-green-500/20 px-2 py-0.5 rounded",children:["x",j.multiplier]})]}):a.jsxs("div",{className:"flex flex-col items-center gap-1",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsx("span",{className:"text-red-400 font-bold text-sm sm:text-base",children:""})]})})]},j.id))})]})}),a.jsxs("div",{className:"mt-6 pt-4 border-t border-white/20 grid grid-cols-2 sm:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl mb-1",children:""}),a.jsx("div",{className:"text-white/50 text-xs",children:""}),a.jsx("div",{className:"text-green-400 font-bold text-lg",children:e.filter(j=>j.result==="player_win").length})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl mb-1",children:""}),a.jsx("div",{className:"text-white/50 text-xs",children:""}),a.jsx("div",{className:"text-red-400 font-bold text-lg",children:e.filter(j=>j.result!=="player_win").length})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl mb-1",children:""}),a.jsx("div",{className:"text-white/50 text-xs",children:""}),a.jsx("div",{className:"text-amber-400 font-bold text-lg",children:Math.max(...e.map(j=>j.points||0))})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl mb-1",children:""}),a.jsx("div",{className:"text-white/50 text-xs",children:""}),a.jsx("div",{className:"text-white font-bold text-lg",children:e.length})]})]})]}),a.jsxs(D,{onClick:h,size:"lg",className:"bg-green-500 hover:bg-green-600 text-white font-bold text-lg px-8",children:[a.jsx(oo,{className:"w-5 h-5 mr-2"}),""]})]})]}),t.game_phase==="drawing"&&a.jsx("div",{className:"mt-4 bg-black/40 backdrop-blur-md rounded-xl px-6 py-4 border border-white/10",children:a.jsxs("p",{className:"text-white/50 text-sm sm:text-base text-center",children:["  LIVE ",a.jsx("br",{}),""]})})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full",children:[a.jsx("div",{className:"text-center mb-4",children:a.jsxs("span",{className:"bg-amber-500/20 text-amber-400 px-4 py-1 rounded-full text-sm",children:[t.game_phase==="dealing"&&" ...",t.game_phase==="drawing"&&(k?" !":R?" ...":` : ${(E==null?void 0:E.name)||"..."}`),t.game_phase==="showdown"&&(T&&R?" !":T?" ":" "),t.game_phase==="ended"&&" "]})}),_&&a.jsxs("div",{className:"bg-black/40 backdrop-blur-md rounded-2xl p-4 sm:p-6 border border-white/10 mb-4 w-full max-w-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[_.avatar&&a.jsx("img",{src:`/king-s-cup-party/${_.avatar}.jpg`,alt:_.name,className:"w-10 h-10 rounded-full object-cover border-2 border-white/40"}),a.jsx("span",{className:"text-white font-bold text-lg",children:_.is_dealer?"  ()":" "})]}),_.cards.length>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl font-bold text-amber-400",children:_.points}),_.cards.length===2&&uo(_.cards).isPok&&a.jsxs("span",{className:"text-xs bg-green-500 text-white px-2 py-0.5 rounded-full animate-bounce",children:[" ",uo(_.cards).pokValue,"!"]}),_.cards.length>0&&((A=ou(_.cards))==null?void 0:A.type)!=="normal"&&!uo(_.cards).isPok&&a.jsx("span",{className:"text-xs bg-purple-500 text-white px-2 py-0.5 rounded-full",children:(M=ou(_.cards))==null?void 0:M.name})]})]}),a.jsxs("div",{className:"flex gap-3 justify-center mb-4",children:[_.cards.map((j,W)=>a.jsx(OX,{card:j},W)),_.cards.length===0&&a.jsx("div",{className:"w-20 h-28 rounded-xl border-2 border-dashed border-white/30 flex items-center justify-center",children:a.jsx("span",{className:"text-white/30",children:"-"})})]}),_.result&&$&&!_.is_dealer&&a.jsx("div",{className:"text-center",children:a.jsxs("span",{className:`text-lg font-bold px-4 py-2 rounded-full ${_.result==="player_win"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:[_.result==="player_win"?" !":" ",_.multiplier>1&&` x${_.multiplier}`]})})]}),!R&&k&&!(_!=null&&_.has_drawn)&&_.cards.length<3&&t.game_phase==="drawing"&&a.jsxs("div",{className:"flex gap-4 justify-center",children:[a.jsxs(D,{onClick:o,size:"lg",className:"bg-green-500 hover:bg-green-600 text-white text-lg px-8 py-6",children:[a.jsx(z_,{className:"w-5 h-5 mr-2"}),""]}),a.jsxs(D,{onClick:l,variant:"outline",size:"lg",className:"border-white/30 text-white hover:bg-white/10 text-lg px-8 py-6",children:[a.jsx(W_,{className:"w-5 h-5 mr-2"}),""]})]}),R&&T&&!(_!=null&&_.has_drawn)&&a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx("p",{className:"text-amber-400 font-medium text-center mb-2",children:" "}),a.jsxs("div",{className:"flex gap-4 justify-center",children:[_.cards.length<3&&a.jsxs(D,{onClick:c,size:"lg",className:"bg-amber-500 hover:bg-amber-600 text-black text-lg px-8 py-6 font-bold",children:[a.jsx(z_,{className:"w-5 h-5 mr-2"}),""]}),a.jsxs(D,{onClick:u,variant:"outline",size:"lg",className:"border-amber-500/50 text-amber-400 hover:bg-amber-500/20 text-lg px-8 py-6",children:[a.jsx(W_,{className:"w-5 h-5 mr-2"}),""]})]})]}),t.game_phase==="ended"&&a.jsxs("div",{className:"w-full max-w-4xl bg-black/60 backdrop-blur-md rounded-2xl border-2 border-amber-500/50 p-4 sm:p-6 mb-4 overflow-y-auto max-h-[60vh]",children:[a.jsx("h2",{className:"text-center text-xl sm:text-2xl font-bold text-amber-400 mb-4",children:" "}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-white text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b-2 border-white/20",children:[a.jsx("th",{className:"text-left py-2 px-2 font-bold text-amber-300 text-xs",children:"#"}),a.jsx("th",{className:"text-left py-2 px-2 font-bold text-amber-300 text-xs",children:""}),a.jsx("th",{className:"text-center py-2 px-2 font-bold text-amber-300 text-xs",children:""}),a.jsx("th",{className:"text-center py-2 px-2 font-bold text-amber-300 text-xs",children:""}),a.jsx("th",{className:"text-center py-2 px-2 font-bold text-amber-300 text-xs",children:""})]})}),a.jsx("tbody",{children:e.sort((j,W)=>j.result==="player_win"&&W.result!=="player_win"?-1:j.result!=="player_win"&&W.result==="player_win"?1:(W.points||0)-(j.points||0)).map((j,W)=>a.jsxs("tr",{className:`border-b border-white/10 ${j.result==="player_win"?"bg-green-500/10":"bg-red-500/5"} ${j.id===n?"ring-2 ring-amber-500":""}`,children:[a.jsx("td",{className:"py-3 px-2 text-center",children:a.jsx("span",{className:`text-lg font-bold ${W===0&&j.result==="player_win"?"text-amber-400":"text-white/60"}`,children:W===0&&j.result==="player_win"?"":W+1})}),a.jsx("td",{className:"py-3 px-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[j.avatar&&a.jsx("img",{src:`/king-s-cup-party/${j.avatar}.jpg`,alt:j.name,className:"w-8 h-8 rounded-full object-cover border-2 border-white/30"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("span",{className:"font-bold text-sm",children:[j.name,j.id===n&&a.jsx("span",{className:"text-amber-400 ml-1",children:"()"})]}),j.is_dealer&&a.jsx("span",{className:"text-[10px] bg-amber-500 text-black px-1 rounded w-fit",children:""})]})]})}),a.jsx("td",{className:"py-3 px-2 text-center",children:a.jsx("span",{className:"text-xl font-bold text-amber-400",children:j.points||0})}),a.jsx("td",{className:"py-3 px-2",children:a.jsx("div",{className:"flex gap-1 justify-center",children:j.cards&&j.cards.length>0?j.cards.map((K,re)=>a.jsxs("div",{className:"w-6 h-9 rounded bg-white border border-gray-200 flex flex-col items-center justify-center",children:[a.jsx("span",{className:`text-[10px] font-bold ${K.suit==="hearts"||K.suit==="diamonds"?"text-red-500":"text-black"}`,children:K.value}),a.jsxs("span",{className:"text-xs",children:[K.suit==="hearts"&&"",K.suit==="diamonds"&&"",K.suit==="clubs"&&"",K.suit==="spades"&&""]})]},re)):a.jsx("span",{className:"text-white/30 text-xs",children:"-"})})}),a.jsx("td",{className:"py-3 px-2 text-center",children:j.result==="player_win"?a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("span",{className:"text-xl",children:""}),a.jsx("span",{className:"text-green-400 font-bold text-xs",children:""}),j.multiplier&&j.multiplier>1&&a.jsxs("span",{className:"text-[10px] text-green-300 bg-green-500/20 px-1 rounded",children:["x",j.multiplier]})]}):a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("span",{className:"text-xl",children:""}),a.jsx("span",{className:"text-red-400 font-bold text-xs",children:""})]})})]},j.id))})]})}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-white/20 grid grid-cols-4 gap-2",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl mb-1",children:""}),a.jsx("div",{className:"text-white/50 text-[10px]",children:""}),a.jsx("div",{className:"text-green-400 font-bold text-sm",children:e.filter(j=>j.result==="player_win").length})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl mb-1",children:""}),a.jsx("div",{className:"text-white/50 text-[10px]",children:""}),a.jsx("div",{className:"text-red-400 font-bold text-sm",children:e.filter(j=>j.result!=="player_win").length})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl mb-1",children:""}),a.jsx("div",{className:"text-white/50 text-[10px]",children:""}),a.jsx("div",{className:"text-amber-400 font-bold text-sm",children:Math.max(...e.map(j=>j.points||0))})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl mb-1",children:""}),a.jsx("div",{className:"text-white/50 text-[10px]",children:""}),a.jsx("div",{className:"text-white font-bold text-sm",children:e.length})]})]})]}),(r||s&&!n)&&!s&&a.jsxs("div",{className:"flex justify-center gap-3 py-4",children:[t.game_phase==="showdown"&&I&&a.jsxs(D,{onClick:d,size:"lg",className:"bg-purple-500 hover:bg-purple-600 text-white font-bold px-8 py-6 animate-pulse",children:[a.jsx(Ev,{className:"w-5 h-5 mr-2"}),""]}),t.game_phase==="ended"&&a.jsxs(D,{onClick:h,size:"lg",className:"bg-green-500 hover:bg-green-600 text-white font-bold px-8 py-6",children:[a.jsx(oo,{className:"w-5 h-5 mr-2"}),""]})]}),!k&&!T&&t.game_phase==="drawing"&&(_==null?void 0:_.has_drawn)&&a.jsx("div",{className:"text-center text-white/50",children:a.jsx("p",{children:"  ..."})}),!k&&!T&&t.game_phase==="drawing"&&!(_!=null&&_.has_drawn)&&!R&&a.jsx("div",{className:"text-center text-white/50",children:a.jsx("p",{children:"..."})})]}):a.jsxs("div",{className:"text-center px-2 w-full max-w-2xl",children:[a.jsxs("div",{className:"bg-black/40 backdrop-blur-md rounded-2xl p-5 sm:p-8 mb-4 sm:mb-6 border border-white/10",children:[a.jsx(qy,{}),a.jsx("p",{className:"text-white/60 text-xs sm:text-sm mt-2",children:r?s?"  LIVE -  ":'  ""':" Host "})]}),(r||s&&!n)&&m&&e.length>=1&&a.jsxs("div",{className:"bg-black/40 backdrop-blur-md rounded-xl p-4 sm:p-5 mb-4 sm:mb-6 border border-white/10",children:[a.jsx("p",{className:"text-white text-sm sm:text-base mb-3 font-medium",children:" "}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:e.map(j=>a.jsxs(D,{onClick:()=>m(j.id),variant:j.is_dealer?"default":"outline",className:`${j.is_dealer?"bg-amber-500 hover:bg-amber-600 text-black":"border-white/30 text-white hover:bg-white/10"}`,children:[j.avatar&&a.jsx("img",{src:`/king-s-cup-party/${j.avatar}.jpg`,alt:j.name,className:"w-6 h-6 rounded-full object-cover mr-2"}),a.jsx("span",{className:"truncate",children:j.name}),j.is_dealer&&a.jsx("span",{className:"ml-1",children:""})]},j.id))})]}),a.jsxs("div",{className:"bg-black/40 backdrop-blur-md rounded-xl p-4 sm:p-5 inline-block border border-white/10",children:[a.jsx("p",{className:"text-xs text-white/50 mb-1 sm:mb-2",children:""}),a.jsx("button",{onClick:b,className:"font-mono text-3xl sm:text-4xl font-bold text-white tracking-widest hover:opacity-80 transition-opacity",children:t.code})]})]})}),a.jsxs("div",{className:"relative z-10 mt-auto",children:[a.jsx(D,{variant:"ghost",size:"sm",onClick:()=>y(!g),className:"w-full text-white/50 hover:text-white/80",children:g?" ":" "}),g&&a.jsx("div",{className:"bg-black/60 backdrop-blur-md rounded-xl p-3 mt-2 border border-white/10",children:a.jsxs("ul",{className:"text-white/60 text-xs space-y-1",children:[a.jsx("li",{children:"  8/9 =  ( 2 )"}),a.jsx("li",{children:"  =  5 "}),a.jsx("li",{children:" // =  3 "}),a.jsx("li",{children:"  (/) =  2 "}),a.jsx("li",{children:"  = "})]})})]})]})}const zs=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:L("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));zs.displayName="Card";const FX=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:L("flex flex-col space-y-1.5 p-6",t),...e}));FX.displayName="CardHeader";const VX=p.forwardRef(({className:t,...e},n)=>a.jsx("h3",{ref:n,className:L("text-2xl font-semibold leading-none tracking-tight",t),...e}));VX.displayName="CardTitle";const $X=p.forwardRef(({className:t,...e},n)=>a.jsx("p",{ref:n,className:L("text-sm text-muted-foreground",t),...e}));$X.displayName="CardDescription";const Ws=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:L("p-6 pt-0",t),...e}));Ws.displayName="CardContent";const UX=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:L("flex items-center p-6 pt-0",t),...e}));UX.displayName="CardFooter";var jg="rovingFocusGroup.onEntryFocus",BX={bubbles:!1,cancelable:!0},Vu="RovingFocusGroup",[Ky,VA,zX]=Jf(Vu),[WX,Hp]=cn(Vu,[zX]),[HX,GX]=WX(Vu),$A=p.forwardRef((t,e)=>a.jsx(Ky.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Ky.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(qX,{...t,ref:e})})}));$A.displayName=Vu;var qX=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,f=p.useRef(null),m=ge(e,f),w=Cl(i),[g,y]=cr({prop:o,defaultProp:l??null,onChange:c,caller:Vu}),[x,v]=p.useState(!1),b=dt(u),N=VA(n),_=p.useRef(!1),[C,S]=p.useState(0);return p.useEffect(()=>{const E=f.current;if(E)return E.addEventListener(jg,b),()=>E.removeEventListener(jg,b)},[b]),a.jsx(HX,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:g,onItemFocus:p.useCallback(E=>y(E),[y]),onItemShiftTab:p.useCallback(()=>v(!0),[]),onFocusableItemAdd:p.useCallback(()=>S(E=>E+1),[]),onFocusableItemRemove:p.useCallback(()=>S(E=>E-1),[]),children:a.jsx(ne.div,{tabIndex:x||C===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:ee(t.onMouseDown,()=>{_.current=!0}),onFocus:ee(t.onFocus,E=>{const k=!_.current;if(E.target===E.currentTarget&&k&&!x){const T=new CustomEvent(jg,BX);if(E.currentTarget.dispatchEvent(T),!T.defaultPrevented){const R=N().filter(V=>V.focusable),I=R.find(V=>V.active),F=R.find(V=>V.id===g),$=[I,F,...R].filter(Boolean).map(V=>V.ref.current);zA($,d)}}_.current=!1}),onBlur:ee(t.onBlur,()=>v(!1))})})}),UA="RovingFocusGroupItem",BA=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...l}=t,c=Pr(),u=i||c,d=GX(UA,n),h=d.currentTabStopId===u,f=VA(n),{onFocusableItemAdd:m,onFocusableItemRemove:w,currentTabStopId:g}=d;return p.useEffect(()=>{if(r)return m(),()=>w()},[r,m,w]),a.jsx(Ky.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(ne.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:ee(t.onMouseDown,y=>{r?d.onItemFocus(u):y.preventDefault()}),onFocus:ee(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:ee(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=QX(y,d.orientation,d.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=f().filter(N=>N.focusable).map(N=>N.ref.current);if(x==="last")b.reverse();else if(x==="prev"||x==="next"){x==="prev"&&b.reverse();const N=b.indexOf(y.currentTarget);b=d.loop?XX(b,N+1):b.slice(N+1)}setTimeout(()=>zA(b))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});BA.displayName=UA;var KX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function YX(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function QX(t,e,n){const r=YX(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return KX[r]}function zA(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function XX(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var WA=$A,HA=BA,Gp="Tabs",[JX,QZ]=cn(Gp,[Hp]),GA=Hp(),[ZX,ib]=JX(Gp),qA=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=Cl(l),[h,f]=cr({prop:r,onChange:s,defaultProp:i??"",caller:Gp});return a.jsx(ZX,{scope:n,baseId:Pr(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:a.jsx(ne.div,{dir:d,"data-orientation":o,...u,ref:e})})});qA.displayName=Gp;var KA="TabsList",YA=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=ib(KA,n),o=GA(n);return a.jsx(WA,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:a.jsx(ne.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});YA.displayName=KA;var QA="TabsTrigger",XA=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=ib(QA,n),l=GA(n),c=eD(o.baseId,r),u=tD(o.baseId,r),d=r===o.value;return a.jsx(HA,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(ne.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:ee(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:ee(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:ee(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(r)})})})});XA.displayName=QA;var JA="TabsContent",ZA=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,l=ib(JA,n),c=eD(l.baseId,r),u=tD(l.baseId,r),d=r===l.value,h=p.useRef(d);return p.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),a.jsx(Nn,{present:s||d,children:({present:f})=>a.jsx(ne.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});ZA.displayName=JA;function eD(t,e){return`${t}-trigger-${e}`}function tD(t,e){return`${t}-content-${e}`}var eJ=qA,nD=YA,rD=XA,sD=ZA;const tJ=eJ,iD=p.forwardRef(({className:t,...e},n)=>a.jsx(nD,{ref:n,className:L("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));iD.displayName=nD.displayName;const Yy=p.forwardRef(({className:t,...e},n)=>a.jsx(rD,{ref:n,className:L("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));Yy.displayName=rD.displayName;const Qy=p.forwardRef(({className:t,...e},n)=>a.jsx(sD,{ref:n,className:L("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Qy.displayName=sD.displayName;var qp="Collapsible",[nJ,oD]=cn(qp),[rJ,ob]=nJ(qp),aD=p.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:o,...l}=t,[c,u]=cr({prop:r,defaultProp:s??!1,onChange:o,caller:qp});return a.jsx(rJ,{scope:n,disabled:i,contentId:Pr(),open:c,onOpenToggle:p.useCallback(()=>u(d=>!d),[u]),children:a.jsx(ne.div,{"data-state":lb(c),"data-disabled":i?"":void 0,...l,ref:e})})});aD.displayName=qp;var lD="CollapsibleTrigger",cD=p.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=ob(lD,n);return a.jsx(ne.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":lb(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:ee(t.onClick,s.onOpenToggle)})});cD.displayName=lD;var ab="CollapsibleContent",uD=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=ob(ab,t.__scopeCollapsible);return a.jsx(Nn,{present:n||s.open,children:({present:i})=>a.jsx(sJ,{...r,ref:e,present:i})})});uD.displayName=ab;var sJ=p.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=t,o=ob(ab,n),[l,c]=p.useState(r),u=p.useRef(null),d=ge(e,u),h=p.useRef(0),f=h.current,m=p.useRef(0),w=m.current,g=o.open||l,y=p.useRef(g),x=p.useRef(void 0);return p.useEffect(()=>{const v=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(v)},[]),mt(()=>{const v=u.current;if(v){x.current=x.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const b=v.getBoundingClientRect();h.current=b.height,m.current=b.width,y.current||(v.style.transitionDuration=x.current.transitionDuration,v.style.animationName=x.current.animationName),c(r)}},[o.open,r]),a.jsx(ne.div,{"data-state":lb(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...i,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...t.style},children:g&&s})});function lb(t){return t?"open":"closed"}var iJ=aD,oJ=cD,aJ=uD,gr="Accordion",lJ=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[cb,cJ,uJ]=Jf(gr),[Kp,XZ]=cn(gr,[uJ,oD]),ub=oD(),dD=H.forwardRef((t,e)=>{const{type:n,...r}=t,s=r,i=r;return a.jsx(cb.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?a.jsx(pJ,{...i,ref:e}):a.jsx(fJ,{...s,ref:e})})});dD.displayName=gr;var[hD,dJ]=Kp(gr),[fD,hJ]=Kp(gr,{collapsible:!1}),fJ=H.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...o}=t,[l,c]=cr({prop:n,defaultProp:r??"",onChange:s,caller:gr});return a.jsx(hD,{scope:t.__scopeAccordion,value:H.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:H.useCallback(()=>i&&c(""),[i,c]),children:a.jsx(fD,{scope:t.__scopeAccordion,collapsible:i,children:a.jsx(pD,{...o,ref:e})})})}),pJ=H.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=t,[o,l]=cr({prop:n,defaultProp:r??[],onChange:s,caller:gr}),c=H.useCallback(d=>l((h=[])=>[...h,d]),[l]),u=H.useCallback(d=>l((h=[])=>h.filter(f=>f!==d)),[l]);return a.jsx(hD,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:a.jsx(fD,{scope:t.__scopeAccordion,collapsible:!0,children:a.jsx(pD,{...i,ref:e})})})}),[mJ,Yp]=Kp(gr),pD=H.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...o}=t,l=H.useRef(null),c=ge(l,e),u=cJ(n),h=Cl(s)==="ltr",f=ee(t.onKeyDown,m=>{var E;if(!lJ.includes(m.key))return;const w=m.target,g=u().filter(k=>{var T;return!((T=k.ref.current)!=null&&T.disabled)}),y=g.findIndex(k=>k.ref.current===w),x=g.length;if(y===-1)return;m.preventDefault();let v=y;const b=0,N=x-1,_=()=>{v=y+1,v>N&&(v=b)},C=()=>{v=y-1,v<b&&(v=N)};switch(m.key){case"Home":v=b;break;case"End":v=N;break;case"ArrowRight":i==="horizontal"&&(h?_():C());break;case"ArrowDown":i==="vertical"&&_();break;case"ArrowLeft":i==="horizontal"&&(h?C():_());break;case"ArrowUp":i==="vertical"&&C();break}const S=v%x;(E=g[S].ref.current)==null||E.focus()});return a.jsx(mJ,{scope:n,disabled:r,direction:s,orientation:i,children:a.jsx(cb.Slot,{scope:n,children:a.jsx(ne.div,{...o,"data-orientation":i,ref:c,onKeyDown:r?void 0:f})})})}),Pf="AccordionItem",[gJ,db]=Kp(Pf),mD=H.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...s}=t,i=Yp(Pf,n),o=dJ(Pf,n),l=ub(n),c=Pr(),u=r&&o.value.includes(r)||!1,d=i.disabled||t.disabled;return a.jsx(gJ,{scope:n,open:u,disabled:d,triggerId:c,children:a.jsx(iJ,{"data-orientation":i.orientation,"data-state":bD(u),...l,...s,ref:e,disabled:d,open:u,onOpenChange:h=>{h?o.onItemOpen(r):o.onItemClose(r)}})})});mD.displayName=Pf;var gD="AccordionHeader",vD=H.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Yp(gr,n),i=db(gD,n);return a.jsx(ne.h3,{"data-orientation":s.orientation,"data-state":bD(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:e})});vD.displayName=gD;var Xy="AccordionTrigger",yD=H.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Yp(gr,n),i=db(Xy,n),o=hJ(Xy,n),l=ub(n);return a.jsx(cb.ItemSlot,{scope:n,children:a.jsx(oJ,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...l,...r,ref:e})})});yD.displayName=Xy;var xD="AccordionContent",wD=H.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Yp(gr,n),i=db(xD,n),o=ub(n);return a.jsx(aJ,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});wD.displayName=xD;function bD(t){return t?"open":"closed"}var vJ=dD,yJ=mD,xJ=vD,_D=yD,CD=wD;const wJ=vJ,ND=p.forwardRef(({className:t,...e},n)=>a.jsx(yJ,{ref:n,className:L("border-b",t),...e}));ND.displayName="AccordionItem";const SD=p.forwardRef(({className:t,children:e,...n},r)=>a.jsx(xJ,{className:"flex",children:a.jsxs(_D,{ref:r,className:L("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,a.jsx(n0,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));SD.displayName=_D.displayName;const ED=p.forwardRef(({className:t,children:e,...n},r)=>a.jsx(CD,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:a.jsx("div",{className:L("pb-4 pt-0",t),children:e})}));ED.displayName=CD.displayName;function bJ({vocabularies:t,categories:e,onAdd:n,onUpdate:r,onDelete:s}){const[i,o]=p.useState(!1),[l,c]=p.useState(null),[u,d]=p.useState(""),[h,f]=p.useState(!1),{toast:m}=wt(),[w,g]=p.useState(""),[y,x]=p.useState(""),[v,b]=p.useState(""),N=p.useMemo(()=>{const k=t.filter(R=>{if(!u)return!0;const I=u.toLowerCase();return R.category.toLowerCase().includes(I)||R.word_civilian.toLowerCase().includes(I)||R.word_undercover.toLowerCase().includes(I)}),T={};return k.forEach(R=>{T[R.category]||(T[R.category]=[]),T[R.category].push(R)}),Object.entries(T).sort(([R],[I])=>R.localeCompare(I))},[t,u]),_=()=>{c(null),g(""),x(""),b(""),o(!0)},C=k=>{c(k),g(k.category),x(k.word_civilian),b(k.word_undercover),o(!0)},S=()=>{!w||!y||!v||(l?r({...l,category:w,word_civilian:y,word_undercover:v}):n({category:w,word_civilian:y,word_undercover:v}),o(!1))},E=async()=>{if(!w.trim()){m({title:"",description:" AI ",variant:"destructive"});return}f(!0);try{const k=await SX(w,3);k.forEach(T=>{n(T)}),m({title:" !",description:` ${k.length}  "${w}"`}),o(!1),g(""),x(""),b("")}catch(k){m({title:"",description:k instanceof Error?k.message:"",variant:"destructive"})}finally{f(!1)}};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(B_,{className:"w-5 h-5 text-purple-400"}),a.jsx("h3",{className:"text-lg font-semibold text-white",children:B("vocabularyManager")}),a.jsxs(au,{variant:"secondary",className:"bg-purple-500/20",children:[t.length," ",B("words")]})]}),a.jsxs(Wr,{open:i,onOpenChange:o,children:[a.jsx(Ri,{asChild:!0,children:a.jsxs(D,{onClick:_,size:"sm",className:"bg-purple-500 hover:bg-purple-600",children:[a.jsx(xu,{className:"w-4 h-4 mr-1"}),B("addWord")]})}),a.jsxs(fr,{className:"bg-gray-900 text-white border-white/20",children:[a.jsxs(pr,{children:[a.jsx(mr,{children:B(l?"editVocabulary":"addVocabulary")}),a.jsx(Hr,{className:"sr-only",children:l?"":""})]}),a.jsxs("div",{className:"space-y-4 mt-4",children:[a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"category",children:B("category")}),a.jsx(me,{id:"category",value:w,onChange:k=>g(k.target.value),placeholder:B("categoryPlaceholder"),className:"bg-black/30 border-white/20 text-white"})]}),a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"civilian",children:B("civilianWord")}),a.jsx(me,{id:"civilian",value:y,onChange:k=>x(k.target.value),placeholder:B("civilianPlaceholder"),className:"bg-black/30 border-white/20 text-white"})]}),a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"undercover",children:B("undercoverWord")}),a.jsx(me,{id:"undercover",value:v,onChange:k=>b(k.target.value),placeholder:B("undercoverPlaceholder"),className:"bg-black/30 border-white/20 text-white"})]}),!l&&a.jsx(D,{onClick:E,disabled:!w.trim()||h,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white",variant:"default",children:h?a.jsxs(a.Fragment,{children:[a.jsx(pt,{className:"w-4 h-4 mr-2 animate-spin"})," AI..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"w-4 h-4 mr-2"}),"  AI (3 )"]})}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t border-white/10"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-gray-900 px-2 text-white/40",children:l?"":""})})]}),a.jsx(D,{onClick:S,disabled:!w||!y||!v,className:"w-full bg-purple-500 hover:bg-purple-600",children:B(l?"save":"add")})]})]})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Tv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/40"}),a.jsx(me,{type:"text",placeholder:B("searchVocabulary"),value:u,onChange:k=>d(k.target.value),className:"bg-black/30 border-white/20 text-white pl-10"})]}),a.jsx(wJ,{type:"multiple",className:"space-y-2",children:N.map(([k,T])=>a.jsxs(ND,{value:k,className:"bg-black/40 border-white/10 rounded-lg overflow-hidden",children:[a.jsx(SD,{className:"px-4 hover:bg-white/5 hover:no-underline",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-semibold text-white",children:k}),a.jsx(au,{variant:"secondary",className:"bg-purple-500/20",children:T.length})]})}),a.jsx(ED,{className:"px-4 pb-4",children:a.jsx("div",{className:"space-y-2 mt-2",children:T.map(R=>a.jsx(zs,{className:"bg-black/40 border-white/10",children:a.jsx(Ws,{className:"p-3",children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-white/60 text-xs block mb-1",children:B("civilian")}),a.jsx("span",{className:"text-green-400 font-medium",children:R.word_civilian})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-white/60 text-xs block mb-1",children:B("undercover")}),a.jsx("span",{className:"text-red-400 font-medium",children:R.word_undercover})]})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(D,{size:"sm",variant:"ghost",onClick:()=>C(R),disabled:R.id<1e3,className:"h-8 w-8 p-0 text-blue-400 hover:text-blue-300 hover:bg-blue-500/20 disabled:opacity-30 disabled:cursor-not-allowed",title:R.id<1e3?B("cannotEditDefault"):B("edit"),children:a.jsx(Oh,{className:"w-4 h-4"})}),a.jsx(D,{size:"sm",variant:"ghost",onClick:()=>s(R.id),disabled:R.id<1e3,className:"h-8 w-8 p-0 text-red-400 hover:text-red-300 hover:bg-red-500/20 disabled:opacity-30 disabled:cursor-not-allowed",title:R.id<1e3?B("cannotDeleteDefault"):B("delete"),children:a.jsx(xo,{className:"w-4 h-4"})})]})]})})},R.id))})})]},k))}),N.length===0&&a.jsxs("div",{className:"text-center py-12 text-white/40",children:[a.jsx(B_,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),a.jsx("p",{children:B(u?"noVocabularyFound":"noVocabularyYet")})]})]})}function _J({onCreateRoom:t,onJoinRoom:e,onBack:n,isLoading:r}){const{displayName:s}=zr(),[i,o]=p.useState(""),[l,c]=p.useState(""),[u,d]=p.useState(""),[h,f]=p.useState(Rd()),[m,w]=p.useState(!1),{toast:g}=wt();p.useEffect(()=>{s&&(i||o(s),l||c(s))},[s]);const y=_=>{EY(_),f(Rd())},x=_=>{kY(_),f(Rd())},v=_=>{TY(_),f(Rd())},b=()=>{const _=If(i);if(!_.isValid){g({title:B("error"),description:_.error||B("invalidName"),variant:"destructive"});return}t(i.trim())},N=()=>{const _=If(l);if(!_.isValid){g({title:B("error"),description:_.error||B("invalidName"),variant:"destructive"});return}u.trim()&&e(u.trim().toUpperCase(),l.trim())};return a.jsxs("div",{className:"min-h-screen min-h-[100dvh] flex flex-col items-center justify-center p-4 sm:p-6 relative",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('/king-s-cup-party/bg-party.jpg')"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-purple-900/80 to-black/80"}),a.jsxs(D,{variant:"ghost",onClick:n,className:"absolute top-4 left-4 text-white/70 hover:text-white z-20",children:[a.jsx(al,{className:"w-5 h-5 mr-2"}),B("back")]}),a.jsxs("div",{className:"text-center mb-6 sm:mb-8 relative z-10",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-2 drop-shadow-lg",children:B("undercoverTitle")}),a.jsx("p",{className:"text-white/80 text-base sm:text-lg",children:B("undercoverSubtitle")})]}),a.jsxs(Wr,{open:m,onOpenChange:w,children:[a.jsx(Ri,{asChild:!0,children:a.jsxs(D,{variant:"outline",className:"absolute top-4 right-4 text-white/70 hover:text-white z-20 border-white/20",children:[a.jsx(wu,{className:"w-5 h-5 mr-2"}),B("manageWords")]})}),a.jsxs(fr,{className:"bg-gray-900 text-white border-white/20 max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(pr,{children:[a.jsx(mr,{children:B("vocabularyManager")}),a.jsx(Hr,{className:"sr-only",children:" Undercover"})]}),a.jsx(bJ,{vocabularies:h,categories:R2(),onAdd:y,onUpdate:x,onDelete:v})]})]}),a.jsx(zs,{className:"bg-black/40 backdrop-blur-md border-white/10 w-full max-w-md relative z-10",children:a.jsx(Ws,{className:"p-4 sm:p-6",children:a.jsxs(tJ,{defaultValue:"create",className:"w-full",children:[a.jsxs(iD,{className:"grid w-full grid-cols-2 bg-black/40",children:[a.jsxs(Yy,{value:"create",className:"data-[state=active]:bg-purple-500 data-[state=active]:text-white",children:[a.jsx(Vn,{className:"w-4 h-4 mr-2"}),B("createRoom")]}),a.jsxs(Yy,{value:"join",className:"data-[state=active]:bg-purple-500 data-[state=active]:text-white",children:[a.jsx(gT,{className:"w-4 h-4 mr-2"}),B("joinRoom")]})]}),a.jsxs(Qy,{value:"create",className:"mt-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-white/60 block mb-2",children:B("yourName")}),a.jsx(me,{type:"text",placeholder:B("enterName"),value:i,onChange:_=>o(_.target.value),className:"bg-black/30 border-white/20 text-white placeholder:text-white/40",maxLength:20})]}),a.jsx(D,{onClick:b,disabled:!i.trim()||r,className:"w-full bg-purple-500 hover:bg-purple-600 text-white",children:B(r?"creating":"createNewRoom")})]}),a.jsxs(Qy,{value:"join",className:"mt-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-white/60 block mb-2",children:B("roomCode")}),a.jsx(me,{type:"text",placeholder:B("enterCode"),value:u,onChange:_=>d(_.target.value.toUpperCase()),className:"bg-black/30 border-white/20 text-white placeholder:text-white/40 font-mono text-center text-xl tracking-widest",maxLength:6})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-white/60 block mb-2",children:B("yourName")}),a.jsx(me,{type:"text",placeholder:B("enterName"),value:l,onChange:_=>c(_.target.value),className:"bg-black/30 border-white/20 text-white placeholder:text-white/40",maxLength:20})]}),a.jsx(D,{onClick:N,disabled:!l.trim()||u.length!==6||r,className:"w-full bg-green-500 hover:bg-green-600 text-white",children:B(r?"joining":"joinRoomBtn")})]})]})})})]})}function hb(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var CJ=[" ","Enter","ArrowUp","ArrowDown"],NJ=[" ","Enter"],To="Select",[Qp,Xp,SJ]=Jf(To),[Nl,JZ]=cn(To,[SJ,op]),Jp=op(),[EJ,Pi]=Nl(To),[kJ,TJ]=Nl(To),kD=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:m,form:w}=t,g=Jp(e),[y,x]=p.useState(null),[v,b]=p.useState(null),[N,_]=p.useState(!1),C=Cl(u),[S,E]=cr({prop:r,defaultProp:s??!1,onChange:i,caller:To}),[k,T]=cr({prop:o,defaultProp:l,onChange:c,caller:To}),R=p.useRef(null),I=y?w||!!y.closest("form"):!0,[F,P]=p.useState(new Set),$=Array.from(F).map(V=>V.props.value).join(";");return a.jsx(o6,{...g,children:a.jsxs(EJ,{required:m,scope:e,trigger:y,onTriggerChange:x,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:N,onValueNodeHasChildrenChange:_,contentId:Pr(),value:k,onValueChange:T,open:S,onOpenChange:E,dir:C,triggerPointerDownPosRef:R,disabled:f,children:[a.jsx(Qp.Provider,{scope:e,children:a.jsx(kJ,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(V=>{P(z=>new Set(z).add(V))},[]),onNativeOptionRemove:p.useCallback(V=>{P(z=>{const A=new Set(z);return A.delete(V),A})},[]),children:n})}),I?a.jsxs(XD,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:k,onChange:V=>T(V.target.value),disabled:f,form:w,children:[k===void 0?a.jsx("option",{value:""}):null,Array.from(F)]},$):null]})})};kD.displayName=To;var TD="SelectTrigger",jD=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Jp(n),o=Pi(TD,n),l=o.disabled||r,c=ge(e,o.onTriggerChange),u=Xp(n),d=p.useRef("touch"),[h,f,m]=ZD(g=>{const y=u().filter(b=>!b.disabled),x=y.find(b=>b.value===o.value),v=eM(y,g,x);v!==void 0&&o.onValueChange(v.value)}),w=g=>{l||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return a.jsx(YT,{asChild:!0,...i,children:a.jsx(ne.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":JD(o.value)?"":void 0,...s,ref:c,onClick:ee(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&w(g)}),onPointerDown:ee(s.onPointerDown,g=>{d.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(w(g),g.preventDefault())}),onKeyDown:ee(s.onKeyDown,g=>{const y=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(y&&g.key===" ")&&CJ.includes(g.key)&&(w(),g.preventDefault())})})})});jD.displayName=TD;var RD="SelectValue",ID=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...l}=t,c=Pi(RD,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=ge(e,c.onValueNodeChange);return mt(()=>{u(d)},[u,d]),a.jsx(ne.span,{...l,ref:h,style:{pointerEvents:"none"},children:JD(c.value)?a.jsx(a.Fragment,{children:o}):i})});ID.displayName=RD;var jJ="SelectIcon",PD=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return a.jsx(ne.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});PD.displayName=jJ;var RJ="SelectPortal",AD=t=>a.jsx(Zf,{asChild:!0,...t});AD.displayName=RJ;var jo="SelectContent",DD=p.forwardRef((t,e)=>{const n=Pi(jo,t.__scopeSelect),[r,s]=p.useState();if(mt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Po.createPortal(a.jsx(MD,{scope:t.__scopeSelect,children:a.jsx(Qp.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),i):null}return a.jsx(OD,{...t,ref:e})});DD.displayName=jo;var qn=10,[MD,Ai]=Nl(jo),IJ="SelectContentImpl",PJ=Ba("SelectContent.RemoveScroll"),OD=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:w,hideWhenDetached:g,avoidCollisions:y,...x}=t,v=Pi(jo,n),[b,N]=p.useState(null),[_,C]=p.useState(null),S=ge(e,Q=>N(Q)),[E,k]=p.useState(null),[T,R]=p.useState(null),I=Xp(n),[F,P]=p.useState(!1),$=p.useRef(!1);p.useEffect(()=>{if(b)return U2(b)},[b]),P2();const V=p.useCallback(Q=>{const[_e,...Ae]=I().map(fe=>fe.ref.current),[be]=Ae.slice(-1),G=document.activeElement;for(const fe of Q)if(fe===G||(fe==null||fe.scrollIntoView({block:"nearest"}),fe===_e&&_&&(_.scrollTop=0),fe===be&&_&&(_.scrollTop=_.scrollHeight),fe==null||fe.focus(),document.activeElement!==G))return},[I,_]),z=p.useCallback(()=>V([E,b]),[V,E,b]);p.useEffect(()=>{F&&z()},[F,z]);const{onOpenChange:A,triggerPointerDownPosRef:M}=v;p.useEffect(()=>{if(b){let Q={x:0,y:0};const _e=be=>{var G,fe;Q={x:Math.abs(Math.round(be.pageX)-(((G=M.current)==null?void 0:G.x)??0)),y:Math.abs(Math.round(be.pageY)-(((fe=M.current)==null?void 0:fe.y)??0))}},Ae=be=>{Q.x<=10&&Q.y<=10?be.preventDefault():b.contains(be.target)||A(!1),document.removeEventListener("pointermove",_e),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",Ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",Ae,{capture:!0})}}},[b,A,M]),p.useEffect(()=>{const Q=()=>A(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[A]);const[j,W]=ZD(Q=>{const _e=I().filter(G=>!G.disabled),Ae=_e.find(G=>G.ref.current===document.activeElement),be=eM(_e,Q,Ae);be&&setTimeout(()=>be.ref.current.focus())}),K=p.useCallback((Q,_e,Ae)=>{const be=!$.current&&!Ae;(v.value!==void 0&&v.value===_e||be)&&(k(Q),be&&($.current=!0))},[v.value]),re=p.useCallback(()=>b==null?void 0:b.focus(),[b]),ae=p.useCallback((Q,_e,Ae)=>{const be=!$.current&&!Ae;(v.value!==void 0&&v.value===_e||be)&&R(Q)},[v.value]),Te=r==="popper"?Jy:LD,Re=Te===Jy?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:w,hideWhenDetached:g,avoidCollisions:y}:{};return a.jsx(MD,{scope:n,content:b,viewport:_,onViewportChange:C,itemRefCallback:K,selectedItem:E,onItemLeave:re,itemTextRefCallback:ae,focusSelectedItem:z,selectedItemText:T,position:r,isPositioned:F,searchRef:j,children:a.jsx(Qw,{as:PJ,allowPinchZoom:!0,children:a.jsx(Yw,{asChild:!0,trapped:v.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:ee(s,Q=>{var _e;(_e=v.trigger)==null||_e.focus({preventScroll:!0}),Q.preventDefault()}),children:a.jsx(mu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(Te,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:Q=>Q.preventDefault(),...x,...Re,onPlaced:()=>P(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ee(x.onKeyDown,Q=>{const _e=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!_e&&Q.key.length===1&&W(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let be=I().filter(G=>!G.disabled).map(G=>G.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const G=Q.target,fe=be.indexOf(G);be=be.slice(fe+1)}setTimeout(()=>V(be)),Q.preventDefault()}})})})})})})});OD.displayName=IJ;var AJ="SelectItemAlignedPosition",LD=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Pi(jo,n),o=Ai(jo,n),[l,c]=p.useState(null),[u,d]=p.useState(null),h=ge(e,S=>d(S)),f=Xp(n),m=p.useRef(!1),w=p.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:x,focusSelectedItem:v}=o,b=p.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&y&&x){const S=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),k=i.valueNode.getBoundingClientRect(),T=x.getBoundingClientRect();if(i.dir!=="rtl"){const G=T.left-E.left,fe=k.left-G,Ue=S.left-fe,It=S.width+Ue,qr=Math.max(It,E.width),vr=window.innerWidth-qn,Sn=Uy(fe,[qn,Math.max(qn,vr-qr)]);l.style.minWidth=It+"px",l.style.left=Sn+"px"}else{const G=E.right-T.right,fe=window.innerWidth-k.right-G,Ue=window.innerWidth-S.right-fe,It=S.width+Ue,qr=Math.max(It,E.width),vr=window.innerWidth-qn,Sn=Uy(fe,[qn,Math.max(qn,vr-qr)]);l.style.minWidth=It+"px",l.style.right=Sn+"px"}const R=f(),I=window.innerHeight-qn*2,F=g.scrollHeight,P=window.getComputedStyle(u),$=parseInt(P.borderTopWidth,10),V=parseInt(P.paddingTop,10),z=parseInt(P.borderBottomWidth,10),A=parseInt(P.paddingBottom,10),M=$+V+F+A+z,j=Math.min(y.offsetHeight*5,M),W=window.getComputedStyle(g),K=parseInt(W.paddingTop,10),re=parseInt(W.paddingBottom,10),ae=S.top+S.height/2-qn,Te=I-ae,Re=y.offsetHeight/2,Q=y.offsetTop+Re,_e=$+V+Q,Ae=M-_e;if(_e<=ae){const G=R.length>0&&y===R[R.length-1].ref.current;l.style.bottom="0px";const fe=u.clientHeight-g.offsetTop-g.offsetHeight,Ue=Math.max(Te,Re+(G?re:0)+fe+z),It=_e+Ue;l.style.height=It+"px"}else{const G=R.length>0&&y===R[0].ref.current;l.style.top="0px";const Ue=Math.max(ae,$+g.offsetTop+(G?K:0)+Re)+Ae;l.style.height=Ue+"px",g.scrollTop=_e-ae+g.offsetTop}l.style.margin=`${qn}px 0`,l.style.minHeight=j+"px",l.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,l,u,g,y,x,i.dir,r]);mt(()=>b(),[b]);const[N,_]=p.useState();mt(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const C=p.useCallback(S=>{S&&w.current===!0&&(b(),v==null||v(),w.current=!1)},[b,v]);return a.jsx(MJ,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:C,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:a.jsx(ne.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});LD.displayName=AJ;var DJ="SelectPopperPosition",Jy=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=qn,...i}=t,o=Jp(n);return a.jsx(QT,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Jy.displayName=DJ;var[MJ,fb]=Nl(jo,{}),Zy="SelectViewport",FD=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Ai(Zy,n),o=fb(Zy,n),l=ge(e,i.onViewportChange),c=p.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(Qp.Slot,{scope:n,children:a.jsx(ne.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ee(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const m=Math.abs(c.current-d.scrollTop);if(m>0){const w=window.innerHeight-qn*2,g=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),x=Math.max(g,y);if(x<w){const v=x+m,b=Math.min(w,v),N=v-b;h.style.height=b+"px",h.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});FD.displayName=Zy;var VD="SelectGroup",[OJ,LJ]=Nl(VD),FJ=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Pr();return a.jsx(OJ,{scope:n,id:s,children:a.jsx(ne.div,{role:"group","aria-labelledby":s,...r,ref:e})})});FJ.displayName=VD;var $D="SelectLabel",UD=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=LJ($D,n);return a.jsx(ne.div,{id:s.id,...r,ref:e})});UD.displayName=$D;var Af="SelectItem",[VJ,BD]=Nl(Af),zD=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,l=Pi(Af,n),c=Ai(Af,n),u=l.value===r,[d,h]=p.useState(i??""),[f,m]=p.useState(!1),w=ge(e,v=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,v,r,s)}),g=Pr(),y=p.useRef("touch"),x=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(VJ,{scope:n,value:r,disabled:s,textId:g,isSelected:u,onItemTextChange:p.useCallback(v=>{h(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx(Qp.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:a.jsx(ne.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:ee(o.onFocus,()=>m(!0)),onBlur:ee(o.onBlur,()=>m(!1)),onClick:ee(o.onClick,()=>{y.current!=="mouse"&&x()}),onPointerUp:ee(o.onPointerUp,()=>{y.current==="mouse"&&x()}),onPointerDown:ee(o.onPointerDown,v=>{y.current=v.pointerType}),onPointerMove:ee(o.onPointerMove,v=>{var b;y.current=v.pointerType,s?(b=c.onItemLeave)==null||b.call(c):y.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ee(o.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:ee(o.onKeyDown,v=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&v.key===" "||(NJ.includes(v.key)&&x(),v.key===" "&&v.preventDefault())})})})})});zD.displayName=Af;var ec="SelectItemText",WD=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Pi(ec,n),l=Ai(ec,n),c=BD(ec,n),u=TJ(ec,n),[d,h]=p.useState(null),f=ge(e,x=>h(x),c.onItemTextChange,x=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,x,c.value,c.disabled)}),m=d==null?void 0:d.textContent,w=p.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=u;return mt(()=>(g(w),()=>y(w)),[g,y,w]),a.jsxs(a.Fragment,{children:[a.jsx(ne.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Po.createPortal(i.children,o.valueNode):null]})});WD.displayName=ec;var HD="SelectItemIndicator",GD=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return BD(HD,n).isSelected?a.jsx(ne.span,{"aria-hidden":!0,...r,ref:e}):null});GD.displayName=HD;var ex="SelectScrollUpButton",qD=p.forwardRef((t,e)=>{const n=Ai(ex,t.__scopeSelect),r=fb(ex,t.__scopeSelect),[s,i]=p.useState(!1),o=ge(e,r.onScrollButtonChange);return mt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(YD,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});qD.displayName=ex;var tx="SelectScrollDownButton",KD=p.forwardRef((t,e)=>{const n=Ai(tx,t.__scopeSelect),r=fb(tx,t.__scopeSelect),[s,i]=p.useState(!1),o=ge(e,r.onScrollButtonChange);return mt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(YD,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});KD.displayName=tx;var YD=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Ai("SelectScrollButton",n),o=p.useRef(null),l=Xp(n),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),mt(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(ne.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ee(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ee(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ee(s.onPointerLeave,()=>{c()})})}),$J="SelectSeparator",QD=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return a.jsx(ne.div,{"aria-hidden":!0,...r,ref:e})});QD.displayName=$J;var nx="SelectArrow",UJ=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Jp(n),i=Pi(nx,n),o=Ai(nx,n);return i.open&&o.position==="popper"?a.jsx(XT,{...s,...r,ref:e}):null});UJ.displayName=nx;var BJ="SelectBubbleInput",XD=p.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=p.useRef(null),i=ge(r,s),o=hb(e);return p.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&d){const h=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(h)}},[o,e]),a.jsx(ne.select,{...n,style:{...Gk,...n.style},ref:i,defaultValue:e})});XD.displayName=BJ;function JD(t){return t===""||t===void 0}function ZD(t){const e=dt(t),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(o=>{const l=n.current+o;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function eM(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=zJ(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function zJ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var WJ=kD,tM=jD,HJ=ID,GJ=PD,qJ=AD,nM=DD,KJ=FD,rM=UD,sM=zD,YJ=WD,QJ=GD,iM=qD,oM=KD,aM=QD;const XJ=WJ,JJ=HJ,lM=p.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(tM,{ref:r,className:L("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(GJ,{asChild:!0,children:a.jsx(n0,{className:"h-4 w-4 opacity-50"})})]}));lM.displayName=tM.displayName;const cM=p.forwardRef(({className:t,...e},n)=>a.jsx(iM,{ref:n,className:L("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(g5,{className:"h-4 w-4"})}));cM.displayName=iM.displayName;const uM=p.forwardRef(({className:t,...e},n)=>a.jsx(oM,{ref:n,className:L("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(n0,{className:"h-4 w-4"})}));uM.displayName=oM.displayName;const dM=p.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>a.jsx(qJ,{children:a.jsxs(nM,{ref:s,className:L("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[a.jsx(cM,{}),a.jsx(KJ,{className:L("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(uM,{})]})}));dM.displayName=nM.displayName;const ZJ=p.forwardRef(({className:t,...e},n)=>a.jsx(rM,{ref:n,className:L("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));ZJ.displayName=rM.displayName;const hM=p.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(sM,{ref:r,className:L("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(QJ,{children:a.jsx(io,{className:"h-4 w-4"})})}),a.jsx(YJ,{children:e})]}));hM.displayName=sM.displayName;const eZ=p.forwardRef(({className:t,...e},n)=>a.jsx(aM,{ref:n,className:L("-mx-1 my-1 h-px bg-muted",t),...e}));eZ.displayName=aM.displayName;var Zp="Switch",[tZ,ZZ]=cn(Zp),[nZ,rZ]=tZ(Zp),fM=p.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=t,[f,m]=p.useState(null),w=ge(e,b=>m(b)),g=p.useRef(!1),y=f?d||!!f.closest("form"):!0,[x,v]=cr({prop:s,defaultProp:i??!1,onChange:u,caller:Zp});return a.jsxs(nZ,{scope:n,checked:x,disabled:l,children:[a.jsx(ne.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":vM(x),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:w,onClick:ee(t.onClick,b=>{v(N=>!N),y&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),y&&a.jsx(gM,{control:f,bubbles:!g.current,name:r,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});fM.displayName=Zp;var pM="SwitchThumb",mM=p.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=rZ(pM,n);return a.jsx(ne.span,{"data-state":vM(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});mM.displayName=pM;var sZ="SwitchBubbleInput",gM=p.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=p.useRef(null),l=ge(o,i),c=hb(n),u=h0(e);return p.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&m){const w=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(w)}},[c,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});gM.displayName=sZ;function vM(t){return t?"checked":"unchecked"}var yM=fM,iZ=mM;const xM=p.forwardRef(({className:t,...e},n)=>a.jsx(yM,{className:L("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:n,children:a.jsx(iZ,{className:L("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));xM.displayName=yM.displayName;function oZ({room:t,players:e,currentPlayerId:n,isHost:r,categories:s,onStartGame:i,onRestartGame:o,onLeave:l}){const[c,u]=p.useState(""),[d,h]=p.useState(!1),[f,m]=p.useState(!1),w=e.find(v=>v.id===n),g=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-2",children:[B("room"),": ",t.code]}),a.jsxs("p",{className:"text-white/60",children:[B("waitingPlayers")," (",e.length,"/10 ",B("people"),")"]})]}),a.jsx(zs,{className:"bg-black/40 backdrop-blur-md border-white/10",children:a.jsxs(Ws,{className:"p-4",children:[a.jsxs("h3",{className:"font-semibold mb-3 text-white/80",children:[B("playersInRoom"),":"]}),a.jsx("div",{className:"space-y-2",children:e.map(v=>a.jsxs("div",{className:"flex items-center gap-3 p-2 rounded bg-white/5",children:[a.jsx("img",{src:`/king-s-cup-party/${v.avatar||1}.jpg`,alt:v.name,className:"w-10 h-10 rounded-full object-cover border-2 border-white/40"}),a.jsx("span",{className:"flex-1",children:v.name}),v.is_host&&a.jsxs(au,{variant:"secondary",className:"bg-purple-500/20",children:[" ",B("host")]})]},v.id))})]})}),r&&a.jsx(zs,{className:"bg-black/40 backdrop-blur-md border-white/10",children:a.jsxs(Ws,{className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx(Lt,{htmlFor:"category",className:"text-white/80",children:B("category")}),a.jsxs(XJ,{value:c,onValueChange:u,children:[a.jsx(lM,{id:"category",className:"bg-black/30 border-white/20 text-white",children:a.jsx(JJ,{})}),a.jsx(dM,{children:s.map(v=>a.jsx(hM,{value:v,children:v},v))})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Lt,{htmlFor:"mr-white",className:"text-white/80",children:B("includeMrWhite")}),a.jsx(xM,{id:"mr-white",checked:d,onCheckedChange:v=>{console.log("Mr. White toggled:",v),h(v)}})]}),a.jsx(D,{onClick:()=>{console.log("Starting game with:",{selectedCategory:c,includeMrWhite:d}),i(c,d)},disabled:e.length<4,className:"w-full bg-purple-500 hover:bg-purple-600",children:e.length<4?B("needMinPlayers"):B("startGame")})]})})]}),y=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:B("seeYourWord")}),a.jsx("p",{className:"text-white/60",children:B("tapToReveal")})]}),a.jsx(zs,{className:"bg-black/40 backdrop-blur-md border-white/10",children:a.jsx(Ws,{className:"p-8",children:a.jsx("div",{className:"relative h-48 flex items-center justify-center rounded-lg bg-gradient-to-br from-purple-600 to-pink-600 cursor-pointer select-none",onMouseDown:()=>m(!0),onMouseUp:()=>m(!1),onMouseLeave:()=>m(!1),onTouchStart:()=>m(!0),onTouchEnd:()=>m(!1),children:f?a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-sm text-white/80 mb-2",children:[B("yourWordIs"),":"]}),a.jsx("p",{className:"text-4xl font-bold",children:w==null?void 0:w.word}),a.jsxs("p",{className:"text-xs text-white/60 mt-2",children:[B("role"),": ",w==null?void 0:w.role]})]}):a.jsxs("div",{className:"text-center",children:[a.jsx(Ev,{className:"w-12 h-12 mb-2 mx-auto"}),a.jsx("p",{children:B("holdToSee")})]})})})}),a.jsx(zs,{className:"bg-black/40 backdrop-blur-md border-white/10",children:a.jsxs(Ws,{className:"p-4",children:[a.jsxs("h3",{className:"font-semibold mb-3 text-white/80",children:[B("playersInRoom"),":"]}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:e.map(v=>a.jsxs("div",{className:"p-3 rounded bg-white/5 flex items-center gap-2",children:[a.jsx("img",{src:`/king-s-cup-party/${v.avatar||1}.jpg`,alt:v.name,className:"w-8 h-8 rounded-full object-cover border-2 border-white/40"}),a.jsx("span",{className:"text-sm",children:v.name})]},v.id))})]})}),r&&a.jsxs(D,{onClick:o,className:"w-full bg-purple-500 hover:bg-purple-600",children:[" ",B("restartGame")]})]}),x=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"text-center",children:a.jsxs("h2",{className:"text-4xl font-bold mb-4",children:[" ",B("gameOver"),"!"]})}),a.jsx(zs,{className:"bg-black/40 backdrop-blur-md border-white/10",children:a.jsxs(Ws,{className:"p-4",children:[a.jsxs("h3",{className:"font-semibold mb-3 text-white/80",children:[B("finalResult"),":"]}),a.jsx("div",{className:"space-y-2",children:e.map(v=>a.jsx("div",{className:`p-3 rounded ${v.is_alive?"bg-green-900/20":"bg-red-900/20"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:`/king-s-cup-party/${v.avatar||1}.jpg`,alt:v.name,className:"w-10 h-10 rounded-full object-cover border-2 border-white/40"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"font-semibold",children:[v.name," ",v.is_alive?"":""]}),a.jsxs("div",{className:"text-sm text-white/60",children:[v.role," - ",v.word]})]})]})},v.id))})]})}),r&&a.jsx(D,{onClick:o,className:"w-full bg-purple-500 hover:bg-purple-600",children:B("restartGame")})]});return a.jsxs("div",{className:"min-h-screen min-h-[100dvh] flex flex-col p-4 sm:p-6 relative",children:[a.jsx(OA,{active:t.game_phase==="FINISHED",duration:5e3}),a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('/king-s-cup-party/bg-party.jpg')"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-purple-900/80 to-black/80"}),a.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between items-center z-20",children:[a.jsxs(D,{variant:"ghost",onClick:l,className:"text-white/70 hover:text-white",children:[a.jsx(al,{className:"w-5 h-5 mr-2"}),B("leaveRoom")]}),a.jsx(Mo,{currentRoomCode:t.code,currentGameType:"undercover",currentGameName:B("undercoverTitle")})]}),a.jsx("div",{className:"flex-1 flex items-center justify-center relative z-10",children:a.jsxs("div",{className:"w-full max-w-2xl",children:[t.game_phase==="WAITING"&&g(),(t.game_phase==="REVEAL_WORD"||t.game_phase==="DESCRIBE"||t.game_phase==="VOTING"||t.game_phase==="VOTE_RESULT")&&y(),t.game_phase==="FINISHED"&&x()]})})]})}const ho=[{id:"default",name:"",nameEn:"Classic",colors:{primary:"#8b5cf6",secondary:"#ec4899",accent:"#f59e0b",background:"rgba(0, 0, 0, 0.6)",cardBg:"rgba(0, 0, 0, 0.4)",text:"#ffffff",textSecondary:"rgba(255, 255, 255, 0.6)"},gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",backgroundImage:"url('/king-s-cup-party/bg-party.jpg')"},{id:"neon",name:"",nameEn:"Neon",colors:{primary:"#00ff88",secondary:"#00d9ff",accent:"#ff00ff",background:"rgba(10, 10, 30, 0.8)",cardBg:"rgba(20, 20, 40, 0.6)",text:"#00ff88",textSecondary:"rgba(0, 255, 136, 0.6)"},gradient:"linear-gradient(135deg, #00ff88 0%, #00d9ff 50%, #ff00ff 100%)"},{id:"sunset",name:"",nameEn:"Sunset",colors:{primary:"#ff6b6b",secondary:"#ffd93d",accent:"#ff8c42",background:"rgba(20, 10, 30, 0.7)",cardBg:"rgba(40, 20, 40, 0.5)",text:"#ffffff",textSecondary:"rgba(255, 255, 255, 0.7)"},gradient:"linear-gradient(135deg, #ff6b6b 0%, #ff8c42 50%, #ffd93d 100%)"},{id:"ocean",name:"",nameEn:"Ocean",colors:{primary:"#0066ff",secondary:"#00ccff",accent:"#00ffcc",background:"rgba(0, 20, 40, 0.8)",cardBg:"rgba(0, 40, 80, 0.5)",text:"#ffffff",textSecondary:"rgba(255, 255, 255, 0.7)"},gradient:"linear-gradient(135deg, #0066ff 0%, #00ccff 50%, #00ffcc 100%)"},{id:"forest",name:"",nameEn:"Forest",colors:{primary:"#2d6a4f",secondary:"#52b788",accent:"#95d5b2",background:"rgba(20, 30, 20, 0.8)",cardBg:"rgba(30, 50, 30, 0.6)",text:"#ffffff",textSecondary:"rgba(255, 255, 255, 0.7)"},gradient:"linear-gradient(135deg, #2d6a4f 0%, #52b788 50%, #95d5b2 100%)"},{id:"royal",name:"",nameEn:"Royal",colors:{primary:"#6d28d9",secondary:"#a855f7",accent:"#fbbf24",background:"rgba(20, 10, 40, 0.8)",cardBg:"rgba(40, 20, 60, 0.6)",text:"#fbbf24",textSecondary:"rgba(251, 191, 36, 0.7)"},gradient:"linear-gradient(135deg, #6d28d9 0%, #a855f7 50%, #fbbf24 100%)"},{id:"dark",name:"",nameEn:"Dark",colors:{primary:"#374151",secondary:"#6b7280",accent:"#9ca3af",background:"rgba(0, 0, 0, 0.9)",cardBg:"rgba(20, 20, 20, 0.8)",text:"#f3f4f6",textSecondary:"rgba(243, 244, 246, 0.6)"},gradient:"linear-gradient(135deg, #1f2937 0%, #374151 100%)"},{id:"candy",name:"",nameEn:"Candy",colors:{primary:"#ff69b4",secondary:"#ffd700",accent:"#00bfff",background:"rgba(255, 192, 203, 0.2)",cardBg:"rgba(255, 255, 255, 0.3)",text:"#ffffff",textSecondary:"rgba(255, 255, 255, 0.8)"},gradient:"linear-gradient(135deg, #ff69b4 0%, #ffd700 50%, #00bfff 100%)"}],pb="party-games-theme",wM="party-games-weather-mode";function Df(){return typeof window>"u"?!1:localStorage.getItem(wM)==="true"}function aZ(t){typeof window>"u"||(localStorage.setItem(wM,t.toString()),t&&Mf())}function lZ(t,e){return e?t===0?"sunset":t>=1&&t<=3?"neon":t>=45&&t<=48?"forest":t>=51&&t<=67?"ocean":t>=71&&t<=77?"candy":t>=80&&t<=82?"ocean":t>=85&&t<=86?"candy":t>=95&&t<=99?"royal":"neon":"dark"}async function Mf(){if(!(typeof window>"u"||!Df()))try{console.log(" Starting weather detection...");let t,e;const n=window.isSecureContext;n||console.log(" Not a secure context (HTTPS), using IP-based geolocation...");try{if(n&&navigator.geolocation){const d=await new Promise((h,f)=>{navigator.geolocation.getCurrentPosition(h,m=>{console.log(` GPS failed: ${m.message}, falling back to IP location`),f(m)},{enableHighAccuracy:!1,timeout:5e3,maximumAge:3e5})});t=d.coords.latitude,e=d.coords.longitude,console.log(` GPS Location: ${t.toFixed(2)}, ${e.toFixed(2)}`)}else throw new Error("GPS not available")}catch{console.log(" Fetching location from IP address...");try{const h=await fetch("https://ipapi.co/json/");if(!h.ok)throw new Error("IP geolocation failed");const f=await h.json();t=f.latitude,e=f.longitude,console.log(` IP Location: ${t.toFixed(2)}, ${e.toFixed(2)} (${f.city}, ${f.country_name})`)}catch{console.log(" IP geolocation failed, using Bangkok as default"),t=13.7563,e=100.5018,console.log(" Default Location: Bangkok, Thailand")}}const r=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${t}&longitude=${e}&current=weather_code,is_day&timezone=auto`);if(!r.ok){const d=await r.text();throw new Error(`Weather API failed: ${r.status} - ${d}`)}const s=await r.json(),i=s.current.weather_code,o=s.current.is_day===1,l=lZ(i,o);_c(l);const u={0:"Clear sky",1:"Mainly clear",2:"Partly cloudy",3:"Overcast",45:"Foggy",48:"Depositing rime fog",51:"Light drizzle",53:"Moderate drizzle",55:"Dense drizzle",61:"Slight rain",63:"Moderate rain",65:"Heavy rain",71:"Slight snow",73:"Moderate snow",75:"Heavy snow",80:"Slight rain showers",81:"Moderate rain showers",82:"Violent rain showers",95:"Thunderstorm",96:"Thunderstorm with slight hail",99:"Thunderstorm with heavy hail"}[i]||`Weather code ${i}`;return console.log(` Weather: ${u} (code ${i}), Time: ${o?"Day ":"Night "}, Theme: ${l}`),window.dispatchEvent(new CustomEvent("weatherupdated",{detail:{weather:u,description:u,isDay:o,theme:l}})),{success:!0,weather:u,theme:l}}catch(t){console.error(" Failed to get weather:",t),window.dispatchEvent(new CustomEvent("weathererror",{detail:{error:t instanceof Error?t.message:String(t)}}));const e=localStorage.getItem(pb);return _c(e||"default"),{success:!1,error:t}}}function rl(){if(typeof window>"u")return ho[0];const t=localStorage.getItem(pb);return ho.find(e=>e.id===t)||ho[0]}function _c(t){if(typeof window>"u")return;const e=ho.find(r=>r.id===t);if(!e){console.error(` Theme not found: ${t}`);return}console.log(` Applying theme: ${e.name} (${e.id})`),localStorage.setItem(pb,t);const n=document.documentElement;n.style.setProperty("--color-primary",e.colors.primary),n.style.setProperty("--color-secondary",e.colors.secondary),n.style.setProperty("--color-accent",e.colors.accent),n.style.setProperty("--color-background",e.colors.background),n.style.setProperty("--color-card-bg",e.colors.cardBg),n.style.setProperty("--color-text",e.colors.text),n.style.setProperty("--color-text-secondary",e.colors.textSecondary),n.style.setProperty("--gradient",e.gradient),console.log(` Dispatching themechange event for ${e.name}`),window.dispatchEvent(new CustomEvent("themechange",{detail:e})),console.log(` Theme ${e.name} applied successfully`)}function cZ(){if(!(typeof window>"u"))if(Df()){Mf();const t=setInterval(()=>{Df()?(console.log(" Auto-refreshing weather..."),Mf()):clearInterval(t)},10*60*1e3)}else{const t=rl();_c(t.id)}}function $u(){const[t,e]=p.useState(rl());return p.useEffect(()=>{const n=s=>{console.log(` ThemedBackground: Received theme change to ${s.detail.name}`),e(s.detail)},r=()=>{console.log(" ThemedBackground: Weather updated, refreshing theme");const s=rl();console.log(` ThemedBackground: Applying theme ${s.name}`),e(s)};return window.addEventListener("themechange",n),window.addEventListener("weatherupdated",r),()=>{window.removeEventListener("themechange",n),window.removeEventListener("weatherupdated",r)}},[]),a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute inset-0 transition-all duration-1000 ease-out",style:{background:t.gradient}}),t.backgroundImage&&a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-20 transition-opacity duration-1000",style:{backgroundImage:t.backgroundImage}}),a.jsx("div",{className:"absolute inset-0 bg-black/30 transition-colors duration-1000"}),a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute w-96 h-96 rounded-full blur-3xl opacity-20 animate-float",style:{backgroundColor:t.colors.primary,top:"10%",left:"10%",animationDelay:"0s",animationDuration:"8s"}}),a.jsx("div",{className:"absolute w-80 h-80 rounded-full blur-3xl opacity-20 animate-float",style:{backgroundColor:t.colors.secondary,top:"60%",right:"10%",animationDelay:"2s",animationDuration:"10s"}}),a.jsx("div",{className:"absolute w-64 h-64 rounded-full blur-3xl opacity-20 animate-float",style:{backgroundColor:t.colors.accent,bottom:"20%",left:"50%",animationDelay:"4s",animationDuration:"12s"}})]})]})}function uZ(){const[t,e]=p.useState([]),[n,r]=p.useState(!1),[s,i]=p.useState(null),[o,l]=p.useState(""),[c,u]=p.useState(""),[d,h]=p.useState(!1),{toast:f}=wt();p.useEffect(()=>{n&&m()},[n]);const m=async()=>{let b=localStorage.getItem("anonymousUserId");b||(b=`anon_${Math.random().toString(36).slice(2,11)}`,localStorage.setItem("anonymousUserId",b));const{data:N,error:_}=await U.from("paranoia_questions").select("*").order("created_at",{ascending:!1});if(console.log("Paranoia questions loaded:",N,"Error:",_),_){console.error("Error loading questions:",_);return}const C=(N||[]).map(E=>({id:E.id,question:E.question,is_default:E.is_default??!1,created_by:E.created_by,created_at:E.created_at})),S=C.filter(E=>E.is_default===!0||!E.created_by||E.created_by===b);console.log(`User ${b}: Showing ${S.length} of ${C.length} questions`),e(S)},w=async()=>{if(!o.trim()){f({title:" ",variant:"destructive"});return}let b=localStorage.getItem("anonymousUserId");b||(b=`anon_${Math.random().toString(36).slice(2,11)}`,localStorage.setItem("anonymousUserId",b));const{error:N}=await U.from("paranoia_questions").insert({question:o.trim(),is_default:!1,created_by:b});if(N){console.error("Error adding question:",N),f({title:" ",variant:"destructive"});return}f({title:" !"}),l(""),m()},g=async()=>{if(!s||!o.trim())return;if(s.is_default){f({title:" ",variant:"destructive"});return}const{error:b}=await U.from("paranoia_questions").update({question:o.trim()}).eq("id",s.id);if(b){console.error("Error updating question:",b),f({title:" ",variant:"destructive"});return}f({title:" !"}),i(null),l(""),m()},y=async b=>{if(b.is_default){f({title:" ",variant:"destructive"});return}const{error:N}=await U.from("paranoia_questions").delete().eq("id",b.id);if(N){console.error("Error deleting question:",N),f({title:" ",variant:"destructive"});return}f({title:" !"}),m()},x=async()=>{h(!0);try{const b=await kX(5),{error:N}=await U.from("paranoia_questions").insert(b.map(_=>({question:_,is_default:!1})));if(N)throw N;f({title:"  5  AI !",description:""}),m()}catch(b){console.error("Error generating AI questions:",b),f({title:" ",variant:"destructive"})}finally{h(!1)}},v=t.filter(b=>b.question.toLowerCase().includes(c.toLowerCase()));return a.jsxs(Wr,{open:n,onOpenChange:r,children:[a.jsx(Ri,{asChild:!0,children:a.jsxs(D,{variant:"outline",size:"sm",className:"gap-2",children:[a.jsx(Oh,{className:"w-4 h-4"}),""]})}),a.jsxs(fr,{className:"sm:max-w-[600px] max-h-[90vh] z-[100]",children:[a.jsxs(pr,{children:[a.jsx(mr,{className:"text-2xl",children:" Paranoia"}),a.jsx(Hr,{className:"sr-only",children:"   Paranoia "})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(D,{onClick:x,disabled:d,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[a.jsx(kr,{className:"w-4 h-4 mr-2"}),d?" AI...":"  AI (5 )"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Lt,{htmlFor:"question",children:s?"":""}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(me,{id:"question",value:o,onChange:b=>l(b.target.value),placeholder:" ?",onKeyDown:b=>{b.key==="Enter"&&(s?g():w())}}),s?a.jsxs(a.Fragment,{children:[a.jsx(D,{onClick:g,children:""}),a.jsx(D,{variant:"outline",onClick:()=>{i(null),l("")},children:""})]}):a.jsx(D,{onClick:w,children:a.jsx(xu,{className:"w-4 h-4"})})]})]}),a.jsx(me,{placeholder:"...",value:c,onChange:b=>u(b.target.value)}),a.jsx(Ii,{className:"h-[500px] w-full pr-4",children:a.jsx("div",{className:"space-y-2 pb-4",children:v.length===0?a.jsx("p",{className:"text-center text-muted-foreground py-8",children:c?"":" "}):v.map(b=>a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm",children:b.question}),b.is_default&&a.jsx("span",{className:"text-xs text-muted-foreground",children:"()"})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(D,{size:"icon",variant:"ghost",onClick:()=>{if(b.is_default){f({title:" ",variant:"destructive"});return}i(b),l(b.question)},disabled:b.is_default,children:a.jsx(Oh,{className:"w-4 h-4"})}),a.jsx(D,{size:"icon",variant:"ghost",onClick:()=>y(b),disabled:b.is_default,children:a.jsx(xo,{className:"w-4 h-4"})})]})]},b.id))})}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",v.length," "]})]})]})]})}function dZ({onCreateRoom:t,onJoinRoom:e,onBack:n,isLoading:r}){const{displayName:s}=zr(),[i,o]=p.useState("select"),[l,c]=p.useState(""),[u,d]=p.useState(""),[h,f]=p.useState(null),[m,w]=p.useState(!1);p.useEffect(()=>{s&&!l&&c(s)},[s]);const g=async()=>{if(!l.trim())return;const v=await t(l.trim());v&&f(v)},y=async()=>{!l.trim()||!u.trim()||await e(u.trim(),l.trim())},x=()=>{h&&(navigator.clipboard.writeText(h),w(!0),setTimeout(()=>w(!1),2e3))};return a.jsxs("div",{className:"min-h-screen min-h-[100dvh] flex flex-col items-center justify-center p-4 relative",children:[a.jsx($u,{}),a.jsxs(D,{variant:"ghost",size:"sm",onClick:n,className:"absolute top-4 left-4 text-white hover:bg-white/10 z-10",children:[a.jsx(al,{className:"w-4 h-4 mr-2"}),""]}),a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-sm relative z-10",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Paranoia"}),a.jsx("p",{className:"text-white/70",children:" / "})]}),a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(uZ,{})}),a.jsxs("div",{className:"bg-black/40 backdrop-blur-md rounded-2xl p-6 border border-white/10",children:[i==="select"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs(D,{onClick:()=>o("create"),className:"w-full bg-gradient-to-r from-red-600 to-pink-600 hover:from-red-500 hover:to-pink-500 py-6 text-lg",children:[a.jsx(Vn,{className:"w-5 h-5 mr-2"}),""]}),a.jsx(D,{onClick:()=>o("join"),variant:"outline",className:"w-full border-white/30 text-white hover:bg-white/10 py-6 text-lg",children:""})]}),i==="create"&&!h&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-white/80 text-sm mb-2 block",children:""}),a.jsx(me,{value:l,onChange:v=>c(v.target.value),placeholder:"...",className:"bg-white/10 border-white/20 text-white"})]}),a.jsx(D,{onClick:g,disabled:r||!l.trim(),className:"w-full bg-gradient-to-r from-red-600 to-pink-600",children:r?"...":""}),a.jsx(D,{variant:"ghost",onClick:()=>o("select"),className:"w-full text-white/60",children:""})]}),i==="create"&&h&&a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("p",{className:"text-white/80",children:":"}),a.jsx("div",{onClick:x,className:"bg-white/10 rounded-xl p-4 cursor-pointer hover:bg-white/20 transition-colors",children:a.jsx("p",{className:"text-4xl font-mono font-bold text-white tracking-wider",children:h})}),a.jsx(D,{onClick:x,variant:"outline",className:"border-white/30 text-white",children:m?a.jsxs(a.Fragment,{children:[a.jsx(io,{className:"w-4 h-4 mr-2"})," !"]}):a.jsxs(a.Fragment,{children:[a.jsx(yo,{className:"w-4 h-4 mr-2"})," "]})}),a.jsx("p",{className:"text-white/60 text-sm",children:""})]}),i==="join"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-white/80 text-sm mb-2 block",children:""}),a.jsx(me,{value:l,onChange:v=>c(v.target.value),placeholder:"...",className:"bg-white/10 border-white/20 text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-white/80 text-sm mb-2 block",children:""}),a.jsx(me,{value:u,onChange:v=>d(v.target.value.toUpperCase()),placeholder:"XXXXXX",className:"bg-white/10 border-white/20 text-white text-center font-mono tracking-wider",maxLength:6})]}),a.jsx(D,{onClick:y,disabled:r||!l.trim()||!u.trim(),className:"w-full bg-gradient-to-r from-red-600 to-pink-600",children:r?"...":""}),a.jsx(D,{variant:"ghost",onClick:()=>o("select"),className:"w-full text-white/60",children:""})]})]})]})]})}function hZ({gameState:t,myId:e,players:n,onSelectVictim:r,onRevealQuestion:s,onSkipQuestion:i,onNextRound:o}){const l=e===t.asker_id,c=e===t.victim_id,u=d=>{var h;return((h=n.find(f=>f.id===d))==null?void 0:h.name)||"Unknown"};return t.phase==="ASKING"&&l?a.jsxs(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-gradient-to-br from-red-900 to-red-800 p-6 text-white text-center rounded-2xl shadow-2xl border border-red-700",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h2",{className:"text-xl font-bold mb-4",children:"! ()"}),a.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-black/40 p-4 rounded-xl mb-6 border border-red-500/50",children:a.jsxs("p",{className:"text-lg italic",children:['"',t.question,'"']})}),a.jsx("p",{className:"text-sm opacity-80 mb-4",children:":"}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:n.filter(d=>d.id!==e).map((d,h)=>a.jsx(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*h},children:a.jsx(D,{onClick:()=>r(d.id),className:"w-full bg-red-700 hover:bg-red-600 text-white py-4",children:d.name})},d.id))})]}):t.phase==="ASKING"?a.jsxs(te.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center p-10",children:[a.jsx(te.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:2},className:"text-6xl mb-6",children:""}),a.jsxs("p",{className:"text-xl text-white",children:[a.jsx("span",{className:"font-bold text-yellow-400",children:u(t.asker_id)})," ","..."]}),a.jsx("p",{className:"text-sm text-white/60 mt-2",children:"..."})]}):t.phase==="REVEALING"?a.jsxs(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center p-6 bg-gradient-to-br from-slate-800 to-slate-900 text-white rounded-2xl border border-slate-700",children:[a.jsxs("h2",{className:"text-lg mb-2",children:[a.jsx("span",{className:"text-red-400 font-bold",children:u(t.asker_id)})," ","..."]}),a.jsxs(te.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",bounce:.5,delay:.3},className:"text-4xl font-bold text-yellow-400 my-4",children:[" ",u(t.victim_id)]}),a.jsx(Ip,{mode:"wait",children:t.is_revealed?a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-6 bg-white text-black p-6 rounded-xl",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"..."}),a.jsxs(te.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-xl font-bold",children:['"',t.question,'"']}),a.jsx(D,{onClick:o,className:"mt-6 bg-blue-600 hover:bg-blue-500",children:" "})]},"revealed"):a.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"mt-6 space-y-4",children:c?a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-lg",children:["?"," ",a.jsx("span",{className:"text-2xl",children:""})]}),a.jsx(D,{onClick:s,className:"w-full bg-pink-600 hover:bg-pink-500 py-6 text-xl font-bold",children:" "}),a.jsx(D,{onClick:i,variant:"ghost",className:"w-full text-white/60 hover:text-white",children:" "})]}):a.jsxs("p",{className:"text-white/70",children:[""," ",a.jsx("span",{className:"text-yellow-400",children:u(t.victim_id)})," ","..."]})},"unrevealed")})]}):a.jsx("div",{className:"text-white text-center",children:"Loading..."})}function fZ({room:t,players:e,currentPlayerId:n,isHost:r,totalQuestions:s,onStartGame:i,onStartRound:o,onSelectVictim:l,onRevealQuestion:c,onSkipQuestion:u,onLeave:d}){var w;const h=t.game_state,f=((w=h==null?void 0:h.used_question_ids)==null?void 0:w.length)||0,m=s-f;return a.jsxs("div",{className:"min-h-screen min-h-[100dvh] flex flex-col p-4 relative",children:[a.jsx($u,{}),a.jsxs("div",{className:"flex justify-between items-center mb-4 relative z-10",children:[a.jsxs(D,{variant:"ghost",size:"sm",onClick:d,className:"text-white hover:bg-white/10",children:[a.jsx(al,{className:"w-4 h-4 mr-2"}),""]}),a.jsxs("div",{className:"text-white text-center",children:[a.jsx("p",{className:"text-sm opacity-70",children:""}),a.jsx("p",{className:"font-mono font-bold",children:t.code}),t.game_started&&s>0&&a.jsxs("div",{className:"mt-1 text-xs opacity-80 flex items-center gap-1 justify-center",children:[a.jsx("span",{children:""}),a.jsxs("span",{children:[m>0?m:s," /"," ",s," "]}),m===0&&a.jsx("span",{className:"text-yellow-300",children:""})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Mo,{currentRoomCode:t.code,currentGameType:"paranoia",currentGameName:"Paranoia"}),a.jsxs("div",{className:"flex items-center gap-1 text-white",children:[a.jsx(Vn,{className:"w-4 h-4"}),a.jsx("span",{children:e.length})]})]})]}),a.jsx("div",{className:"flex-1 flex flex-col items-center justify-center relative z-10",children:t.game_started?h?a.jsx("div",{className:"w-full max-w-sm",children:a.jsx(hZ,{gameState:h,myId:n||"",players:e,onSelectVictim:l,onRevealQuestion:c,onSkipQuestion:u,onNextRound:o})}):a.jsxs("div",{className:"text-white text-center",children:[a.jsx("div",{className:"text-4xl mb-4 animate-pulse",children:""}),a.jsx("p",{children:"..."})]}):a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-sm relative z-20",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"text-5xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Paranoia"}),a.jsx("p",{className:"text-white/70",children:"..."})]}),a.jsxs("div",{className:"bg-black/40 backdrop-blur-md rounded-xl p-4 mb-6 border border-white/10",children:[a.jsx("p",{className:"text-white/70 text-sm mb-3",children:":"}),a.jsx("div",{className:"space-y-2",children:e.map((g,y)=>a.jsxs(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:y*.1},className:"flex items-center gap-2 text-white",children:[a.jsx("span",{className:"text-lg",children:g.is_host?"":""}),a.jsx("span",{children:g.name}),g.id===n&&a.jsx("span",{className:"text-xs text-yellow-400",children:"()"})]},g.id))})]}),r&&e.length>=3&&a.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.3},children:a.jsxs(D,{onClick:i,className:"w-full bg-gradient-to-r from-red-600 to-pink-600 hover:from-red-500 hover:to-pink-500 py-6 text-lg relative z-30",children:[a.jsx(yu,{className:"w-5 h-5 mr-2"}),""]})}),r&&e.length<3&&a.jsx("p",{className:"text-center text-white/60 text-sm",children:" 3 "}),!r&&a.jsx("p",{className:"text-center text-white/60 text-sm",children:" Host ..."})]})})]})}var mb="Radio",[pZ,bM]=cn(mb),[mZ,gZ]=pZ(mb),_M=p.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...d}=t,[h,f]=p.useState(null),m=ge(e,y=>f(y)),w=p.useRef(!1),g=h?u||!!h.closest("form"):!0;return a.jsxs(mZ,{scope:n,checked:s,disabled:o,children:[a.jsx(ne.button,{type:"button",role:"radio","aria-checked":s,"data-state":EM(s),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:m,onClick:ee(t.onClick,y=>{s||c==null||c(),g&&(w.current=y.isPropagationStopped(),w.current||y.stopPropagation())})}),g&&a.jsx(SM,{control:h,bubbles:!w.current,name:r,value:l,checked:s,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});_M.displayName=mb;var CM="RadioIndicator",NM=p.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=gZ(CM,n);return a.jsx(Nn,{present:r||i.checked,children:a.jsx(ne.span,{"data-state":EM(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});NM.displayName=CM;var vZ="RadioBubbleInput",SM=p.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=p.useRef(null),l=ge(o,i),c=hb(n),u=h0(e);return p.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&m){const w=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(w)}},[c,n,r]),a.jsx(ne.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});SM.displayName=vZ;function EM(t){return t?"checked":"unchecked"}var yZ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],em="RadioGroup",[xZ,eee]=cn(em,[Hp,bM]),kM=Hp(),TM=bM(),[wZ,bZ]=xZ(em),jM=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:h,...f}=t,m=kM(n),w=Cl(u),[g,y]=cr({prop:i,defaultProp:s??null,onChange:h,caller:em});return a.jsx(wZ,{scope:n,name:r,required:o,disabled:l,value:g,onValueChange:y,children:a.jsx(WA,{asChild:!0,...m,orientation:c,dir:w,loop:d,children:a.jsx(ne.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:w,...f,ref:e})})})});jM.displayName=em;var RM="RadioGroupItem",IM=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=bZ(RM,n),o=i.disabled||r,l=kM(n),c=TM(n),u=p.useRef(null),d=ge(e,u),h=i.value===s.value,f=p.useRef(!1);return p.useEffect(()=>{const m=g=>{yZ.includes(g.key)&&(f.current=!0)},w=()=>f.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",w)}},[]),a.jsx(HA,{asChild:!0,...l,focusable:!o,active:h,children:a.jsx(_M,{disabled:o,required:i.required,checked:h,...c,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:ee(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:ee(s.onFocus,()=>{var m;f.current&&((m=u.current)==null||m.click())})})})});IM.displayName=RM;var _Z="RadioGroupIndicator",PM=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=TM(n);return a.jsx(NM,{...s,...r,ref:e})});PM.displayName=_Z;var AM=jM,DM=IM,CZ=PM;const MM=p.forwardRef(({className:t,...e},n)=>a.jsx(AM,{className:L("grid gap-2",t),...e,ref:n}));MM.displayName=AM.displayName;const OM=p.forwardRef(({className:t,...e},n)=>a.jsx(DM,{ref:n,className:L("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:a.jsx(CZ,{className:"flex items-center justify-center",children:a.jsx(v5,{className:"h-2.5 w-2.5 fill-current text-current"})})}));OM.displayName=DM.displayName;function NZ({onCreateRoom:t,onJoinRoom:e,onBack:n,isLoading:r}){const{displayName:s}=zr(),[i,o]=p.useState("select"),[l,c]=p.useState(""),[u,d]=p.useState(""),[h,f]=p.useState(null),[m,w]=p.useState(!1),[g,y]=p.useState(5);p.useEffect(()=>{s&&!l&&c(s)},[s]);const x=async()=>{if(!l.trim())return;const N=await t(l.trim(),g);N&&f(N)},v=async()=>{!l.trim()||!u.trim()||await e(u.trim(),l.trim())},b=()=>{h&&(navigator.clipboard.writeText(h),w(!0),setTimeout(()=>w(!1),2e3))};return a.jsxs("div",{className:"min-h-screen min-h-[100dvh] flex flex-col items-center justify-center p-4 relative",children:[a.jsx($u,{}),a.jsxs(D,{variant:"ghost",size:"sm",onClick:n,className:"absolute top-4 left-4 text-white hover:bg-white/10 z-10",children:[a.jsx(al,{className:"w-4 h-4 mr-2"}),""]}),a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-sm relative z-10",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"5 Second Rule"}),a.jsx("p",{className:"text-white/70",children:" 3 ...  5 !"})]}),a.jsxs("div",{className:"bg-black/40 backdrop-blur-md rounded-2xl p-6 border border-white/10",children:[i==="select"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs(D,{onClick:()=>o("create"),className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 py-6 text-lg",children:[a.jsx(Vn,{className:"w-5 h-5 mr-2"}),""]}),a.jsx(D,{onClick:()=>o("join"),variant:"outline",className:"w-full border-white/30 text-white hover:bg-white/10 py-6 text-lg",children:""})]}),i==="create"&&!h&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-white/80 text-sm mb-2 block",children:""}),a.jsx(me,{value:l,onChange:N=>c(N.target.value),placeholder:"...",className:"bg-white/10 border-white/20 text-white"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-white/80 text-sm mb-3 block flex items-center gap-2",children:[a.jsx(y5,{className:"w-4 h-4"}),""]}),a.jsx(MM,{value:g.toString(),onValueChange:N=>y(Number(N)),children:a.jsx("div",{className:"grid grid-cols-2 gap-2",children:[5,10,15,20].map(N=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(OM,{value:N.toString(),id:`time-${N}`,className:"border-white/40"}),a.jsxs(Lt,{htmlFor:`time-${N}`,className:"text-white cursor-pointer",children:[N," "]})]},N))})})]}),a.jsx(D,{onClick:x,disabled:r||!l.trim(),className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600",children:r?"...":""}),a.jsx(D,{variant:"ghost",onClick:()=>o("select"),className:"w-full text-white/60",children:""})]}),i==="create"&&h&&a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("p",{className:"text-white/80",children:":"}),a.jsx("div",{onClick:b,className:"bg-white/10 rounded-xl p-4 cursor-pointer hover:bg-white/20 transition-colors",children:a.jsx("p",{className:"text-4xl font-mono font-bold text-white tracking-wider",children:h})}),a.jsx(D,{onClick:b,variant:"outline",className:"border-white/30 text-white",children:m?a.jsxs(a.Fragment,{children:[a.jsx(io,{className:"w-4 h-4 mr-2"})," !"]}):a.jsxs(a.Fragment,{children:[a.jsx(yo,{className:"w-4 h-4 mr-2"})," "]})}),a.jsx("p",{className:"text-white/60 text-sm",children:""})]}),i==="join"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-white/80 text-sm mb-2 block",children:""}),a.jsx(me,{value:l,onChange:N=>c(N.target.value),placeholder:"...",className:"bg-white/10 border-white/20 text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-white/80 text-sm mb-2 block",children:""}),a.jsx(me,{value:u,onChange:N=>d(N.target.value.toUpperCase()),placeholder:"XXXXXX",className:"bg-white/10 border-white/20 text-white text-center font-mono tracking-wider",maxLength:6})]}),a.jsx(D,{onClick:v,disabled:r||!l.trim()||!u.trim(),className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600",children:r?"...":""}),a.jsx(D,{variant:"ghost",onClick:()=>o("select"),className:"w-full text-white/60",children:""})]})]})]})]})}function SZ({gameState:t,myId:e,players:n,onFinishAnswering:r,onVote:s,onNextRound:i}){const o=t.timeLimit||5,[l,c]=p.useState(o),[u,d]=p.useState(!1),[h,f]=p.useState(!1),m=n.find(_=>_.id===t.player_id),w=e===t.player_id,g=Object.keys(t.votes||{}).includes(e),y=Object.values(t.votes||{}).length,x=Object.values(t.votes||{}).filter(Boolean).length,v=y-x,b=n.filter(_=>_.id!==t.player_id).length;p.useEffect(()=>{if(t.phase!=="PLAYING")return;const _=setInterval(()=>{const C=Date.now(),E=(new Date(t.end_time).getTime()-C)/1e3;E<=0?(c(0),d(!0),clearInterval(_)):c(E)},100);return()=>clearInterval(_)},[t.end_time,t.phase]),p.useEffect(()=>{t.phase==="PLAYING"&&(d(!1),c(t.timeLimit||5),f(!1))},[t.player_id,t.phase,t.timeLimit]),p.useEffect(()=>{console.log("FiveSecGame state:",{phase:t.phase,player_id:t.player_id,isMe:w,hasVoted:g,voteCount:y,totalVoters:b})},[t.phase,t.player_id,w,g,y,b]);const N=()=>w?l<=1?"from-red-600 to-red-800":l<=2?"from-orange-500 to-red-600":l<=3?"from-yellow-500 to-orange-500":"from-orange-500 to-yellow-600":l<=1?"from-red-600 to-pink-800":l<=2?"from-purple-500 to-red-600":l<=3?"from-indigo-500 to-purple-500":"from-blue-500 to-indigo-700";return t.phase==="PLAYING"?a.jsxs(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`p-6 text-center rounded-2xl text-white bg-gradient-to-br ${N()} transition-colors duration-300 shadow-2xl`,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("span",{className:"text-sm opacity-80",children:":"}),a.jsx("h2",{className:"text-2xl font-bold",children:m==null?void 0:m.name})]}),a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white text-black p-6 rounded-xl shadow-lg my-6",children:[a.jsx("p",{className:"text-gray-500 mb-2 text-sm",children:" 3 ..."}),a.jsx("h1",{className:"text-xl md:text-2xl font-extrabold",children:t.topic})]}),a.jsx(te.div,{animate:{scale:l<=2?[1,1.05,1]:1},transition:{repeat:l<=2?1/0:0,duration:.5},className:"relative w-32 h-32 mx-auto flex items-center justify-center border-4 border-white rounded-full bg-black/30",children:a.jsx("span",{className:"text-5xl font-mono font-bold",children:l>0?l.toFixed(1):""})}),w&&a.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:a.jsx(D,{onClick:r,className:"mt-6 w-full bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-4 text-xl shadow-lg",children:l>0?" !":" "})}),!w&&a.jsxs("p",{className:"mt-4 text-sm opacity-80",children:[" ",m==null?void 0:m.name," ",l>0?"":"","..."]})]}):t.phase==="JUDGING"?a.jsxs(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"p-6 text-center rounded-2xl bg-gradient-to-br from-purple-800 to-indigo-900 text-white shadow-2xl",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h2",{className:"text-xl font-bold mb-2",children:"!"}),a.jsxs("p",{className:"text-lg mb-4",children:[a.jsx("span",{className:"text-yellow-400 font-bold",children:m==null?void 0:m.name})," ",""]}),a.jsxs("div",{className:"bg-white/10 p-4 rounded-xl mb-6",children:[a.jsx("p",{className:"text-sm opacity-80",children:":"}),a.jsx("p",{className:"text-lg font-bold",children:t.topic})]}),a.jsx(Ip,{mode:"wait",children:!w&&!g&&a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsx(D,{onClick:()=>s(!0),className:"bg-green-600 hover:bg-green-500 py-6 text-xl font-bold",children:" "}),a.jsx(D,{onClick:()=>s(!1),className:"bg-red-600 hover:bg-red-500 py-6 text-xl font-bold",children:" "})]})}),g&&!w&&a.jsx("p",{className:"text-green-400 mb-4",children:" "}),w&&a.jsx("p",{className:"text-yellow-400 mb-4",children:"..."}),a.jsxs("div",{className:"bg-black/30 rounded-xl p-4 mb-6",children:[a.jsxs("p",{className:"text-sm opacity-80 mb-2",children:[": ",y,"/",b]}),a.jsxs("div",{className:"flex justify-center gap-4",children:[a.jsxs("span",{className:"text-green-400 text-lg",children:[" ",x]}),a.jsxs("span",{className:"text-red-400 text-lg",children:[" ",v]})]})]}),y>=b&&a.jsxs(te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[a.jsx("div",{className:"text-2xl font-bold mb-4",children:x>v?a.jsx("span",{className:"text-green-400",children:" !"}):a.jsx("span",{className:"text-red-400",children:" !"})}),a.jsx(D,{onClick:i,className:"bg-blue-600 hover:bg-blue-500 px-8",children:" "})]})]}):a.jsx("div",{className:"text-white text-center",children:"Loading..."})}function EZ({room:t,players:e,currentPlayerId:n,isHost:r,onStartGame:s,onStartRound:i,onFinishAnswering:o,onVote:l,onLeave:c}){const u=t.game_state;return a.jsxs("div",{className:"min-h-screen min-h-[100dvh] flex flex-col p-4 relative",children:[a.jsx($u,{}),a.jsxs("div",{className:"flex justify-between items-center mb-4 relative z-10",children:[a.jsxs(D,{variant:"ghost",size:"sm",onClick:c,className:"text-white hover:bg-white/10",children:[a.jsx(al,{className:"w-4 h-4 mr-2"}),""]}),a.jsxs("div",{className:"text-white text-center",children:[a.jsx("p",{className:"text-sm opacity-70",children:""}),a.jsx("p",{className:"font-mono font-bold",children:t.code})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Mo,{currentRoomCode:t.code,currentGameType:"5-sec",currentGameName:"5 Second Rule"}),a.jsxs("div",{className:"flex items-center gap-1 text-white",children:[a.jsx(Vn,{className:"w-4 h-4"}),a.jsx("span",{children:e.length})]})]})]}),a.jsx("div",{className:"flex-1 flex flex-col items-center justify-center relative z-10",children:t.game_started?u?a.jsx("div",{className:"w-full max-w-sm",children:a.jsx(SZ,{gameState:u,myId:n||"",players:e,onFinishAnswering:o,onVote:l,onNextRound:i})}):a.jsxs("div",{className:"text-white text-center",children:[a.jsx("div",{className:"text-4xl mb-4 animate-pulse",children:""}),a.jsx("p",{children:"..."})]}):a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-sm",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"text-5xl mb-4",children:""}),a.jsx("h2",{className:"text-2xl font-bold text-white",children:"5 Second Rule"}),a.jsx("p",{className:"text-white/70",children:"..."}),(u==null?void 0:u.timeLimit)&&a.jsxs("p",{className:"text-yellow-400 text-sm mt-2",children:[" : ",u.timeLimit," "]})]}),a.jsxs("div",{className:"bg-black/40 backdrop-blur-md rounded-xl p-4 mb-6 border border-white/10",children:[a.jsx("p",{className:"text-white/70 text-sm mb-3",children:":"}),a.jsx("div",{className:"space-y-2",children:e.map((d,h)=>a.jsxs(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:h*.1},className:"flex items-center gap-2 text-white",children:[a.jsx("span",{className:"text-lg",children:d.is_host?"":""}),a.jsx("span",{children:d.name}),d.id===n&&a.jsx("span",{className:"text-xs text-yellow-400",children:"()"})]},d.id))})]}),r&&e.length>=2&&a.jsxs(D,{onClick:s,className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 py-6 text-lg",children:[a.jsx(yu,{className:"w-5 h-5 mr-2"}),""]}),r&&e.length<2&&a.jsx("p",{className:"text-center text-white/60 text-sm",children:" 2 "}),!r&&a.jsx("p",{className:"text-center text-white/60 text-sm",children:" Host ..."})]})})]})}function kZ(){const[t,e]=p.useState(Rf());p.useEffect(()=>{e(Rf())},[]);const n=()=>{const r=t==="th"?"en":"th";yX(r),e(r),window.location.reload()};return a.jsxs(D,{variant:"outline",size:"sm",onClick:n,className:"bg-black/40 backdrop-blur-md border-white/20 text-white hover:bg-black/60",children:[a.jsx(w5,{className:"w-4 h-4 mr-2"}),t==="th"?"TH":"EN"]})}function TZ(){const[t,e]=p.useState(rl()),[n,r]=p.useState(!1),[s,i]=p.useState(Df()),[o,l]=p.useState(""),[c,u]=p.useState(!1),d=Rf();p.useEffect(()=>{const m=y=>{e(y.detail)},w=y=>{const{weather:x,description:v,isDay:b,theme:N}=y.detail;l(`${x} (${v}) - ${b?"Day":"Night"}  ${N}`),u(!1)},g=y=>{l(`Error: ${y.detail.error}`),u(!1)};return window.addEventListener("themechange",m),window.addEventListener("weatherupdated",w),window.addEventListener("weathererror",g),()=>{window.removeEventListener("themechange",m),window.removeEventListener("weatherupdated",w),window.removeEventListener("weathererror",g)}},[]);const h=m=>{_c(m),e(ho.find(w=>w.id===m)||ho[0])},f=async()=>{const m=!s;i(m),aZ(m),m?(u(!0),l("..."),await Mf(),e(rl())):(l(""),u(!1))};return a.jsxs(Wr,{open:n,onOpenChange:r,children:[a.jsx(Ri,{asChild:!0,children:a.jsx(D,{variant:"outline",size:"icon",className:"bg-white/10 backdrop-blur-sm border-white/20 hover:bg-white/20 transition-all duration-200 hover:scale-110",title:B("themeChange"),children:a.jsx(_5,{className:"h-5 w-5"})})}),a.jsxs(fr,{className:"sm:max-w-[600px] bg-black/90 backdrop-blur-xl border-white/20",children:[a.jsxs(pr,{children:[a.jsx(mr,{className:"text-2xl font-bold text-white",children:B("themeSelectTheme")}),a.jsx(Hr,{className:"sr-only",children:""})]}),a.jsx("div",{className:"mt-4 p-4 rounded-lg bg-gradient-to-r from-blue-500/20 to-cyan-500/20 border border-blue-400/30",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(x5,{className:"h-6 w-6 text-cyan-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-semibold",children:d==="th"?"":"Weather Mode"}),a.jsx("p",{className:"text-xs text-white/60",children:d==="th"?"":"Auto-change theme based on real weather"}),o&&a.jsxs("p",{className:"text-xs text-cyan-300 mt-1 font-mono",children:[c?" ":o.includes("Error")?" ":" ",o]})]})]}),a.jsx("button",{onClick:f,disabled:c,className:`
                relative w-14 h-7 rounded-full transition-all duration-300
                ${s?"bg-cyan-500":"bg-gray-600"}
                ${c?"opacity-50 cursor-not-allowed":""}
              `,children:a.jsx("div",{className:`
                  absolute top-1 left-1 w-5 h-5 bg-white rounded-full transition-transform duration-300
                  ${s?"translate-x-7":"translate-x-0"}
                `})})]})}),a.jsx("div",{className:"grid grid-cols-2 gap-4 mt-4",children:ho.map(m=>a.jsx("button",{onClick:()=>{h(m.id),r(!1)},className:`
                relative p-4 rounded-lg border-2 transition-all duration-300 hover:scale-105
                ${t.id===m.id?"border-white shadow-xl scale-105":"border-white/20 hover:border-white/40"}
              `,style:{background:m.gradient},children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white/50",style:{backgroundColor:m.colors.primary}}),a.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white/50",style:{backgroundColor:m.colors.secondary}}),a.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white/50",style:{backgroundColor:m.colors.accent}})]}),a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"font-bold text-white text-lg",children:d==="th"?m.name:m.nameEn})}),t.id===m.id&&a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx("div",{className:"w-6 h-6 rounded-full bg-white flex items-center justify-center",children:a.jsx("span",{className:"text-black text-sm",children:""})})})]})},m.id))})]})]})}function jZ({onNavigate:t,currentSection:e="home"}){const{userId:n,displayName:r,logout:s}=zr(),[i,o]=p.useState(!1),[l,c]=p.useState(!1),[u,d]=p.useState(!1),[h,f]=p.useState("home"),m=[{id:"games",icon:kv,label:"Games"},{id:"profile",icon:vT,label:"Profile"},{id:"friends",icon:Vn,label:"Friends"},{id:"settings",icon:wu,label:"Settings"}],w=g=>{if(f(g),g==="friends")o(!0);else if(g==="home")window.scrollTo({top:0,behavior:"smooth"});else if(g==="games"){const y=document.getElementById("games-section");y==null||y.scrollIntoView({behavior:"smooth"})}else g==="profile"?c(!0):g==="settings"?d(!0):t==null||t(g)};return a.jsxs(a.Fragment,{children:[a.jsxs(te.div,{initial:{x:-100,opacity:0},animate:{x:0,opacity:1},className:"fixed left-0 top-0 h-screen w-20 bg-black/40 backdrop-blur-xl border-r border-white/10 flex flex-col items-center py-6 z-40",children:[a.jsx(te.div,{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center mb-8 shadow-lg shadow-cyan-500/50 cursor-pointer",whileHover:{scale:1.1,rotate:5},whileTap:{scale:.95},onClick:()=>{f("home"),window.scrollTo({top:0,behavior:"smooth"})},title:"Home",children:a.jsx(za,{className:"w-6 h-6 text-white"})}),a.jsx("div",{className:"flex-1 flex flex-col gap-4",children:m.map(g=>{const y=g.icon,x=h===g.id;return a.jsxs(te.button,{onClick:()=>w(g.id),className:`relative w-12 h-12 rounded-xl flex items-center justify-center transition-all ${x?"bg-gradient-to-br from-cyan-500 to-blue-600 shadow-lg shadow-cyan-500/50":"bg-white/5 hover:bg-white/10"}`,whileHover:{scale:1.1},whileTap:{scale:.95},title:g.label,children:[a.jsx(y,{className:`w-5 h-5 ${x?"text-white":"text-white/60"}`}),x&&a.jsx(te.div,{layoutId:"activeIndicator",className:"absolute -right-1 w-1 h-8 bg-cyan-400 rounded-full"})]},g.id)})}),a.jsx("div",{className:"flex flex-col gap-4 mt-auto",children:n?a.jsxs(a.Fragment,{children:[a.jsx(te.button,{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center font-bold text-white shadow-lg",whileHover:{scale:1.1},whileTap:{scale:.95},title:r||"User",children:(r==null?void 0:r.charAt(0).toUpperCase())||"?"}),a.jsx(te.button,{onClick:s,className:"w-12 h-12 rounded-xl bg-white/5 hover:bg-red-500/20 flex items-center justify-center transition-all",whileHover:{scale:1.1},whileTap:{scale:.95},title:"Logout",children:a.jsx(vu,{className:"w-5 h-5 text-red-400"})})]}):a.jsx("div",{className:"w-12",children:a.jsx(Mo,{})})})]}),i&&a.jsx(MA,{onClose:()=>o(!1)}),l&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:()=>c(!1),children:a.jsxs(te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:g=>g.stopPropagation(),className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-2xl p-8 max-w-md w-full border border-white/10",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-white",children:""}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center font-bold text-white text-3xl",children:(r==null?void 0:r.charAt(0).toUpperCase())||"?"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium text-lg",children:r||"Guest"}),a.jsx("p",{className:"text-zinc-400 text-sm",children:n?"Logged In":"Guest User"})]})]}),a.jsx("button",{onClick:()=>c(!1),className:"w-full py-2 px-4 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-all",children:""})]})]})}),u&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:()=>d(!1),children:a.jsxs(te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:g=>g.stopPropagation(),className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-2xl p-8 max-w-md w-full border border-white/10",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-white",children:""}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[a.jsx("span",{className:"text-white",children:""}),a.jsx("span",{className:"text-zinc-400",children:"Auto"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[a.jsx("span",{className:"text-white",children:""}),a.jsx("span",{className:"text-zinc-400",children:""})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg",children:[a.jsx("span",{className:"text-white",children:""}),a.jsx("span",{className:"text-zinc-400",children:""})]}),a.jsx("button",{onClick:()=>d(!1),className:"w-full py-2 px-4 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-all",children:""})]})]})})]})}function RZ({title:t,description:e,coverUrl:n,iconUrl:r,emoji:s,gradient:i="from-cyan-500 to-blue-600"}){const[o,l]=p.useState(rl());return p.useEffect(()=>{const c=u=>{l(u.detail)};return window.addEventListener("themechange",c),()=>{window.removeEventListener("themechange",c)}},[]),a.jsxs("div",{className:"relative h-screen w-full overflow-hidden",children:[a.jsx(te.div,{className:"absolute inset-0 bg-cover bg-center",style:n?{backgroundImage:`url(${n})`,filter:"brightness(0.6)"}:void 0,initial:{scale:1.1},animate:{scale:1},transition:{duration:20,repeat:1/0,repeatType:"reverse"}}),!n&&a.jsx("div",{className:"absolute inset-0 opacity-70",style:{background:o.gradient}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-black/50 to-black"}),a.jsxs("div",{className:"relative z-10 h-full flex flex-col items-center justify-center px-8",children:[a.jsxs(te.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.2},className:"flex items-center gap-4 mb-8",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center text-4xl shadow-lg shadow-black/30",style:{background:o.gradient},children:r?a.jsx("img",{src:r,alt:t,className:"w-full h-full object-cover rounded-2xl"}):s||a.jsx(za,{className:"w-10 h-10 text-white"})}),a.jsx("h1",{className:"text-7xl font-bold drop-shadow-[0_0_30px_rgba(255,255,255,0.5)]",style:{color:o.colors.text},children:t})]}),a.jsxs(te.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.4},className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl font-bold mb-4",style:{background:o.gradient,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"ULTIMATE PARTY EXPERIENCE"}),a.jsx("p",{className:"text-xl max-w-2xl",style:{color:o.colors.textSecondary},children:e})]}),a.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.6},className:"flex gap-8 flex-wrap justify-center",children:[].map((c,u)=>a.jsxs(te.div,{className:"flex items-center gap-3 px-6 py-3 bg-white/10 backdrop-blur-md rounded-full border border-white/20",whileHover:{scale:1.05,backgroundColor:"rgba(255,255,255,0.15)"},children:[a.jsx("span",{className:"text-2xl",children:c.icon}),a.jsx("span",{className:"text-white font-medium",children:c.text})]},u))}),a.jsxs(te.button,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.8},className:"mt-12 px-12 py-4 rounded-full font-bold text-lg shadow-lg transition-all flex items-center gap-3",style:{background:o.gradient,color:o.colors.text,boxShadow:`0 10px 40px ${o.colors.primary}50`},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{var c;(c=document.getElementById("games-section"))==null||c.scrollIntoView({behavior:"smooth"})},children:[a.jsx(kr,{className:"w-6 h-6"}),"Start Playing"]}),a.jsx(te.div,{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",animate:{y:[0,10,0]},transition:{duration:1.5,repeat:1/0},children:a.jsx("div",{className:"w-6 h-10 border-2 rounded-full flex justify-center pt-2",style:{borderColor:`${o.colors.text}30`},children:a.jsx(te.div,{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:o.colors.text},animate:{y:[0,12,0]},transition:{duration:1.5,repeat:1/0}})})})]})]})}const IZ=()=>{var _b,Cb,Nb;const{user:t,displayName:e}=zr(),[n,r]=p.useState("select"),[s,i]=p.useState([]),[o,l]=p.useState(!1),[c,u]=p.useState(!0),{sessionData:d,hasSession:h,saveSession:f,clearSession:m}=AY(),[w,g]=p.useState(!1),[y,x]=p.useState({}),[v,b]=p.useState({}),[N,_]=p.useState({}),[C,S]=p.useState(!1),E=!!t&&e==="bonne",k=E,{room:T,players:R,currentPlayerId:I,isLoading:F,createRoom:P,joinRoom:$,startGame:V,drawCard:z,reshuffleDeck:A,leaveRoom:M,quickStart:j}=mY(),{room:W,players:K,currentPlayerId:re,isLoading:ae,createRoom:Te,joinRoom:Re,startGame:Q,drawCard:_e,standCard:Ae,dealerDraw:be,dealerStand:G,showdown:fe,nextRound:Ue,leaveRoom:It,quickStart:qr,setDealer:vr}=xY(),{room:Sn,players:Ss,currentPlayerId:Kr,isLoading:Uu,categories:Di,createRoom:Sl,joinRoom:Bn,startGame:tm,startDescribePhase:gb,nextTurn:hn,startVoting:Mi,votePlayer:vb,checkResultAndContinue:yb,restartGame:Oo,leaveRoom:Bu}=RY(),{room:Oi,players:Lo,currentPlayerId:Yr,isLoading:zu,questions:Es,createRoom:Wu,joinRoom:El,startGame:Hu,startRound:Gu,selectVictim:nm,revealQuestion:kl,skipQuestion:yr,leaveRoom:qu}=IY(),{room:ie,players:Ee,currentPlayerId:De,isLoading:fn,createRoom:Jt,joinRoom:En,startGame:Qr,startRound:pn,finishAnswering:xr,vote:LM,leaveRoom:xb}=PY(),rm=R.find(X=>X.id===I),FM=(rm==null?void 0:rm.is_host)??!1,sm=K.find(X=>X.id===re),VM=(sm==null?void 0:sm.is_host)??!1,[Ut,im]=p.useState(0),Xr=T?{code:T.code,type:"kingscup",name:B("kingsCup")}:W?{code:W.code,type:"pokdeng",name:B("pokDeng")}:Sn?{code:Sn.code,type:"undercover",name:B("undercoverTitle")}:Oi?{code:Oi.code,type:"paranoia",name:"Paranoia"}:ie?{code:ie.code,type:"5-sec",name:"5 Second Rule"}:null,nt=(()=>{const J=[{id:"kingscup",emoji:"",name:B("kingsCup"),desc:B("kingsCupDesc"),gradient:"from-red-500 to-orange-500",bgColor:"#ef4444"},{id:"pokdeng",emoji:"",name:B("pokDeng"),desc:B("pokDengDesc"),gradient:"from-emerald-500 to-green-600",bgColor:"#10b981"},{id:"undercover",emoji:"",name:B("undercoverTitle"),desc:B("undercoverDesc"),gradient:"from-purple-600 to-indigo-600",bgColor:"#9333ea"},{id:"paranoia",emoji:"",name:"Paranoia",desc:" - ",gradient:"from-pink-500 to-rose-600",bgColor:"#ec4899"},{id:"5-sec",emoji:"",name:"5 Second Rule",desc:" 5  - ",gradient:"from-yellow-400 to-orange-500",bgColor:"#f59e0b"},{id:"texas-holdem",emoji:"",name:"Texas Hold'em",desc:" - ",gradient:"from-blue-600 to-cyan-600",bgColor:"#2563eb",externalLink:"https://pongporn1.github.io/texas-hold-em-power/#/auth"}].map(ke=>{const bt=N[ke.id],UM=v[ke.id];return{...ke,emoji:(bt==null?void 0:bt.emoji)??ke.emoji,name:(bt==null?void 0:bt.title)||ke.name,gradient:(bt==null?void 0:bt.gradient)||ke.gradient,iconUrl:UM}}),le=new Set;return J.filter(ke=>le.has(ke.id)?(console.warn(` Duplicate game ID detected: ${ke.id}`),!1):(le.add(ke.id),!0))})(),wb=p.useCallback(()=>{im(X=>(X+1)%nt.length)},[nt.length]),bb=p.useCallback(()=>{im(X=>(X-1+nt.length)%nt.length)},[nt.length]);p.useEffect(()=>{(async()=>{if(!h||!d.roomCode||!d.gameType||!d.playerName){u(!1);return}console.log("Attempting session recovery:",d);try{const J=d.gameType,le=d.roomCode,Ge=e||d.playerName,ke=d.playerId;(J==="doraemon"||J==="pokdeng"||J==="undercover"||J==="paranoia"||J==="5-sec")&&r(J);let bt=!1;switch(J){case"kingscup":bt=await $(le,Ge,ke);break;case"pokdeng":bt=await Re(le,Ge,ke);break;case"undercover":bt=await Bn(le,Ge,ke);break;case"paranoia":bt=await El(le,Ge,ke);break;case"5-sec":bt=await En(le,Ge,ke);break}bt?console.log("Session recovery successful!"):(console.log("Session recovery failed, clearing session"),m(),r("select"))}catch(J){console.error("Session recovery error:",J),m(),r("select")}finally{u(!1)}})()},[h]);const Tl=p.useCallback(async(X,J)=>{let le;switch(J){case"kingscup":le=await P(X);break;case"pokdeng":le=await Te(X);break;case"undercover":le=await Sl(X);break;case"paranoia":le=await Wu(X);break;case"5-sec":le=await Jt(X);break}if(le){const Ge=typeof le=="string"?le:le.code||le.code,ke=typeof le=="object"&&le!==null&&"playerId"in le?le.playerId:void 0;f({playerName:X,roomCode:Ge,gameType:J,playerId:ke})}return le},[P,Te,Sl,Wu,Jt,f]),Li=p.useCallback(async(X,J,le)=>{let Ge=null;switch(le){case"kingscup":Ge=await $(X,J);break;case"pokdeng":Ge=await Re(X,J);break;case"undercover":Ge=await Bn(X,J);break;case"paranoia":Ge=await El(X,J);break;case"5-sec":Ge=await En(X,J);break}if(Ge){const ke=typeof Ge=="object"&&Ge!==null&&"playerId"in Ge?Ge.playerId:void 0;f({playerName:J,roomCode:X.toUpperCase(),gameType:le,playerId:ke})}return!!Ge},[$,Re,Bn,El,En,f]),$M=p.useCallback(async(X,J)=>{const le=e||localStorage.getItem("playerName")||`Player_${Math.random().toString(36).slice(2,6)}`,ke={kingscup:"kingscup",doraemon:"kingscup",pokdeng:"pokdeng",undercover:"undercover",paranoia:"paranoia","5-sec":"5-sec"}[J]||"kingscup";r(ke),await Li(X,le,ke)||r("select")},[Li,e]),jl=p.useCallback(X=>{switch(m(),X){case"kingscup":M();break;case"pokdeng":It();break;case"undercover":Bu();break;case"paranoia":qu();break;case"5-sec":xb();break}r("select")},[m,M,It,Bu,qu,xb]);if(p.useEffect(()=>{const X=async()=>{const ke=await Up();i(ke)},J=async()=>{const ke=await By();x(ke)},le=async()=>{const ke=await zy();b(ke)},Ge=async()=>{const ke=await Wy();_(ke)};X(),J(),le(),Ge()},[n,w]),p.useEffect(()=>{const X=t!=null&&t.uid?localStorage.getItem("admin_unlock_code"):null;if(X&&(t!=null&&t.uid)&&X==="1"+t.uid){S(!0);return}E&&(t!=null&&t.uid)&&(localStorage.setItem("admin_unlock_code","1"+t.uid),S(!0))},[t==null?void 0:t.uid,e,E]),p.useEffect(()=>{if(n!=="select")return;const X=J=>{if(J.key==="ArrowRight"&&wb(),J.key==="ArrowLeft"&&bb(),J.key==="Enter"){const le=nt[Ut];r(le.id)}};return window.addEventListener("keydown",X),()=>window.removeEventListener("keydown",X)},[n,Ut,wb,bb,nt]),c)return a.jsxs("div",{className:"min-h-screen min-h-[100dvh] bg-zinc-900 flex flex-col items-center justify-center gap-4",children:[a.jsx(pt,{className:"w-12 h-12 animate-spin text-cyan-400"}),a.jsx("p",{className:"text-white text-xl font-medium",children:"..."}),a.jsx("p",{className:"text-zinc-400 text-sm",children:"Recovering session..."})]});if(n==="select")return a.jsxs("div",{className:"min-h-screen min-h-[100dvh] relative overflow-hidden bg-zinc-900 text-white flex",children:[a.jsx($u,{}),a.jsx(sb,{names:s}),a.jsx(jZ,{}),a.jsxs("div",{className:"flex-1 pl-20",children:[a.jsxs("div",{className:"fixed top-0 left-20 right-0 z-[70] flex items-center justify-between px-6 py-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-red-600 flex items-center justify-center font-bold text-lg shadow-lg",children:""}),a.jsx("span",{className:"text-xl font-bold",children:"King's Cup Party"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Mo,{currentRoomCode:Xr==null?void 0:Xr.code,currentGameType:Xr==null?void 0:Xr.type,currentGameName:Xr==null?void 0:Xr.name,onJoinRoom:$M}),a.jsx(kZ,{}),a.jsx(TZ,{}),a.jsx("span",{className:"text-zinc-400 text-sm",children:new Date().toLocaleTimeString("th-TH",{hour:"2-digit",minute:"2-digit"})})]})]}),a.jsx(RZ,{title:nt[Ut].name,description:nt[Ut].desc,emoji:nt[Ut].emoji,iconUrl:nt[Ut].iconUrl,gradient:nt[Ut].gradient}),a.jsxs("div",{id:"games-section",className:"relative min-h-screen flex flex-col",children:[a.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"absolute inset-0 bg-cover bg-center bg-gradient-to-br from-slate-900 via-slate-800 to-black",style:y[nt[Ut].id]?{backgroundImage:`url(${y[nt[Ut].id]})`}:void 0},`bg-${nt[Ut].id}`),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-transparent to-black/90"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 via-transparent to-transparent"}),a.jsx("div",{className:"relative z-20 px-8 pt-28 pb-8 overflow-visible",children:a.jsx("div",{className:"flex items-center gap-6 overflow-x-auto overflow-y-visible scrollbar-hide py-8 px-4",children:nt.map((X,J)=>{const le=J===Ut;return a.jsxs(te.button,{onClick:()=>im(J),className:"flex-shrink-0 relative",whileHover:{scale:1.08},whileTap:{scale:.95},animate:le?{scale:1.2,y:0}:{scale:1,y:0},transition:{type:"spring",stiffness:300,damping:25},children:[a.jsx("div",{className:`w-28 h-28 rounded-2xl overflow-hidden transition-all duration-300 ${le?"ring-4 ring-white shadow-[0_0_30px_rgba(255,255,255,0.6)] brightness-110":"ring-2 ring-white/20 opacity-60 hover:opacity-90"}`,children:X.iconUrl?a.jsx("img",{src:X.iconUrl,alt:X.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:`w-full h-full bg-gradient-to-br ${X.gradient} flex items-center justify-center text-5xl`,children:X.emoji})}),le&&a.jsx(te.div,{layoutId:"gameIndicator",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},className:"absolute -bottom-3 left-0 right-0 h-1.5 bg-gradient-to-r from-transparent via-white to-transparent rounded-full shadow-lg"})]},`game-${X.id}-${J}`)})})}),a.jsxs(te.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.5},className:"relative z-20 mt-auto px-12 pb-16 max-w-2xl",children:[a.jsx("h1",{className:"text-6xl font-black text-white mb-4 drop-shadow-2xl",children:nt[Ut].name}),a.jsx("p",{className:"text-xl text-white/90 mb-8 drop-shadow-lg",children:nt[Ut].desc}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(te.button,{onClick:()=>{const X=nt[Ut];X.externalLink?window.location.href=X.externalLink:r(X.id)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-12 py-4 bg-white/90 hover:bg-white text-black rounded-full font-bold text-lg shadow-2xl flex items-center gap-3",children:[a.jsx(yu,{className:"w-6 h-6 fill-black"}),"Play"]}),a.jsx(te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-4 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-full border border-white/30",children:a.jsx("span",{className:"text-2xl",children:""})})]})]},`info-${nt[Ut].id}`)]}),k&&a.jsx(te.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>{if(E){g(!0);return}alert(`  Admin Panel

 'bonne' `)},className:"fixed bottom-6 right-6 z-50 p-4 rounded-full bg-purple-600 hover:bg-purple-700 shadow-lg shadow-purple-500/30",children:a.jsx(wu,{size:24})})]}),w&&a.jsx(jA,{onClose:()=>g(!1),games:nt,onCoversUpdate:async()=>{const X=await By();x(X)},onProfilesUpdate:async()=>{const X=await Wy();_(X)},onIconsUpdate:async()=>{const X=await zy();b(X)}})]});if(n==="pokdeng")return W?a.jsx(LX,{room:W,players:K,currentPlayerId:re,isHost:VM,isLiveMode:o,onStartGame:Q,onDrawCard:_e,onStandCard:Ae,onDealerDraw:be,onDealerStand:G,onShowdown:fe,onNextRound:Ue,onLeave:()=>{l(!1),jl("pokdeng")},onSetDealer:vr}):a.jsx(RX,{onCreateRoom:async X=>await Tl(X,"pokdeng"),onJoinRoom:async(X,J)=>Li(X,J,"pokdeng"),onQuickStart:async X=>{l(!0);const J=await qr(X,!0);if(J){const le=typeof J=="string"?J:J.code;f({playerName:X,roomCode:le,gameType:"pokdeng"})}return J},isLoading:ae,onBack:()=>r("select")});if(n==="undercover"){if(!Sn)return a.jsx(_J,{onCreateRoom:async J=>Tl(J,"undercover"),onJoinRoom:async(J,le)=>Li(J,le,"undercover"),onBack:()=>r("select"),isLoading:Uu});const X=((_b=Ss.find(J=>J.id===Kr))==null?void 0:_b.is_host)||!1;return a.jsx(oZ,{room:Sn,players:Ss,currentPlayerId:Kr,isHost:X,categories:Di,onStartGame:tm,onRestartGame:Oo,onLeave:()=>jl("undercover")})}if(n==="paranoia"){if(!Oi)return a.jsx(dZ,{onCreateRoom:async J=>Tl(J,"paranoia"),onJoinRoom:async(J,le)=>Li(J,le,"paranoia"),onBack:()=>r("select"),isLoading:zu});const X=((Cb=Lo.find(J=>J.id===Yr))==null?void 0:Cb.is_host)||!1;return a.jsx(fZ,{room:Oi,players:Lo,currentPlayerId:Yr,isHost:X,totalQuestions:Es.length,onStartGame:Hu,onStartRound:Gu,onSelectVictim:nm,onRevealQuestion:kl,onSkipQuestion:yr,onLeave:()=>jl("paranoia")})}if(n==="5-sec"){if(!ie)return a.jsx(NZ,{onCreateRoom:async J=>Tl(J,"5-sec"),onJoinRoom:async(J,le)=>Li(J,le,"5-sec"),onBack:()=>r("select"),isLoading:fn});const X=((Nb=Ee.find(J=>J.id===De))==null?void 0:Nb.is_host)||!1;return a.jsx(EZ,{room:ie,players:Ee,currentPlayerId:De,isHost:X,onStartGame:Qr,onStartRound:pn,onFinishAnswering:xr,onVote:LM,onLeave:()=>jl("5-sec")})}return T?a.jsx(jX,{room:T,players:R,currentPlayerId:I,isHost:FM,onStartGame:V,onDrawCard:z,onReshuffle:A,onLeave:()=>jl("kingscup")}):a.jsx(wX,{onCreateRoom:async X=>Tl(X,"kingscup"),onJoinRoom:async(X,J)=>Li(X,J,"kingscup"),onQuickStart:async X=>{const J=await j(X);if(J){const le=typeof J=="string"?J:J.code;f({playerName:X,roomCode:le,gameType:"kingscup"})}return J},isLoading:F,onBack:()=>r("select")})},PZ=()=>{const t=wj();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),a.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})};function AZ(){const[t,e]=p.useState("connected"),[n,r]=p.useState(navigator.onLine),[s,i]=p.useState(null),o=p.useRef(0),l=10,c=p.useRef(null),u=p.useCallback(async()=>{if(document.visibilityState==="visible"&&"wakeLock"in navigator&&!c.current)try{c.current=await navigator.wakeLock.request("screen"),console.log("Wake Lock acquired"),c.current.addEventListener("release",()=>{console.log("Wake Lock released"),c.current=null})}catch(f){f.name!=="NotAllowedError"&&console.log("Wake Lock request failed:",f)}},[]),d=p.useCallback(()=>{c.current&&(c.current.release(),c.current=null)},[]),h=p.useCallback(()=>{if(o.current>=l){console.log("Max reconnection attempts reached"),e("disconnected");return}const f=Math.min(1e3*Math.pow(2,o.current),3e4);console.log(`Reconnecting in ${f}ms (attempt ${o.current+1})`),e("reconnecting"),setTimeout(()=>{try{Et.connect(),Et.isConnected()?(e("connected"),i(new Date),o.current=0,console.log("Reconnected successfully")):(o.current++,h())}catch(m){console.error("Reconnection failed:",m),o.current++,h()}},f)},[]);return p.useEffect(()=>{const f=()=>{console.log("Network is back online"),r(!0),h()},m=()=>{console.log("Network went offline"),r(!1),e("disconnected")};return window.addEventListener("online",f),window.addEventListener("offline",m),()=>{window.removeEventListener("online",f),window.removeEventListener("offline",m)}},[h]),p.useEffect(()=>{const f=async()=>{document.visibilityState==="visible"?(console.log("Page became visible, checking connection..."),await u(),(!n||t==="disconnected")&&h()):(console.log("Page became hidden"),d())};return document.addEventListener("visibilitychange",f),u(),()=>{document.removeEventListener("visibilitychange",f),d()}},[n,t,h,u,d]),p.useEffect(()=>{const f=Et.connect(),m=()=>{console.log("Socket.IO connected"),e("connected"),i(new Date),o.current=0},w=()=>{console.log("Socket.IO disconnected"),e("disconnected")};return f.on("connect",m),f.on("disconnect",w),f.connected&&(e("connected"),i(new Date)),()=>{f.off("connect",m),f.off("disconnect",w)}},[]),p.useEffect(()=>{t==="connected"&&!s&&i(new Date)},[t,s]),{status:t,isOnline:n,reconnect:h,lastConnectedAt:s}}function DZ({showWhenConnected:t=!1}){const{status:e,isOnline:n,reconnect:r}=AZ();if(e==="connected"&&!t)return null;const i=((l,c)=>{if(!c)return{icon:H_,text:"",bgColor:"bg-red-600",textColor:"text-white",showRetry:!0};switch(l){case"reconnecting":return{icon:Lh,text:"...",bgColor:"bg-yellow-500",textColor:"text-black",showRetry:!1,iconClass:"animate-spin"};case"disconnected":return{icon:H_,text:"",bgColor:"bg-red-600",textColor:"text-white",showRetry:!0};case"connected":return{icon:S5,text:"",bgColor:"bg-green-600",textColor:"text-white",showRetry:!1}}})(e,n),o=i.icon;return a.jsx(Ip,{children:a.jsx(te.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},className:`fixed top-0 left-0 right-0 z-50 ${i.bgColor} ${i.textColor} px-4 py-3`,children:a.jsxs("div",{className:"flex items-center justify-center gap-3 max-w-md mx-auto",children:[a.jsx(o,{className:`w-5 h-5 ${i.iconClass||""}`}),a.jsx("span",{className:"font-medium",children:i.text}),i.showRetry&&a.jsxs(D,{size:"sm",variant:"secondary",onClick:r,className:"ml-2 px-3 py-1 h-auto text-sm",children:[a.jsx(Lh,{className:"w-4 h-4 mr-1"}),""]})]})})})}const MZ=new K6,OZ=()=>a.jsx(Q6,{client:MZ,children:a.jsx(M9,{children:a.jsxs(N6,{children:[a.jsx(DZ,{}),a.jsx(a3,{}),a.jsx(V3,{}),a.jsx(MV,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:a.jsxs(PV,{children:[a.jsx(Vv,{path:"/",element:a.jsx(IZ,{})}),a.jsx(Vv,{path:"*",element:a.jsx(PZ,{})})]})})]})})});cZ();Vk(document.getElementById("root")).render(a.jsx(OZ,{}));
